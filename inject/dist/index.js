var dn=Object.create;var rr=Object.defineProperty;var fn=Object.getOwnPropertyDescriptor;var pn=Object.getOwnPropertyNames;var hn=Object.getPrototypeOf,mn=Object.prototype.hasOwnProperty;var vn=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var yn=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of pn(e))!mn.call(r,o)&&o!==t&&rr(r,o,{get:()=>e[o],enumerable:!(n=fn(e,o))||n.enumerable});return r};var gn=(r,e,t)=>(t=r!=null?dn(hn(r)):{},yn(e||!r||!r.__esModule?rr(t,"default",{value:r,enumerable:!0}):t,r));var cn=vn(sn=>{"use strict";var At=class{constructor(e){this.func=e,this.running=!1,this.id=null,this._handler=()=>(this.running=!1,this.id=null,this.func())}start(e){this.running&&clearTimeout(this.id),this.id=setTimeout(this._handler,e),this.running=!0}stop(){this.running&&(clearTimeout(this.id),this.running=!1,this.id=null)}};At.start=(r,e)=>setTimeout(e,r);sn.Timer=At});var Pt=function(r,e){return Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},Pt(r,e)};function R(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Pt(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var et=function(){return et=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},et.apply(this,arguments)};function nr(r,e,t,n){function o(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function s(d){try{l(n.next(d))}catch(v){a(v)}}function c(d){try{l(n.throw(d))}catch(v){a(v)}}function l(d){d.done?i(d.value):o(d.value).then(s,c)}l((n=n.apply(r,e||[])).next())})}function tt(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(d){return c([l,d])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(t=0)),t;)try{if(n=1,o&&(i=l[0]&2?o.return:l[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,l[1])).done)return i;switch(o=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,o=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(r,t)}catch(d){l=[6,d],o=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function J(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function V(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),o,i=[],a;try{for(;(e===void 0||e-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(s){a={error:s}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return i}function F(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))}function ae(r){return this instanceof ae?(this.v=r,this):new ae(r)}function or(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),o,i=[];return o={},s("next"),s("throw"),s("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(g){return function(E){return Promise.resolve(E).then(g,v)}}function s(g,E){n[g]&&(o[g]=function(w){return new Promise(function(A,M){i.push([g,w,A,M])>1||c(g,w)})},E&&(o[g]=E(o[g])))}function c(g,E){try{l(n[g](E))}catch(w){T(i[0][3],w)}}function l(g){g.value instanceof ae?Promise.resolve(g.value.v).then(d,v):T(i[0][2],g)}function d(g){c("next",g)}function v(g){c("throw",g)}function T(g,E){g(E),i.shift(),i.length&&c(i[0][0],i[0][1])}}function ir(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof J=="function"?J(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=r[i]&&function(a){return new Promise(function(s,c){a=r[i](a),o(s,c,a.done,a.value)})}}function o(i,a,s,c){Promise.resolve(c).then(function(l){i({value:l,done:s})},a)}}function S(r){return typeof r=="function"}function rt(r){var e=function(n){Error.call(n),n.stack=new Error().stack},t=r(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var nt=rt(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function se(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}var Y=function(){function r(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var e,t,n,o,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=J(a),c=s.next();!c.done;c=s.next()){var l=c.value;l.remove(this)}}catch(w){e={error:w}}finally{try{c&&!c.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else a.remove(this);var d=this.initialTeardown;if(S(d))try{d()}catch(w){i=w instanceof nt?w.errors:[w]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var T=J(v),g=T.next();!g.done;g=T.next()){var E=g.value;try{ar(E)}catch(w){i=i??[],w instanceof nt?i=F(F([],V(i)),V(w.errors)):i.push(w)}}}catch(w){n={error:w}}finally{try{g&&!g.done&&(o=T.return)&&o.call(T)}finally{if(n)throw n.error}}}if(i)throw new nt(i)}},r.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)ar(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},r.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},r.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},r.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&se(t,e)},r.prototype.remove=function(e){var t=this._finalizers;t&&se(t,e),e instanceof r&&e._removeParent(this)},r.EMPTY=function(){var e=new r;return e.closed=!0,e}(),r}();var Nt=Y.EMPTY;function ot(r){return r instanceof Y||r&&"closed"in r&&S(r.remove)&&S(r.add)&&S(r.unsubscribe)}function ar(r){S(r)?r():r.unsubscribe()}var B={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ce={setTimeout:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var o=Ce.delegate;return o?.setTimeout?o.setTimeout.apply(o,F([r,e],V(t))):setTimeout.apply(void 0,F([r,e],V(t)))},clearTimeout:function(r){var e=Ce.delegate;return(e?.clearTimeout||clearTimeout)(r)},delegate:void 0};function it(r){Ce.setTimeout(function(){var e=B.onUnhandledError;if(e)e(r);else throw r})}function Ue(){}var sr=function(){return Dt("C",void 0,void 0)}();function cr(r){return Dt("E",void 0,r)}function ur(r){return Dt("N",r,void 0)}function Dt(r,e,t){return{kind:r,value:e,error:t}}var ce=null;function je(r){if(B.useDeprecatedSynchronousErrorHandling){var e=!ce;if(e&&(ce={errorThrown:!1,error:null}),r(),e){var t=ce,n=t.errorThrown,o=t.error;if(ce=null,n)throw o}}else r()}function lr(r){B.useDeprecatedSynchronousErrorHandling&&ce&&(ce.errorThrown=!0,ce.error=r)}var ue=function(r){R(e,r);function e(t){var n=r.call(this)||this;return n.isStopped=!1,t?(n.destination=t,ot(t)&&t.add(n)):n.destination=wn,n}return e.create=function(t,n,o){return new le(t,n,o)},e.prototype.next=function(t){this.isStopped?Lt(ur(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?Lt(cr(t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?Lt(sr,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Y);var _n=Function.prototype.bind;function Mt(r,e){return _n.call(r,e)}var bn=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){at(n)}},r.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){at(n)}else at(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){at(t)}},r}(),le=function(r){R(e,r);function e(t,n,o){var i=r.call(this)||this,a;if(S(t)||!t)a={next:t??void 0,error:n??void 0,complete:o??void 0};else{var s;i&&B.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=function(){return i.unsubscribe()},a={next:t.next&&Mt(t.next,s),error:t.error&&Mt(t.error,s),complete:t.complete&&Mt(t.complete,s)}):a=t}return i.destination=new bn(a),i}return e}(ue);function at(r){B.useDeprecatedSynchronousErrorHandling?lr(r):it(r)}function xn(r){throw r}function Lt(r,e){var t=B.onStoppedNotification;t&&Ce.setTimeout(function(){return t(r,e)})}var wn={closed:!0,next:Ue,error:xn,complete:Ue};var Ie=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function te(r){return r}function dr(r){return r.length===0?te:r.length===1?r[0]:function(t){return r.reduce(function(n,o){return o(n)},t)}}var O=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var o=this,i=kn(e)?e:new le(e,t,n);return je(function(){var a=o,s=a.operator,c=a.source;i.add(s?s.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var n=this;return t=fr(t),new t(function(o,i){var a=new le({next:function(s){try{e(s)}catch(c){i(c),a.unsubscribe()}},error:i,complete:o});n.subscribe(a)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[Ie]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return dr(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=fr(e),new e(function(n,o){var i;t.subscribe(function(a){return i=a},function(a){return o(a)},function(){return n(i)})})},r.create=function(e){return new r(e)},r}();function fr(r){var e;return(e=r??B.Promise)!==null&&e!==void 0?e:Promise}function Sn(r){return r&&S(r.next)&&S(r.error)&&S(r.complete)}function kn(r){return r&&r instanceof ue||Sn(r)&&ot(r)}function Tn(r){return S(r?.lift)}function C(r){return function(e){if(Tn(e))return e.lift(function(t){try{return r(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(r,e,t,n,o){return new En(r,e,t,n,o)}var En=function(r){R(e,r);function e(t,n,o,i,a,s){var c=r.call(this,t)||this;return c.onFinalize=a,c.shouldUnsubscribe=s,c._next=n?function(l){try{n(l)}catch(d){t.error(d)}}:r.prototype._next,c._error=i?function(l){try{i(l)}catch(d){t.error(d)}finally{this.unsubscribe()}}:r.prototype._error,c._complete=o?function(){try{o()}catch(l){t.error(l)}finally{this.unsubscribe()}}:r.prototype._complete,c}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(ue);var pr=rt(function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}});var z=function(r){R(e,r);function e(){var t=r.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var n=new st(this,this);return n.operator=t,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new pr},e.prototype.next=function(t){var n=this;je(function(){var o,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=J(n.currentObservers),s=a.next();!s.done;s=a.next()){var c=s.value;c.next(t)}}catch(l){o={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}}})},e.prototype.error=function(t){var n=this;je(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var o=n.observers;o.length;)o.shift().error(t)}})},e.prototype.complete=function(){var t=this;je(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var n=this,o=this,i=o.hasError,a=o.isStopped,s=o.observers;return i||a?Nt:(this.currentObservers=null,s.push(t),new Y(function(){n.currentObservers=null,se(s,t)}))},e.prototype._checkFinalizedStatuses=function(t){var n=this,o=n.hasError,i=n.thrownError,a=n.isStopped;o?t.error(i):a&&t.complete()},e.prototype.asObservable=function(){var t=new O;return t.source=this,t},e.create=function(t,n){return new st(t,n)},e}(O);var st=function(r){R(e,r);function e(t,n){var o=r.call(this)||this;return o.destination=t,o.source=n,o}return e.prototype.next=function(t){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,t)},e.prototype.error=function(t){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,t)},e.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},e.prototype._subscribe=function(t){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&o!==void 0?o:Nt},e}(z);var We={now:function(){return(We.delegate||Date).now()},delegate:void 0};var ct=function(r){R(e,r);function e(t,n,o){t===void 0&&(t=1/0),n===void 0&&(n=1/0),o===void 0&&(o=We);var i=r.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return e.prototype.next=function(t){var n=this,o=n.isStopped,i=n._buffer,a=n._infiniteTimeWindow,s=n._timestampProvider,c=n._windowTime;o||(i.push(t),!a&&i.push(s.now()+c)),this._trimBuffer(),r.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(t),o=this,i=o._infiniteTimeWindow,a=o._buffer,s=a.slice(),c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),n},e.prototype._trimBuffer=function(){var t=this,n=t._bufferSize,o=t._timestampProvider,i=t._buffer,a=t._infiniteTimeWindow,s=(a?1:2)*n;if(n<1/0&&s<i.length&&i.splice(0,i.length-s),!a){for(var c=o.now(),l=0,d=1;d<i.length&&i[d]<=c;d+=2)l=d;l&&i.splice(0,l+1)}},e}(z);var hr=function(r){R(e,r);function e(t,n){return r.call(this)||this}return e.prototype.schedule=function(t,n){return n===void 0&&(n=0),this},e}(Y);var Ve={setInterval:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var o=Ve.delegate;return o?.setInterval?o.setInterval.apply(o,F([r,e],V(t))):setInterval.apply(void 0,F([r,e],V(t)))},clearInterval:function(r){var e=Ve.delegate;return(e?.clearInterval||clearInterval)(r)},delegate:void 0};var mr=function(r){R(e,r);function e(t,n){var o=r.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.pending=!1,o}return e.prototype.schedule=function(t,n){var o;if(n===void 0&&(n=0),this.closed)return this;this.state=t;var i=this.id,a=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(a,i,n)),this.pending=!0,this.delay=n,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(a,this.id,n),this},e.prototype.requestAsyncId=function(t,n,o){return o===void 0&&(o=0),Ve.setInterval(t.flush.bind(t,this),o)},e.prototype.recycleAsyncId=function(t,n,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return n;n!=null&&Ve.clearInterval(n)},e.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(t,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,n){var o=!1,i;try{this.work(t)}catch(a){o=!0,i=a||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,n=t.id,o=t.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,se(i,this),n!=null&&(this.id=this.recycleAsyncId(o,n,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(hr);var Zt=function(){function r(e,t){t===void 0&&(t=r.now),this.schedulerActionCtor=e,this.now=t}return r.prototype.schedule=function(e,t,n){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},r.now=We.now,r}();var vr=function(r){R(e,r);function e(t,n){n===void 0&&(n=Zt.now);var o=r.call(this,t,n)||this;return o.actions=[],o._active=!1,o}return e.prototype.flush=function(t){var n=this.actions;if(this._active){n.push(t);return}var o;this._active=!0;do if(o=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,o){for(;t=n.shift();)t.unsubscribe();throw o}},e}(Zt);var On=new vr(mr),yr=On;var gr=new O(function(r){return r.complete()});function ut(r){return r&&S(r.schedule)}function _r(r){return r[r.length-1]}function br(r){return ut(_r(r))?r.pop():void 0}function xr(r,e){return typeof _r(r)=="number"?r.pop():e}var lt=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function dt(r){return S(r?.then)}function ft(r){return S(r[Ie])}function pt(r){return Symbol.asyncIterator&&S(r?.[Symbol.asyncIterator])}function ht(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Cn(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mt=Cn();function vt(r){return S(r?.[mt])}function yt(r){return or(this,arguments,function(){var t,n,o,i;return tt(this,function(a){switch(a.label){case 0:t=r.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,ae(t.read())];case 3:return n=a.sent(),o=n.value,i=n.done,i?[4,ae(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,ae(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function gt(r){return S(r?.getReader)}function I(r){if(r instanceof O)return r;if(r!=null){if(ft(r))return jn(r);if(lt(r))return In(r);if(dt(r))return Rn(r);if(pt(r))return wr(r);if(vt(r))return An(r);if(gt(r))return Pn(r)}throw ht(r)}function jn(r){return new O(function(e){var t=r[Ie]();if(S(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function In(r){return new O(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}function Rn(r){return new O(function(e){r.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,it)})}function An(r){return new O(function(e){var t,n;try{for(var o=J(r),i=o.next();!i.done;i=o.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}e.complete()})}function wr(r){return new O(function(e){Nn(r,e).catch(function(t){return e.error(t)})})}function Pn(r){return wr(yt(r))}function Nn(r,e){var t,n,o,i;return nr(this,void 0,void 0,function(){var a,s;return tt(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),t=ir(r),c.label=1;case 1:return[4,t.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(a=n.value,e.next(a),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=t.return)?[4,i.call(t)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function $(r,e,t,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var i=e.schedule(function(){t(),o?r.add(this.schedule(null,n)):this.unsubscribe()},n);if(r.add(i),!o)return i}function _t(r,e){return e===void 0&&(e=0),C(function(t,n){t.subscribe(j(n,function(o){return $(n,r,function(){return n.next(o)},e)},function(){return $(n,r,function(){return n.complete()},e)},function(o){return $(n,r,function(){return n.error(o)},e)}))})}function bt(r,e){return e===void 0&&(e=0),C(function(t,n){n.add(r.schedule(function(){return t.subscribe(n)},e))})}function Sr(r,e){return I(r).pipe(bt(e),_t(e))}function kr(r,e){return I(r).pipe(bt(e),_t(e))}function Tr(r,e){return new O(function(t){var n=0;return e.schedule(function(){n===r.length?t.complete():(t.next(r[n++]),t.closed||this.schedule())})})}function Er(r,e){return new O(function(t){var n;return $(t,e,function(){n=r[mt](),$(t,e,function(){var o,i,a;try{o=n.next(),i=o.value,a=o.done}catch(s){t.error(s);return}a?t.complete():t.next(i)},0,!0)}),function(){return S(n?.return)&&n.return()}})}function xt(r,e){if(!r)throw new Error("Iterable cannot be null");return new O(function(t){$(t,e,function(){var n=r[Symbol.asyncIterator]();$(t,e,function(){n.next().then(function(o){o.done?t.complete():t.next(o.value)})},0,!0)})})}function Or(r,e){return xt(yt(r),e)}function Cr(r,e){if(r!=null){if(ft(r))return Sr(r,e);if(lt(r))return Tr(r,e);if(dt(r))return kr(r,e);if(pt(r))return xt(r,e);if(vt(r))return Er(r,e);if(gt(r))return Or(r,e)}throw ht(r)}function jr(r,e){return e?Cr(r,e):I(r)}function Ir(r){return r instanceof Date&&!isNaN(r)}function K(r,e){return C(function(t,n){var o=0;t.subscribe(j(n,function(i){n.next(r.call(e,i,o++))}))})}function Rr(r,e,t,n,o,i,a,s){var c=[],l=0,d=0,v=!1,T=function(){v&&!c.length&&!l&&e.complete()},g=function(w){return l<n?E(w):c.push(w)},E=function(w){i&&e.next(w),l++;var A=!1;I(t(w,d++)).subscribe(j(e,function(M){o?.(M),i?g(M):e.next(M)},function(){A=!0},void 0,function(){if(A)try{l--;for(var M=function(){var Oe=c.shift();a?$(e,a,function(){return E(Oe)}):E(Oe)};c.length&&l<n;)M();T()}catch(Oe){e.error(Oe)}}))};return r.subscribe(j(e,g,function(){v=!0,T()})),function(){s?.()}}function $t(r,e,t){return t===void 0&&(t=1/0),S(e)?$t(function(n,o){return K(function(i,a){return e(n,i,o,a)})(I(r(n,o)))},t):(typeof e=="number"&&(t=e),C(function(n,o){return Rr(n,o,r,t)}))}function Ar(r){return r===void 0&&(r=1/0),$t(te,r)}function Pr(r,e,t){r===void 0&&(r=0),t===void 0&&(t=yr);var n=-1;return e!=null&&(ut(e)?t=e:n=e),new O(function(o){var i=Ir(r)?+r-t.now():r;i<0&&(i=0);var a=0;return t.schedule(function(){o.closed||(o.next(a++),0<=n?this.schedule(void 0,n):o.complete())},i)})}function wt(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=br(r),n=xr(r,1/0),o=r;return o.length?o.length===1?I(o[0]):Ar(n)(jr(o,t)):gr}function de(r,e){return C(function(t,n){var o=0;t.subscribe(j(n,function(i){return r.call(e,i,o++)&&n.next(i)}))})}function Fe(){return C(function(r,e){r.subscribe(j(e,Ue))})}function Ut(r){r===void 0&&(r=1/0);var e;r&&typeof r=="object"?e=r:e={count:r};var t=e.count,n=t===void 0?1/0:t,o=e.delay,i=e.resetOnSuccess,a=i===void 0?!1:i;return n<=0?te:C(function(s,c){var l=0,d,v=function(){var T=!1;d=s.subscribe(j(c,function(g){a&&(l=0),c.next(g)},void 0,function(g){if(l++<n){var E=function(){d?(d.unsubscribe(),d=null,v()):T=!0};if(o!=null){var w=typeof o=="number"?Pr(o):I(o(g,l)),A=j(c,function(){A.unsubscribe(),E()},function(){c.complete()});w.subscribe(A)}else E()}else c.error(g)})),T&&(d.unsubscribe(),d=null,v())};v()})}function Vt(r){r===void 0&&(r={});var e=r.connector,t=e===void 0?function(){return new z}:e,n=r.resetOnError,o=n===void 0?!0:n,i=r.resetOnComplete,a=i===void 0?!0:i,s=r.resetOnRefCountZero,c=s===void 0?!0:s;return function(l){var d,v,T,g=0,E=!1,w=!1,A=function(){v?.unsubscribe(),v=void 0},M=function(){A(),d=T=void 0,E=w=!1},Oe=function(){var $e=d;M(),$e?.unsubscribe()};return C(function($e,tr){g++,!w&&!E&&A();var Xe=T=T??t();tr.add(function(){g--,g===0&&!w&&!E&&(v=Wt(Oe,c))}),Xe.subscribe(tr),!d&&g>0&&(d=new le({next:function(Qe){return Xe.next(Qe)},error:function(Qe){w=!0,A(),v=Wt(M,o,Qe),Xe.error(Qe)},complete:function(){E=!0,A(),v=Wt(M,a),Xe.complete()}}),I($e).subscribe(d))})(l)}}function Wt(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(e===!0){r();return}if(e!==!1){var o=new le({next:function(){o.unsubscribe(),r()}});return I(e.apply(void 0,F([],V(t)))).subscribe(o)}}function Ft(r,e){return C(function(t,n){var o=null,i=0,a=!1,s=function(){return a&&!o&&n.complete()};t.subscribe(j(n,function(c){o?.unsubscribe();var l=0,d=i++;I(r(c,d)).subscribe(o=j(n,function(v){return n.next(e?e(c,v,d,l++):v)},function(){o=null,s()}))},function(){a=!0,s()}))})}function Be(r,e,t){var n=S(r)||e||t?{next:r,error:e,complete:t}:r;return n?C(function(o,i){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var s=!0;o.subscribe(j(i,function(c){var l;(l=n.next)===null||l===void 0||l.call(n,c),i.next(c)},function(){var c;s=!1,(c=n.complete)===null||c===void 0||c.call(n),i.complete()},function(c){var l;s=!1,(l=n.error)===null||l===void 0||l.call(n,c),i.error(c)},function(){var c,l;s&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):te}var Dn={url:"",deserializer:function(r){return JSON.parse(r.data)},serializer:function(r){return JSON.stringify(r)}},Mn="WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }",Nr=function(r){R(e,r);function e(t,n){var o=r.call(this)||this;if(o._socket=null,t instanceof O)o.destination=n,o.source=t;else{var i=o._config=et({},Dn);if(o._output=new z,typeof t=="string")i.url=t;else for(var a in t)t.hasOwnProperty(a)&&(i[a]=t[a]);if(!i.WebSocketCtor&&WebSocket)i.WebSocketCtor=WebSocket;else if(!i.WebSocketCtor)throw new Error("no WebSocket constructor can be found");o.destination=new ct}return o}return e.prototype.lift=function(t){var n=new e(this._config,this.destination);return n.operator=t,n.source=this,n},e.prototype._resetState=function(){this._socket=null,this.source||(this.destination=new ct),this._output=new z},e.prototype.multiplex=function(t,n,o){var i=this;return new O(function(a){try{i.next(t())}catch(c){a.error(c)}var s=i.subscribe({next:function(c){try{o(c)&&a.next(c)}catch(l){a.error(l)}},error:function(c){return a.error(c)},complete:function(){return a.complete()}});return function(){try{i.next(n())}catch(c){a.error(c)}s.unsubscribe()}})},e.prototype._connectSocket=function(){var t=this,n=this._config,o=n.WebSocketCtor,i=n.protocol,a=n.url,s=n.binaryType,c=this._output,l=null;try{l=i?new o(a,i):new o(a),this._socket=l,s&&(this._socket.binaryType=s)}catch(v){c.error(v);return}var d=new Y(function(){t._socket=null,l&&l.readyState===1&&l.close()});l.onopen=function(v){var T=t._socket;if(!T){l.close(),t._resetState();return}var g=t._config.openObserver;g&&g.next(v);var E=t.destination;t.destination=ue.create(function(w){if(l.readyState===1)try{var A=t._config.serializer;l.send(A(w))}catch(M){t.destination.error(M)}},function(w){var A=t._config.closingObserver;A&&A.next(void 0),w&&w.code?l.close(w.code,w.reason):c.error(new TypeError(Mn)),t._resetState()},function(){var w=t._config.closingObserver;w&&w.next(void 0),l.close(),t._resetState()}),E&&E instanceof ct&&d.add(E.subscribe(t.destination))},l.onerror=function(v){t._resetState(),c.error(v)},l.onclose=function(v){l===t._socket&&t._resetState();var T=t._config.closeObserver;T&&T.next(v),v.wasClean?c.complete():c.error(v)},l.onmessage=function(v){try{var T=t._config.deserializer;c.next(T(v))}catch(g){c.error(g)}}},e.prototype._subscribe=function(t){var n=this,o=this.source;return o?o.subscribe(t):(this._socket||this._connectSocket(),this._output.subscribe(t),t.add(function(){var i=n._socket;n._output.observers.length===0&&(i&&(i.readyState===1||i.readyState===0)&&i.close(),n._resetState())}),t)},e.prototype.unsubscribe=function(){var t=this._socket;t&&(t.readyState===1||t.readyState===0)&&t.close(),this._resetState(),r.prototype.unsubscribe.call(this)},e}(st);function Bt(r){return new Nr(r)}function Dr(){return{create:()=>{let r=new URL(window.location.href);return r.protocol=r.protocol==="http:"?"ws":"wss",r.pathname="/__bs_ws",Bt(r.origin+r.pathname).pipe(Ut({delay:5e3}))}}}var Mr={debug(...r){},error(...r){},info(...r){},trace(...r){}},zt={name:"console",globalSetup:r=>{let e=new z;return[e,{debug:function(...n){e.next({level:"debug",args:n})},info:function(...n){e.next({level:"info",args:n})},trace:function(...n){e.next({level:"trace",args:n})},error:function(...n){e.next({level:"error",args:n})}}]},resetSink:(r,e,t)=>r.pipe(Be(n=>{let o=["trace","debug","info","error"],i=o.indexOf(n.level),a=o.indexOf(t.log_level);i>=a&&console.log(`[${n.level}]`,...n.args)}),Fe())};var k;(function(r){r.assertEqual=o=>o;function e(o){}r.assertIs=e;function t(o){throw new Error}r.assertNever=t,r.arrayToEnum=o=>{let i={};for(let a of o)i[a]=a;return i},r.getValidEnumValues=o=>{let i=r.objectKeys(o).filter(s=>typeof o[o[s]]!="number"),a={};for(let s of i)a[s]=o[s];return r.objectValues(a)},r.objectValues=o=>r.objectKeys(o).map(function(i){return o[i]}),r.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let i=[];for(let a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.push(a);return i},r.find=(o,i)=>{for(let a of o)if(i(a))return a},r.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,i=" | "){return o.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}r.joinValues=n,r.jsonStringifyReplacer=(o,i)=>typeof i=="bigint"?i.toString():i})(k||(k={}));var Yt;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Yt||(Yt={}));var h=k.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),re=r=>{switch(typeof r){case"undefined":return h.undefined;case"string":return h.string;case"number":return isNaN(r)?h.nan:h.number;case"boolean":return h.boolean;case"function":return h.function;case"bigint":return h.bigint;case"symbol":return h.symbol;case"object":return Array.isArray(r)?h.array:r===null?h.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?h.promise:typeof Map<"u"&&r instanceof Map?h.map:typeof Set<"u"&&r instanceof Set?h.set:typeof Date<"u"&&r instanceof Date?h.date:h.object;default:return h.unknown}},f=k.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ln=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),L=class r extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(i){return i.message},n={_errors:[]},o=i=>{for(let a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)n._errors.push(t(a));else{let s=n,c=0;for(;c<a.path.length;){let l=a.path[c];c===a.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(t(a))):s[l]=s[l]||{_errors:[]},s=s[l],c++}}};return o(this),n}static assert(e){if(!(e instanceof r))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,k.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let o of this.issues)o.path.length>0?(t[o.path[0]]=t[o.path[0]]||[],t[o.path[0]].push(e(o))):n.push(e(o));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};L.create=r=>new L(r);var Pe=(r,e)=>{let t;switch(r.code){case f.invalid_type:r.received===h.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case f.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,k.jsonStringifyReplacer)}`;break;case f.unrecognized_keys:t=`Unrecognized key(s) in object: ${k.joinValues(r.keys,", ")}`;break;case f.invalid_union:t="Invalid input";break;case f.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${k.joinValues(r.options)}`;break;case f.invalid_enum_value:t=`Invalid enum value. Expected ${k.joinValues(r.options)}, received '${r.received}'`;break;case f.invalid_arguments:t="Invalid function arguments";break;case f.invalid_return_type:t="Invalid function return type";break;case f.invalid_date:t="Invalid date";break;case f.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:k.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case f.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case f.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case f.custom:t="Invalid input";break;case f.invalid_intersection_types:t="Intersection results could not be merged";break;case f.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case f.not_finite:t="Number must be finite";break;default:t=e.defaultError,k.assertNever(r)}return{message:t}},$r=Pe;function Zn(r){$r=r}function St(){return $r}var kt=r=>{let{data:e,path:t,errorMaps:n,issueData:o}=r,i=[...t,...o.path||[]],a={...o,path:i};if(o.message!==void 0)return{...o,path:i,message:o.message};let s="",c=n.filter(l=>!!l).slice().reverse();for(let l of c)s=l(a,{data:e,defaultError:s}).message;return{...o,path:i,message:s}},$n=[];function p(r,e){let t=St(),n=kt({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===Pe?void 0:Pe].filter(o=>!!o)});r.common.issues.push(n)}var P=class r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let o of t){if(o.status==="aborted")return _;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let o of t){let i=await o.key,a=await o.value;n.push({key:i,value:a})}return r.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let o of t){let{key:i,value:a}=o;if(i.status==="aborted"||a.status==="aborted")return _;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||o.alwaysSet)&&(n[i.value]=a.value)}return{status:e.value,value:n}}},_=Object.freeze({status:"aborted"}),Ae=r=>({status:"dirty",value:r}),N=r=>({status:"valid",value:r}),Ht=r=>r.status==="aborted",Gt=r=>r.status==="dirty",Ye=r=>r.status==="valid",He=r=>typeof Promise<"u"&&r instanceof Promise;function Tt(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function Ur(r,e,t,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(r,t):o?o.value=t:e.set(r,t),t}var m;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(m||(m={}));var ze,qe,W=class{constructor(e,t,n,o){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Lr=(r,e)=>{if(Ye(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new L(r.common.issues);return this._error=t,this._error}}};function b(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:o}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(a,s)=>{var c,l;let{message:d}=r;return a.code==="invalid_enum_value"?{message:d??s.defaultError}:typeof s.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:s.defaultError}:a.code!=="invalid_type"?{message:s.defaultError}:{message:(l=d??t)!==null&&l!==void 0?l:s.defaultError}},description:o}}var x=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return re(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:re(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new P,ctx:{common:e.parent.common,data:e.data,parsedType:re(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(He(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let o={common:{issues:[],async:(n=t?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:re(e)},i=this._parseSync({data:e,path:o.path,parent:o});return Lr(o,i)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:re(e)},o=this._parse({data:e,path:n.path,parent:n}),i=await(He(o)?o:Promise.resolve(o));return Lr(n,i)}refine(e,t){let n=o=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(o):t;return this._refinement((o,i)=>{let a=e(o),s=()=>i.addIssue({code:f.custom,...n(o)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(s(),!1)):a?!0:(s(),!1)})}refinement(e,t){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof t=="function"?t(n,o):t),!1))}_refinement(e){return new Z({schema:this,typeName:y.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return U.create(this,this._def)}nullable(){return G.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ee.create(this,this._def)}promise(){return ie.create(this,this._def)}or(e){return ge.create([this,e],this._def)}and(e){return _e.create(this,e,this._def)}transform(e){return new Z({...b(this._def),schema:this,typeName:y.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new ke({...b(this._def),innerType:this,defaultValue:t,typeName:y.ZodDefault})}brand(){return new Ge({typeName:y.ZodBranded,type:this,...b(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new Te({...b(this._def),innerType:this,catchValue:t,typeName:y.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Je.create(this,e)}readonly(){return Ee.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Un=/^c[^\s-]{8,}$/i,Wn=/^[0-9a-z]+$/,Vn=/^[0-9A-HJKMNP-TV-Z]{26}$/,Fn=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Bn=/^[a-z0-9_-]{21}$/i,zn=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qn=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Yn="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",qt,Hn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gn=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Jn=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Wr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Kn=new RegExp(`^${Wr}$`);function Vr(r){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Xn(r){return new RegExp(`^${Vr(r)}$`)}function Fr(r){let e=`${Wr}T${Vr(r)}`,t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function Qn(r,e){return!!((e==="v4"||!e)&&Hn.test(r)||(e==="v6"||!e)&&Gn.test(r))}var ne=class r extends x{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==h.string){let i=this._getOrReturnCtx(e);return p(i,{code:f.invalid_type,expected:h.string,received:i.parsedType}),_}let n=new P,o;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(o=this._getOrReturnCtx(e,o),p(o,{code:f.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(o=this._getOrReturnCtx(e,o),p(o,{code:f.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let a=e.data.length>i.value,s=e.data.length<i.value;(a||s)&&(o=this._getOrReturnCtx(e,o),a?p(o,{code:f.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&p(o,{code:f.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")qn.test(e.data)||(o=this._getOrReturnCtx(e,o),p(o,{validation:"email",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")qt||(qt=new RegExp(Yn,"u")),qt.test(e.data)||(o=this._getOrReturnCtx(e,o),p(o,{validation:"emoji",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Fn.test(e.data)||(o=this._getOrReturnCtx(e,o),p(o,{validation:"uuid",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Bn.test(e.data)||(o=this._getOrReturnCtx(e,o),p(o,{validation:"nanoid",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Un.test(e.data)||(o=this._getOrReturnCtx(e,o),p(o,{validation:"cuid",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Wn.test(e.data)||(o=this._getOrReturnCtx(e,o),p(o,{validation:"cuid2",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Vn.test(e.data)||(o=this._getOrReturnCtx(e,o),p(o,{validation:"ulid",code:f.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),p(o,{validation:"url",code:f.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),p(o,{validation:"regex",code:f.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(o=this._getOrReturnCtx(e,o),p(o,{code:f.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(o=this._getOrReturnCtx(e,o),p(o,{code:f.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(o=this._getOrReturnCtx(e,o),p(o,{code:f.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Fr(i).test(e.data)||(o=this._getOrReturnCtx(e,o),p(o,{code:f.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Kn.test(e.data)||(o=this._getOrReturnCtx(e,o),p(o,{code:f.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Xn(i).test(e.data)||(o=this._getOrReturnCtx(e,o),p(o,{code:f.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?zn.test(e.data)||(o=this._getOrReturnCtx(e,o),p(o,{validation:"duration",code:f.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Qn(e.data,i.version)||(o=this._getOrReturnCtx(e,o),p(o,{validation:"ip",code:f.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Jn.test(e.data)||(o=this._getOrReturnCtx(e,o),p(o,{validation:"base64",code:f.invalid_string,message:i.message}),n.dirty()):k.assertNever(i);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(o=>e.test(o),{validation:t,code:f.invalid_string,...m.errToObj(n)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...m.errToObj(e)})}url(e){return this._addCheck({kind:"url",...m.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...m.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...m.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...m.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...m.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...m.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...m.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...m.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...m.errToObj(e)})}datetime(e){var t,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...m.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...m.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...m.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...m.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...m.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...m.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...m.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...m.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...m.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...m.errToObj(t)})}nonempty(e){return this.min(1,m.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};ne.create=r=>{var e;return new ne({checks:[],typeName:y.ZodString,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...b(r)})};function eo(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=t>n?t:n,i=parseInt(r.toFixed(o).replace(".","")),a=parseInt(e.toFixed(o).replace(".",""));return i%a/Math.pow(10,o)}var fe=class r extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==h.number){let i=this._getOrReturnCtx(e);return p(i,{code:f.invalid_type,expected:h.number,received:i.parsedType}),_}let n,o=new P;for(let i of this._def.checks)i.kind==="int"?k.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:f.invalid_type,expected:"integer",received:"float",message:i.message}),o.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),p(n,{code:f.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),p(n,{code:f.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),o.dirty()):i.kind==="multipleOf"?eo(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),p(n,{code:f.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:f.not_finite,message:i.message}),o.dirty()):k.assertNever(i);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,m.toString(t))}gt(e,t){return this.setLimit("min",e,!1,m.toString(t))}lte(e,t){return this.setLimit("max",e,!0,m.toString(t))}lt(e,t){return this.setLimit("max",e,!1,m.toString(t))}setLimit(e,t,n,o){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:m.toString(o)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:m.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:m.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:m.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:m.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:m.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:m.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:m.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:m.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:m.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&k.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};fe.create=r=>new fe({checks:[],typeName:y.ZodNumber,coerce:r?.coerce||!1,...b(r)});var pe=class r extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==h.bigint){let i=this._getOrReturnCtx(e);return p(i,{code:f.invalid_type,expected:h.bigint,received:i.parsedType}),_}let n,o=new P;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),p(n,{code:f.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),p(n,{code:f.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),o.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),p(n,{code:f.not_multiple_of,multipleOf:i.value,message:i.message}),o.dirty()):k.assertNever(i);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,m.toString(t))}gt(e,t){return this.setLimit("min",e,!1,m.toString(t))}lte(e,t){return this.setLimit("max",e,!0,m.toString(t))}lt(e,t){return this.setLimit("max",e,!1,m.toString(t))}setLimit(e,t,n,o){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:m.toString(o)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:m.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:m.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:m.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:m.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:m.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};pe.create=r=>{var e;return new pe({checks:[],typeName:y.ZodBigInt,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...b(r)})};var he=class extends x{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==h.boolean){let n=this._getOrReturnCtx(e);return p(n,{code:f.invalid_type,expected:h.boolean,received:n.parsedType}),_}return N(e.data)}};he.create=r=>new he({typeName:y.ZodBoolean,coerce:r?.coerce||!1,...b(r)});var me=class r extends x{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==h.date){let i=this._getOrReturnCtx(e);return p(i,{code:f.invalid_type,expected:h.date,received:i.parsedType}),_}if(isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return p(i,{code:f.invalid_date}),_}let n=new P,o;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(o=this._getOrReturnCtx(e,o),p(o,{code:f.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(o=this._getOrReturnCtx(e,o),p(o,{code:f.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):k.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:m.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:m.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};me.create=r=>new me({checks:[],coerce:r?.coerce||!1,typeName:y.ZodDate,...b(r)});var Ne=class extends x{_parse(e){if(this._getType(e)!==h.symbol){let n=this._getOrReturnCtx(e);return p(n,{code:f.invalid_type,expected:h.symbol,received:n.parsedType}),_}return N(e.data)}};Ne.create=r=>new Ne({typeName:y.ZodSymbol,...b(r)});var ve=class extends x{_parse(e){if(this._getType(e)!==h.undefined){let n=this._getOrReturnCtx(e);return p(n,{code:f.invalid_type,expected:h.undefined,received:n.parsedType}),_}return N(e.data)}};ve.create=r=>new ve({typeName:y.ZodUndefined,...b(r)});var ye=class extends x{_parse(e){if(this._getType(e)!==h.null){let n=this._getOrReturnCtx(e);return p(n,{code:f.invalid_type,expected:h.null,received:n.parsedType}),_}return N(e.data)}};ye.create=r=>new ye({typeName:y.ZodNull,...b(r)});var oe=class extends x{constructor(){super(...arguments),this._any=!0}_parse(e){return N(e.data)}};oe.create=r=>new oe({typeName:y.ZodAny,...b(r)});var Q=class extends x{constructor(){super(...arguments),this._unknown=!0}_parse(e){return N(e.data)}};Q.create=r=>new Q({typeName:y.ZodUnknown,...b(r)});var q=class extends x{_parse(e){let t=this._getOrReturnCtx(e);return p(t,{code:f.invalid_type,expected:h.never,received:t.parsedType}),_}};q.create=r=>new q({typeName:y.ZodNever,...b(r)});var De=class extends x{_parse(e){if(this._getType(e)!==h.undefined){let n=this._getOrReturnCtx(e);return p(n,{code:f.invalid_type,expected:h.void,received:n.parsedType}),_}return N(e.data)}};De.create=r=>new De({typeName:y.ZodVoid,...b(r)});var ee=class r extends x{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),o=this._def;if(t.parsedType!==h.array)return p(t,{code:f.invalid_type,expected:h.array,received:t.parsedType}),_;if(o.exactLength!==null){let a=t.data.length>o.exactLength.value,s=t.data.length<o.exactLength.value;(a||s)&&(p(t,{code:a?f.too_big:f.too_small,minimum:s?o.exactLength.value:void 0,maximum:a?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&t.data.length<o.minLength.value&&(p(t,{code:f.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&t.data.length>o.maxLength.value&&(p(t,{code:f.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((a,s)=>o.type._parseAsync(new W(t,a,t.path,s)))).then(a=>P.mergeArray(n,a));let i=[...t.data].map((a,s)=>o.type._parseSync(new W(t,a,t.path,s)));return P.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:m.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:m.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:m.toString(t)}})}nonempty(e){return this.min(1,e)}};ee.create=(r,e)=>new ee({type:r,minLength:null,maxLength:null,exactLength:null,typeName:y.ZodArray,...b(e)});function Re(r){if(r instanceof D){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=U.create(Re(n))}return new D({...r._def,shape:()=>e})}else return r instanceof ee?new ee({...r._def,type:Re(r.element)}):r instanceof U?U.create(Re(r.unwrap())):r instanceof G?G.create(Re(r.unwrap())):r instanceof H?H.create(r.items.map(e=>Re(e))):r}var D=class r extends x{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=k.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==h.object){let l=this._getOrReturnCtx(e);return p(l,{code:f.invalid_type,expected:h.object,received:l.parsedType}),_}let{status:n,ctx:o}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof q&&this._def.unknownKeys==="strip"))for(let l in o.data)a.includes(l)||s.push(l);let c=[];for(let l of a){let d=i[l],v=o.data[l];c.push({key:{status:"valid",value:l},value:d._parse(new W(o,v,o.path,l)),alwaysSet:l in o.data})}if(this._def.catchall instanceof q){let l=this._def.unknownKeys;if(l==="passthrough")for(let d of s)c.push({key:{status:"valid",value:d},value:{status:"valid",value:o.data[d]}});else if(l==="strict")s.length>0&&(p(o,{code:f.unrecognized_keys,keys:s}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let d of s){let v=o.data[d];c.push({key:{status:"valid",value:d},value:l._parse(new W(o,v,o.path,d)),alwaysSet:d in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let l=[];for(let d of c){let v=await d.key,T=await d.value;l.push({key:v,value:T,alwaysSet:d.alwaysSet})}return l}).then(l=>P.mergeObjectSync(n,l)):P.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return m.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var o,i,a,s;let c=(a=(i=(o=this._def).errorMap)===null||i===void 0?void 0:i.call(o,t,n).message)!==null&&a!==void 0?a:n.defaultError;return t.code==="unrecognized_keys"?{message:(s=m.errToObj(e).message)!==null&&s!==void 0?s:c}:{message:c}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:y.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};return k.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}omit(e){let t={};return k.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}deepPartial(){return Re(this)}partial(e){let t={};return k.objectKeys(this.shape).forEach(n=>{let o=this.shape[n];e&&!e[n]?t[n]=o:t[n]=o.optional()}),new r({...this._def,shape:()=>t})}required(e){let t={};return k.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof U;)i=i._def.innerType;t[n]=i}}),new r({...this._def,shape:()=>t})}keyof(){return Br(k.objectKeys(this.shape))}};D.create=(r,e)=>new D({shape:()=>r,unknownKeys:"strip",catchall:q.create(),typeName:y.ZodObject,...b(e)});D.strictCreate=(r,e)=>new D({shape:()=>r,unknownKeys:"strict",catchall:q.create(),typeName:y.ZodObject,...b(e)});D.lazycreate=(r,e)=>new D({shape:r,unknownKeys:"strip",catchall:q.create(),typeName:y.ZodObject,...b(e)});var ge=class extends x{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function o(i){for(let s of i)if(s.result.status==="valid")return s.result;for(let s of i)if(s.result.status==="dirty")return t.common.issues.push(...s.ctx.common.issues),s.result;let a=i.map(s=>new L(s.ctx.common.issues));return p(t,{code:f.invalid_union,unionErrors:a}),_}if(t.common.async)return Promise.all(n.map(async i=>{let a={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}})).then(o);{let i,a=[];for(let c of n){let l={...t,common:{...t.common,issues:[]},parent:null},d=c._parseSync({data:t.data,path:t.path,parent:l});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:l}),l.common.issues.length&&a.push(l.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;let s=a.map(c=>new L(c));return p(t,{code:f.invalid_union,unionErrors:s}),_}}get options(){return this._def.options}};ge.create=(r,e)=>new ge({options:r,typeName:y.ZodUnion,...b(e)});var X=r=>r instanceof be?X(r.schema):r instanceof Z?X(r.innerType()):r instanceof xe?[r.value]:r instanceof we?r.options:r instanceof Se?k.objectValues(r.enum):r instanceof ke?X(r._def.innerType):r instanceof ve?[void 0]:r instanceof ye?[null]:r instanceof U?[void 0,...X(r.unwrap())]:r instanceof G?[null,...X(r.unwrap())]:r instanceof Ge||r instanceof Ee?X(r.unwrap()):r instanceof Te?X(r._def.innerType):[],Et=class r extends x{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.object)return p(t,{code:f.invalid_type,expected:h.object,received:t.parsedType}),_;let n=this.discriminator,o=t.data[n],i=this.optionsMap.get(o);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(p(t,{code:f.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),_)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let o=new Map;for(let i of t){let a=X(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let s of a){if(o.has(s))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);o.set(s,i)}}return new r({typeName:y.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:o,...b(n)})}};function Jt(r,e){let t=re(r),n=re(e);if(r===e)return{valid:!0,data:r};if(t===h.object&&n===h.object){let o=k.objectKeys(e),i=k.objectKeys(r).filter(s=>o.indexOf(s)!==-1),a={...r,...e};for(let s of i){let c=Jt(r[s],e[s]);if(!c.valid)return{valid:!1};a[s]=c.data}return{valid:!0,data:a}}else if(t===h.array&&n===h.array){if(r.length!==e.length)return{valid:!1};let o=[];for(let i=0;i<r.length;i++){let a=r[i],s=e[i],c=Jt(a,s);if(!c.valid)return{valid:!1};o.push(c.data)}return{valid:!0,data:o}}else return t===h.date&&n===h.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var _e=class extends x{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),o=(i,a)=>{if(Ht(i)||Ht(a))return _;let s=Jt(i.value,a.value);return s.valid?((Gt(i)||Gt(a))&&t.dirty(),{status:t.value,value:s.data}):(p(n,{code:f.invalid_intersection_types}),_)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,a])=>o(i,a)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};_e.create=(r,e,t)=>new _e({left:r,right:e,typeName:y.ZodIntersection,...b(t)});var H=class r extends x{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.array)return p(n,{code:f.invalid_type,expected:h.array,received:n.parsedType}),_;if(n.data.length<this._def.items.length)return p(n,{code:f.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_;!this._def.rest&&n.data.length>this._def.items.length&&(p(n,{code:f.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let i=[...n.data].map((a,s)=>{let c=this._def.items[s]||this._def.rest;return c?c._parse(new W(n,a,n.path,s)):null}).filter(a=>!!a);return n.common.async?Promise.all(i).then(a=>P.mergeArray(t,a)):P.mergeArray(t,i)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}};H.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new H({items:r,typeName:y.ZodTuple,rest:null,...b(e)})};var Ot=class r extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.object)return p(n,{code:f.invalid_type,expected:h.object,received:n.parsedType}),_;let o=[],i=this._def.keyType,a=this._def.valueType;for(let s in n.data)o.push({key:i._parse(new W(n,s,n.path,s)),value:a._parse(new W(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?P.mergeObjectAsync(t,o):P.mergeObjectSync(t,o)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof x?new r({keyType:e,valueType:t,typeName:y.ZodRecord,...b(n)}):new r({keyType:ne.create(),valueType:e,typeName:y.ZodRecord,...b(t)})}},Me=class extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.map)return p(n,{code:f.invalid_type,expected:h.map,received:n.parsedType}),_;let o=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(([s,c],l)=>({key:o._parse(new W(n,s,n.path,[l,"key"])),value:i._parse(new W(n,c,n.path,[l,"value"]))}));if(n.common.async){let s=new Map;return Promise.resolve().then(async()=>{for(let c of a){let l=await c.key,d=await c.value;if(l.status==="aborted"||d.status==="aborted")return _;(l.status==="dirty"||d.status==="dirty")&&t.dirty(),s.set(l.value,d.value)}return{status:t.value,value:s}})}else{let s=new Map;for(let c of a){let l=c.key,d=c.value;if(l.status==="aborted"||d.status==="aborted")return _;(l.status==="dirty"||d.status==="dirty")&&t.dirty(),s.set(l.value,d.value)}return{status:t.value,value:s}}}};Me.create=(r,e,t)=>new Me({valueType:e,keyType:r,typeName:y.ZodMap,...b(t)});var Le=class r extends x{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==h.set)return p(n,{code:f.invalid_type,expected:h.set,received:n.parsedType}),_;let o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(p(n,{code:f.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(p(n,{code:f.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());let i=this._def.valueType;function a(c){let l=new Set;for(let d of c){if(d.status==="aborted")return _;d.status==="dirty"&&t.dirty(),l.add(d.value)}return{status:t.value,value:l}}let s=[...n.data.values()].map((c,l)=>i._parse(new W(n,c,n.path,l)));return n.common.async?Promise.all(s).then(c=>a(c)):a(s)}min(e,t){return new r({...this._def,minSize:{value:e,message:m.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:m.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};Le.create=(r,e)=>new Le({valueType:r,minSize:null,maxSize:null,typeName:y.ZodSet,...b(e)});var Ct=class r extends x{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.function)return p(t,{code:f.invalid_type,expected:h.function,received:t.parsedType}),_;function n(s,c){return kt({data:s,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,St(),Pe].filter(l=>!!l),issueData:{code:f.invalid_arguments,argumentsError:c}})}function o(s,c){return kt({data:s,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,St(),Pe].filter(l=>!!l),issueData:{code:f.invalid_return_type,returnTypeError:c}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof ie){let s=this;return N(async function(...c){let l=new L([]),d=await s._def.args.parseAsync(c,i).catch(g=>{throw l.addIssue(n(c,g)),l}),v=await Reflect.apply(a,this,d);return await s._def.returns._def.type.parseAsync(v,i).catch(g=>{throw l.addIssue(o(v,g)),l})})}else{let s=this;return N(function(...c){let l=s._def.args.safeParse(c,i);if(!l.success)throw new L([n(c,l.error)]);let d=Reflect.apply(a,this,l.data),v=s._def.returns.safeParse(d,i);if(!v.success)throw new L([o(d,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:H.create(e).rest(Q.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new r({args:e||H.create([]).rest(Q.create()),returns:t||Q.create(),typeName:y.ZodFunction,...b(n)})}},be=class extends x{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};be.create=(r,e)=>new be({getter:r,typeName:y.ZodLazy,...b(e)});var xe=class extends x{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return p(t,{received:t.data,code:f.invalid_literal,expected:this._def.value}),_}return{status:"valid",value:e.data}}get value(){return this._def.value}};xe.create=(r,e)=>new xe({value:r,typeName:y.ZodLiteral,...b(e)});function Br(r,e){return new we({values:r,typeName:y.ZodEnum,...b(e)})}var we=class r extends x{constructor(){super(...arguments),ze.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return p(t,{expected:k.joinValues(n),received:t.parsedType,code:f.invalid_type}),_}if(Tt(this,ze,"f")||Ur(this,ze,new Set(this._def.values),"f"),!Tt(this,ze,"f").has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return p(t,{received:t.data,code:f.invalid_enum_value,options:n}),_}return N(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return r.create(e,{...this._def,...t})}exclude(e,t=this._def){return r.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}};ze=new WeakMap;we.create=Br;var Se=class extends x{constructor(){super(...arguments),qe.set(this,void 0)}_parse(e){let t=k.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==h.string&&n.parsedType!==h.number){let o=k.objectValues(t);return p(n,{expected:k.joinValues(o),received:n.parsedType,code:f.invalid_type}),_}if(Tt(this,qe,"f")||Ur(this,qe,new Set(k.getValidEnumValues(this._def.values)),"f"),!Tt(this,qe,"f").has(e.data)){let o=k.objectValues(t);return p(n,{received:n.data,code:f.invalid_enum_value,options:o}),_}return N(e.data)}get enum(){return this._def.values}};qe=new WeakMap;Se.create=(r,e)=>new Se({values:r,typeName:y.ZodNativeEnum,...b(e)});var ie=class extends x{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==h.promise&&t.common.async===!1)return p(t,{code:f.invalid_type,expected:h.promise,received:t.parsedType}),_;let n=t.parsedType===h.promise?t.data:Promise.resolve(t.data);return N(n.then(o=>this._def.type.parseAsync(o,{path:t.path,errorMap:t.common.contextualErrorMap})))}};ie.create=(r,e)=>new ie({type:r,typeName:y.ZodPromise,...b(e)});var Z=class extends x{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),o=this._def.effect||null,i={addIssue:a=>{p(n,a),a.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),o.type==="preprocess"){let a=o.transform(n.data,i);if(n.common.async)return Promise.resolve(a).then(async s=>{if(t.value==="aborted")return _;let c=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return c.status==="aborted"?_:c.status==="dirty"||t.value==="dirty"?Ae(c.value):c});{if(t.value==="aborted")return _;let s=this._def.schema._parseSync({data:a,path:n.path,parent:n});return s.status==="aborted"?_:s.status==="dirty"||t.value==="dirty"?Ae(s.value):s}}if(o.type==="refinement"){let a=s=>{let c=o.refinement(s,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?_:(s.status==="dirty"&&t.dirty(),a(s.value),{status:t.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?_:(s.status==="dirty"&&t.dirty(),a(s.value).then(()=>({status:t.value,value:s.value}))))}if(o.type==="transform")if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ye(a))return a;let s=o.transform(a.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Ye(a)?Promise.resolve(o.transform(a.value,i)).then(s=>({status:t.value,value:s})):a);k.assertNever(o)}};Z.create=(r,e,t)=>new Z({schema:r,typeName:y.ZodEffects,effect:e,...b(t)});Z.createWithPreprocess=(r,e,t)=>new Z({schema:e,effect:{type:"preprocess",transform:r},typeName:y.ZodEffects,...b(t)});var U=class extends x{_parse(e){return this._getType(e)===h.undefined?N(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};U.create=(r,e)=>new U({innerType:r,typeName:y.ZodOptional,...b(e)});var G=class extends x{_parse(e){return this._getType(e)===h.null?N(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};G.create=(r,e)=>new G({innerType:r,typeName:y.ZodNullable,...b(e)});var ke=class extends x{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===h.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};ke.create=(r,e)=>new ke({innerType:r,typeName:y.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...b(e)});var Te=class extends x{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return He(o)?o.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new L(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new L(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Te.create=(r,e)=>new Te({innerType:r,typeName:y.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...b(e)});var Ze=class extends x{_parse(e){if(this._getType(e)!==h.nan){let n=this._getOrReturnCtx(e);return p(n,{code:f.invalid_type,expected:h.nan,received:n.parsedType}),_}return{status:"valid",value:e.data}}};Ze.create=r=>new Ze({typeName:y.ZodNaN,...b(r)});var to=Symbol("zod_brand"),Ge=class extends x{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},Je=class r extends x{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?_:i.status==="dirty"?(t.dirty(),Ae(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?_:o.status==="dirty"?(t.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:y.ZodPipeline})}},Ee=class extends x{_parse(e){let t=this._def.innerType._parse(e),n=o=>(Ye(o)&&(o.value=Object.freeze(o.value)),o);return He(t)?t.then(o=>n(o)):n(t)}unwrap(){return this._def.innerType}};Ee.create=(r,e)=>new Ee({innerType:r,typeName:y.ZodReadonly,...b(e)});function zr(r,e={},t){return r?oe.create().superRefine((n,o)=>{var i,a;if(!r(n)){let s=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(a=(i=s.fatal)!==null&&i!==void 0?i:t)!==null&&a!==void 0?a:!0,l=typeof s=="string"?{message:s}:s;o.addIssue({code:"custom",...l,fatal:c})}}):oe.create()}var ro={object:D.lazycreate},y;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(y||(y={}));var no=(r,e={message:`Input not instance of ${r.name}`})=>zr(t=>t instanceof r,e),qr=ne.create,Yr=fe.create,oo=Ze.create,io=pe.create,Hr=he.create,ao=me.create,so=Ne.create,co=ve.create,uo=ye.create,lo=oe.create,fo=Q.create,po=q.create,ho=De.create,mo=ee.create,vo=D.create,yo=D.strictCreate,go=ge.create,_o=Et.create,bo=_e.create,xo=H.create,wo=Ot.create,So=Me.create,ko=Le.create,To=Ct.create,Eo=be.create,Oo=xe.create,Co=we.create,jo=Se.create,Io=ie.create,Zr=Z.create,Ro=U.create,Ao=G.create,Po=Z.createWithPreprocess,No=Je.create,Do=()=>qr().optional(),Mo=()=>Yr().optional(),Lo=()=>Hr().optional(),Zo={string:r=>ne.create({...r,coerce:!0}),number:r=>fe.create({...r,coerce:!0}),boolean:r=>he.create({...r,coerce:!0}),bigint:r=>pe.create({...r,coerce:!0}),date:r=>me.create({...r,coerce:!0})},$o=_,u=Object.freeze({__proto__:null,defaultErrorMap:Pe,setErrorMap:Zn,getErrorMap:St,makeIssue:kt,EMPTY_PATH:$n,addIssueToContext:p,ParseStatus:P,INVALID:_,DIRTY:Ae,OK:N,isAborted:Ht,isDirty:Gt,isValid:Ye,isAsync:He,get util(){return k},get objectUtil(){return Yt},ZodParsedType:h,getParsedType:re,ZodType:x,datetimeRegex:Fr,ZodString:ne,ZodNumber:fe,ZodBigInt:pe,ZodBoolean:he,ZodDate:me,ZodSymbol:Ne,ZodUndefined:ve,ZodNull:ye,ZodAny:oe,ZodUnknown:Q,ZodNever:q,ZodVoid:De,ZodArray:ee,ZodObject:D,ZodUnion:ge,ZodDiscriminatedUnion:Et,ZodIntersection:_e,ZodTuple:H,ZodRecord:Ot,ZodMap:Me,ZodSet:Le,ZodFunction:Ct,ZodLazy:be,ZodLiteral:xe,ZodEnum:we,ZodNativeEnum:Se,ZodPromise:ie,ZodEffects:Z,ZodTransformer:Z,ZodOptional:U,ZodNullable:G,ZodDefault:ke,ZodCatch:Te,ZodNaN:Ze,BRAND:to,ZodBranded:Ge,ZodPipeline:Je,ZodReadonly:Ee,custom:zr,Schema:x,ZodSchema:x,late:ro,get ZodFirstPartyTypeKind(){return y},coerce:Zo,any:lo,array:mo,bigint:io,boolean:Hr,date:ao,discriminatedUnion:_o,effect:Zr,enum:Co,function:To,instanceof:no,intersection:bo,lazy:Eo,literal:Oo,map:So,nan:oo,nativeEnum:jo,never:po,null:uo,nullable:Ao,number:Yr,object:vo,oboolean:Lo,onumber:Mo,optional:Ro,ostring:Do,pipeline:No,preprocess:Po,promise:Io,record:wo,set:ko,strictObject:yo,string:qr,symbol:so,transformer:Zr,tuple:xo,undefined:co,union:go,unknown:fo,void:ho,NEVER:$o,ZodIssueCode:f,quotelessJson:Ln,ZodError:L});var Kr=(r=>(r.Info="info",r.Debug="debug",r.Trace="trace",r.Error="error",r))(Kr||{}),Xr=(r=>(r.External="BSLIVE_EXTERNAL",r))(Xr||{}),Qr=(r=>(r.Changed="Changed",r.Added="Added",r.Removed="Removed",r))(Qr||{}),Uo=u.union([u.object({kind:u.literal("Html"),payload:u.object({html:u.string()})}),u.object({kind:u.literal("Json"),payload:u.object({json_str:u.string()})}),u.object({kind:u.literal("Raw"),payload:u.object({raw:u.string()})}),u.object({kind:u.literal("Sse"),payload:u.object({sse:u.string()})}),u.object({kind:u.literal("Proxy"),payload:u.object({proxy:u.string()})}),u.object({kind:u.literal("Dir"),payload:u.object({dir:u.string(),base:u.string().optional()})})]),Wo=u.object({path:u.string(),kind:Uo}),Fu=u.object({routes:u.array(Wo),id:u.string()}),en=u.union([u.object({kind:u.literal("Both"),payload:u.object({name:u.string(),bind_address:u.string()})}),u.object({kind:u.literal("Address"),payload:u.object({bind_address:u.string()})}),u.object({kind:u.literal("Named"),payload:u.object({name:u.string()})})]),Vo=u.object({id:u.string(),identity:en,socket_addr:u.string()}),tn=u.object({servers:u.array(Vo)}),Fo=u.object({servers_resp:tn}),Bo=u.object({path:u.string()}),Gr=u.object({path:u.string()}),zo=u.object({paths:u.array(u.string())}),qo=u.object({kind:u.string(),ms:u.string()}),Yo=u.object({paths:u.array(u.string()),debounce:qo}),Ho=u.object({paths:u.array(u.string())}),Go=u.union([u.object({kind:u.literal("Stopped"),payload:u.object({bind_address:u.string()})}),u.object({kind:u.literal("Started"),payload:u.undefined().optional()}),u.object({kind:u.literal("Patched"),payload:u.undefined().optional()}),u.object({kind:u.literal("Errored"),payload:u.object({error:u.string()})})]),Jo=u.object({identity:en,change:Go}),Bu=u.object({items:u.array(Jo)}),Ko=u.nativeEnum(Kr),Jr=u.object({log_level:Ko}),zu=u.object({kind:u.literal("ServersChanged"),payload:tn}),qu=u.nativeEnum(Xr),Yu=u.union([u.object({kind:u.literal("ServersChanged"),payload:Fo}),u.object({kind:u.literal("Watching"),payload:Yo}),u.object({kind:u.literal("WatchingStopped"),payload:Ho}),u.object({kind:u.literal("FileChanged"),payload:Gr}),u.object({kind:u.literal("FilesChanged"),payload:zo}),u.object({kind:u.literal("InputFileChanged"),payload:Gr}),u.object({kind:u.literal("InputAccepted"),payload:Bo})]),Hu=u.union([u.object({kind:u.literal("Started"),payload:u.undefined().optional()}),u.object({kind:u.literal("FailedStartup"),payload:u.string()})]),Gu=u.union([u.object({kind:u.literal("MissingInputs"),payload:u.string()}),u.object({kind:u.literal("InvalidInput"),payload:u.string()}),u.object({kind:u.literal("NotFound"),payload:u.string()}),u.object({kind:u.literal("InputWriteError"),payload:u.string()}),u.object({kind:u.literal("PathError"),payload:u.string()}),u.object({kind:u.literal("PortError"),payload:u.string()}),u.object({kind:u.literal("DirError"),payload:u.string()}),u.object({kind:u.literal("YamlError"),payload:u.string()}),u.object({kind:u.literal("MarkdownError"),payload:u.string()}),u.object({kind:u.literal("Io"),payload:u.string()}),u.object({kind:u.literal("UnsupportedExtension"),payload:u.string()}),u.object({kind:u.literal("MissingExtension"),payload:u.string()}),u.object({kind:u.literal("EmptyInput"),payload:u.string()}),u.object({kind:u.literal("BsLiveRules"),payload:u.string()})]),Xo=u.nativeEnum(Qr),jt=u.lazy(()=>u.union([u.object({kind:u.literal("Fs"),payload:u.object({path:u.string(),change_kind:Xo})}),u.object({kind:u.literal("FsMany"),payload:u.array(jt)})])),Ju=u.union([u.object({kind:u.literal("Change"),payload:jt}),u.object({kind:u.literal("WsConnection"),payload:Jr}),u.object({kind:u.literal("Config"),payload:Jr})]);var rn=[{selector:"background",styleNames:["backgroundImage"]},{selector:"border",styleNames:["borderImage","webkitBorderImage","MozBorderImage"]}],It={stylesheetReloadTimeout:15e3},Qo=/\.(jpe?g|png|gif|svg)$/i,Rt=class{constructor(e,t,n){this.window=e,this.console=t,this.Timer=n,this.document=this.window.document,this.importCacheWaitPeriod=200,this.plugins=[]}addPlugin(e){return this.plugins.push(e)}analyze(e){}reload(e,t={}){if(this.options={...It,...t},!(t.liveCSS&&e.match(/\.css(?:\.map)?$/i)&&this.reloadStylesheet(e))){if(t.liveImg&&e.match(Qo)){this.reloadImages(e);return}if(t.isChromeExtension){this.reloadChromeExtension();return}return this.reloadPage()}}reloadPage(){return this.window.document.location.reload()}reloadChromeExtension(){return this.window.chrome.runtime.reload()}reloadImages(e){let t,n=this.generateUniqueString();for(t of Array.from(this.document.images))nn(e,Kt(t.src))&&(t.src=this.generateCacheBustUrl(t.src,n));if(this.document.querySelectorAll)for(let{selector:o,styleNames:i}of rn)for(t of Array.from(this.document.querySelectorAll(`[style*=${o}]`)))this.reloadStyleImages(t.style,i,e,n);if(this.document.styleSheets)return Array.from(this.document.styleSheets).map(o=>this.reloadStylesheetImages(o,e,n))}reloadStylesheetImages(e,t,n){let o;try{o=(e||{}).cssRules}catch{}if(o)for(let i of Array.from(o))switch(i.type){case CSSRule.IMPORT_RULE:this.reloadStylesheetImages(i.styleSheet,t,n);break;case CSSRule.STYLE_RULE:for(let{styleNames:a}of rn)this.reloadStyleImages(i.style,a,t,n);break;case CSSRule.MEDIA_RULE:this.reloadStylesheetImages(i,t,n);break}}reloadStyleImages(e,t,n,o){for(let i of t){let a=e[i];if(typeof a=="string"){let s=a.replace(new RegExp("\\burl\\s*\\(([^)]*)\\)"),(c,l)=>nn(n,Kt(l))?`url(${this.generateCacheBustUrl(l,o)})`:c);s!==a&&(e[i]=s)}}}reloadStylesheet(e){let t=this.options||It,n,o,i=(()=>{let c=[];for(o of Array.from(this.document.getElementsByTagName("link")))o.rel.match(/^stylesheet$/i)&&!o.__LiveReload_pendingRemoval&&c.push(o);return c})(),a=[];for(n of Array.from(this.document.getElementsByTagName("style")))n.sheet&&this.collectImportedStylesheets(n,n.sheet,a);for(o of Array.from(i))this.collectImportedStylesheets(o,o.sheet,a);if(this.window.StyleFix&&this.document.querySelectorAll)for(n of Array.from(this.document.querySelectorAll("style[data-href]")))i.push(n);this.console.debug(`found ${i.length} LINKed stylesheets, ${a.length} @imported stylesheets`);let s=ei(e,i.concat(a),c=>Kt(this.linkHref(c)));if(s)s.object.rule?(this.console.debug(`is reloading imported stylesheet: ${s.object.href}`),this.reattachImportedRule(s.object)):(this.console.debug(`is reloading stylesheet: ${this.linkHref(s.object)}`),this.reattachStylesheetLink(s.object));else if(t.reloadMissingCSS){this.console.debug(`will reload all stylesheets because path '${e}' did not match any specific one. To disable this behavior, set 'options.reloadMissingCSS' to 'false'.`);for(o of Array.from(i))this.reattachStylesheetLink(o)}else this.console.debug(`will not reload path '${e}' because the stylesheet was not found on the page and 'options.reloadMissingCSS' was set to 'false'.`);return!0}collectImportedStylesheets(e,t,n){let o;try{o=(t||{}).cssRules}catch{}if(o&&o.length)for(let i=0;i<o.length;i++){let a=o[i];switch(a.type){case CSSRule.CHARSET_RULE:continue;case CSSRule.IMPORT_RULE:n.push({link:e,rule:a,index:i,href:a.href}),this.collectImportedStylesheets(e,a.styleSheet,n);break;default:break}}}waitUntilCssLoads(e,t){let n=this.options||It,o=!1,i=()=>{if(!o)return o=!0,t()};if(e.onload=()=>(this.console.debug("the new stylesheet has finished loading"),this.knownToSupportCssOnLoad=!0,i()),!this.knownToSupportCssOnLoad){let a;(a=()=>e.sheet?(this.console.debug("is polling until the new CSS finishes loading..."),i()):this.Timer.start(50,a))()}return this.Timer.start(n.stylesheetReloadTimeout,i)}linkHref(e){return e.href||e.getAttribute&&e.getAttribute("data-href")}reattachStylesheetLink(e){let t;if(e.__LiveReload_pendingRemoval)return;e.__LiveReload_pendingRemoval=!0,e.tagName==="STYLE"?(t=this.document.createElement("link"),t.rel="stylesheet",t.media=e.media,t.disabled=e.disabled):t=e.cloneNode(!1),t.href=this.generateCacheBustUrl(this.linkHref(e));let n=e.parentNode;return n.lastChild===e?n.appendChild(t):n.insertBefore(t,e.nextSibling),this.waitUntilCssLoads(t,()=>{let o;return/AppleWebKit/.test(this.window.navigator.userAgent)?o=5:o=200,this.Timer.start(o,()=>{if(e.parentNode)return e.parentNode.removeChild(e),t.onreadystatechange=null,this.window.StyleFix?this.window.StyleFix.link(t):void 0})})}reattachImportedRule({rule:e,index:t,link:n}){let o=e.parentStyleSheet,i=this.generateCacheBustUrl(e.href),a=e.media.length?[].join.call(e.media,", "):"",s=`@import url("${i}") ${a};`;e.__LiveReload_newHref=i;let c=this.document.createElement("link");return c.rel="stylesheet",c.href=i,c.__LiveReload_pendingRemoval=!0,n.parentNode&&n.parentNode.insertBefore(c,n),this.Timer.start(this.importCacheWaitPeriod,()=>{if(c.parentNode&&c.parentNode.removeChild(c),e.__LiveReload_newHref===i)return o.insertRule(s,t),o.deleteRule(t+1),e=o.cssRules[t],e.__LiveReload_newHref=i,this.Timer.start(this.importCacheWaitPeriod,()=>{if(e.__LiveReload_newHref===i)return o.insertRule(s,t),o.deleteRule(t+1)})})}generateUniqueString(){return`livereload=${Date.now()}`}generateCacheBustUrl(e,t){let n=this.options||It,o,i;if(t||(t=this.generateUniqueString()),{url:e,hash:o,params:i}=on(e),n.overrideURL&&e.indexOf(n.serverURL)<0){let s=e;e=n.serverURL+n.overrideURL+"?url="+encodeURIComponent(e),this.console.debug(`is overriding source URL ${s} with ${e}`)}let a=i.replace(/(\?|&)livereload=(\d+)/,(s,c)=>`${c}${t}`);return a===i&&(i.length===0?a=`?${t}`:a=`${i}&${t}`),e+a+o}};function on(r){let e="",t="",n=r.indexOf("#");n>=0&&(e=r.slice(n),r=r.slice(0,n));let o=r.indexOf("??");return o>=0?o+1!==r.lastIndexOf("?")&&(n=r.lastIndexOf("?")):n=r.indexOf("?"),n>=0&&(t=r.slice(n),r=r.slice(0,n)),{url:r,params:t,hash:e}}function Kt(r){if(!r)return"";let e;return{url:r}=on(r),r.indexOf("file://")===0?e=r.replace(new RegExp("^file://(localhost)?"),""):e=r.replace(new RegExp("^([^:]+:)?//([^:/]+)(:\\d*)?/"),"/"),decodeURIComponent(e)}function an(r,e){if(r=r.replace(/^\/+/,"").toLowerCase(),e=e.replace(/^\/+/,"").toLowerCase(),r===e)return 1e4;let t=r.split(/\/|\\/).reverse(),n=e.split(/\/|\\/).reverse(),o=Math.min(t.length,n.length),i=0;for(;i<o&&t[i]===n[i];)++i;return i}function ei(r,e,t=n=>n){let n,o={score:0};for(let i of e)n=an(r,t(i)),n>o.score&&(o={object:i,score:n});return o.score===0?null:o}function nn(r,e){return an(r,e)>0}var un=gn(cn());var ti=/\.(jpe?g|png|gif|svg)$/i;function Xt(r,e,t){switch(r.kind){case"FsMany":{if(r.payload.some(o=>{switch(o.kind){case"Fs":return!(o.payload.path.match(/\.css(?:\.map)?$/i)||o.payload.path.match(ti));case"FsMany":throw new Error("unreachable")}}))return window.__playwright?.record?window.__playwright?.record({kind:"reloadPage"}):t.reloadPage();for(let o of r.payload)Xt(o,e,t);break}case"Fs":{let n=r.payload.path,o={liveCSS:!0,liveImg:!0,reloadMissingCSS:!0,originalPath:"",overrideURL:"",serverURL:""};window.__playwright?.record?window.__playwright?.record({kind:"reload",args:{path:n,opts:o}}):(e.trace("will reload a file with path ",n),t.reload(n,o))}}}var Qt={name:"dom plugin",globalSetup:(r,e)=>{let t=new Rt(window,e,un.Timer);return[r,[e,t]]},resetSink(r,e,t){let[n,o]=e;return r.pipe(de(i=>i.kind==="Change"),K(i=>i.payload),Be(i=>{n.trace("incoming message",JSON.stringify({change:i,config:t},null,2));let a=jt.parse(i);Xt(a,n,o)}),Fe())}};var ri=Dr(),Ke=ri.create(),[ni,er]=zt.globalSetup(Ke,Mr),[oi,ii]=Qt.globalSetup(Ke,er),ln=Ke.pipe(de(r=>r.kind==="WsConnection"),K(r=>r.payload),Vt()),ai=Ke.pipe(de(r=>r.kind==="Config"),K(r=>r.payload)),fl=Ke.pipe(de(r=>r.kind==="Change"),K(r=>r.payload));wt(ai,ln).pipe(Ft(r=>{let e=[Qt.resetSink(oi,ii,r),zt.resetSink(ni,er,r)];return wt(...e)})).subscribe();ln.subscribe(r=>{er.info("\u{1F7E2} Browsersync Live connected",{config:r})});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vdmVuZG9yL2xpdmUtcmVsb2FkL3NyYy90aW1lci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2Lm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pc0Z1bmN0aW9uLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2NyZWF0ZUVycm9yQ2xhc3MudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9hcnJSZW1vdmUudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL1N1YnNjcmlwdGlvbi50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvY29uZmlnLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL25vb3AudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL05vdGlmaWNhdGlvbkZhY3Rvcmllcy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9lcnJvckNvbnRleHQudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL1N1YnNjcmliZXIudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2lkZW50aXR5LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL3BpcGUudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL09ic2VydmFibGUudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvbGlmdC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL09wZXJhdG9yU3Vic2NyaWJlci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvU3ViamVjdC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvUmVwbGF5U3ViamVjdC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL0FjdGlvbi50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVyL2ludGVydmFsUHJvdmlkZXIudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9Bc3luY0FjdGlvbi50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvU2NoZWR1bGVyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNTY2hlZHVsZXIudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlci9hc3luYy50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9lbXB0eS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pc1NjaGVkdWxlci50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9hcmdzLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2lzQXJyYXlMaWtlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC91dGlsL2lzQXN5bmNJdGVyYWJsZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3IudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaXNJdGVyYWJsZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbm5lckZyb20udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvZXhlY3V0ZVNjaGVkdWxlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvb2JzZXJ2ZU9uLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvc3Vic2NyaWJlT24udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZU9ic2VydmFibGUudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVByb21pc2UudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVJdGVyYWJsZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXN5bmNJdGVyYWJsZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVkLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL3V0aWwvaXNEYXRlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VJbnRlcm5hbHMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcC50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlQWxsLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL3RpbWVyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL21lcmdlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvZmlsdGVyLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvaWdub3JlRWxlbWVudHMudHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3J4anMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9yZXRyeS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcnhqcy9zcmMvaW50ZXJuYWwvb3BlcmF0b3JzL3NoYXJlLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvc3dpdGNoTWFwLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vcGVyYXRvcnMvdGFwLnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2RvbS9XZWJTb2NrZXRTdWJqZWN0LnRzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yeGpzL3NyYy9pbnRlcm5hbC9vYnNlcnZhYmxlL2RvbS93ZWJTb2NrZXQudHMiLCAiLi4vc3JjL3Byb2R1Y2Vycy93cy50cyIsICIuLi9zcmMvc2lua3MvY29uc29sZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvem9kL2xpYi9pbmRleC5tanMiLCAiLi4vLi4vZ2VuZXJhdGVkL3NjaGVtYS5qcyIsICIuLi92ZW5kb3IvbGl2ZS1yZWxvYWQvc3JjL3JlbG9hZGVyLmpzIiwgIi4uL3NyYy9zaW5rcy9kb20udHMiLCAiLi4vc3JjL3NpbmtzL2RvbS9jaGFuZ2VkLXBhdGgudHMiLCAiLi4vc3JjL2luZGV4LnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBAdHMtbm9jaGVja1xuY2xhc3MgVGltZXIge1xuICAgIGNvbnN0cnVjdG9yKGZ1bmMpIHtcbiAgICAgICAgdGhpcy5mdW5jID0gZnVuYztcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaWQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2hhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSBudWxsO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mdW5jKCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhcnQodGltZW91dCkge1xuICAgICAgICBpZiAodGhpcy5ydW5uaW5nKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoLyoqIEB0eXBlIHthbnl9ICovKHRoaXMuaWQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaWQgPSBzZXRUaW1lb3V0KHRoaXMuX2hhbmRsZXIsIHRpbWVvdXQpO1xuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIHN0b3AoKSB7XG4gICAgICAgIGlmICh0aGlzLnJ1bm5pbmcpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCgvKiogQHR5cGUge2FueX0gKi8odGhpcy5pZCkpO1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlkID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblRpbWVyLnN0YXJ0ID0gKHRpbWVvdXQsIGZ1bmMpID0+IHNldFRpbWVvdXQoZnVuYywgdGltZW91dCk7XG5cbmV4cG9ydHMuVGltZXIgPSBUaW1lcjtcbiIsICIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cblxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wgKi9cblxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XG4gIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59XG5cbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcbiAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0O1xuICB9XG4gIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcbiAgdmFyIHQgPSB7fTtcbiAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICB0W3BdID0gc1twXTtcbiAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgICB9XG4gIHJldHVybiB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2VzRGVjb3JhdGUoY3RvciwgZGVzY3JpcHRvckluLCBkZWNvcmF0b3JzLCBjb250ZXh0SW4sIGluaXRpYWxpemVycywgZXh0cmFJbml0aWFsaXplcnMpIHtcbiAgZnVuY3Rpb24gYWNjZXB0KGYpIHsgaWYgKGYgIT09IHZvaWQgMCAmJiB0eXBlb2YgZiAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRnVuY3Rpb24gZXhwZWN0ZWRcIik7IHJldHVybiBmOyB9XG4gIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XG4gIHZhciB0YXJnZXQgPSAhZGVzY3JpcHRvckluICYmIGN0b3IgPyBjb250ZXh0SW5bXCJzdGF0aWNcIl0gPyBjdG9yIDogY3Rvci5wcm90b3R5cGUgOiBudWxsO1xuICB2YXIgZGVzY3JpcHRvciA9IGRlc2NyaXB0b3JJbiB8fCAodGFyZ2V0ID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGNvbnRleHRJbi5uYW1lKSA6IHt9KTtcbiAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcbiAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBjb250ZXh0ID0ge307XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluLmFjY2VzcykgY29udGV4dC5hY2Nlc3NbcF0gPSBjb250ZXh0SW4uYWNjZXNzW3BdO1xuICAgICAgY29udGV4dC5hZGRJbml0aWFsaXplciA9IGZ1bmN0aW9uIChmKSB7IGlmIChkb25lKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCBpbml0aWFsaXplcnMgYWZ0ZXIgZGVjb3JhdGlvbiBoYXMgY29tcGxldGVkXCIpOyBleHRyYUluaXRpYWxpemVycy5wdXNoKGFjY2VwdChmIHx8IG51bGwpKTsgfTtcbiAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xuICAgICAgaWYgKGtpbmQgPT09IFwiYWNjZXNzb3JcIikge1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkgY29udGludWU7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5nZXQpKSBkZXNjcmlwdG9yLmdldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LnNldCkpIGRlc2NyaXB0b3Iuc2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoXyA9IGFjY2VwdChyZXN1bHQpKSB7XG4gICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICAgICAgZWxzZSBkZXNjcmlwdG9yW2tleV0gPSBfO1xuICAgICAgfVxuICB9XG4gIGlmICh0YXJnZXQpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbnRleHRJbi5uYW1lLCBkZXNjcmlwdG9yKTtcbiAgZG9uZSA9IHRydWU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19ydW5Jbml0aWFsaXplcnModGhpc0FyZywgaW5pdGlhbGl6ZXJzLCB2YWx1ZSkge1xuICB2YXIgdXNlVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0aWFsaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlID0gdXNlVmFsdWUgPyBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnLCB2YWx1ZSkgOiBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnKTtcbiAgfVxuICByZXR1cm4gdXNlVmFsdWUgPyB2YWx1ZSA6IHZvaWQgMDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Byb3BLZXkoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCIgPyB4IDogXCJcIi5jb25jYXQoeCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19zZXRGdW5jdGlvbk5hbWUoZiwgbmFtZSwgcHJlZml4KSB7XG4gIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzeW1ib2xcIikgbmFtZSA9IG5hbWUuZGVzY3JpcHRpb24gPyBcIltcIi5jb25jYXQobmFtZS5kZXNjcmlwdGlvbiwgXCJdXCIpIDogXCJcIjtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmLCBcIm5hbWVcIiwgeyBjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiBwcmVmaXggPyBcIlwiLmNvbmNhdChwcmVmaXgsIFwiIFwiLCBuYW1lKSA6IG5hbWUgfSk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xuICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xuICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcbiAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XG4gICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XG4gICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XG4gICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgfVxufVxuXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xuICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgb1trMl0gPSBtW2tdO1xufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgbykge1xuICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XG4gIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICB9XG4gIH07XG4gIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XG4gIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcbiAgaWYgKCFtKSByZXR1cm4gbztcbiAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XG4gIHRyeSB7XG4gICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcbiAgfVxuICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cbiAgZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xuICAgICAgfVxuICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XG4gIH1cbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcbiAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXG4gICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XG4gIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXG4gICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcbiAgICAgICAgICByW2tdID0gYVtqXTtcbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5KHRvLCBmcm9tLCBwYWNrKSB7XG4gIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcbiAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xuICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIsIGF3YWl0UmV0dXJuKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiBhd2FpdFJldHVybihmKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZiwgcmVqZWN0KTsgfTsgfVxuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaWYgKGdbbl0pIHsgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgaWYgKGYpIGlbbl0gPSBmKGlbbl0pOyB9IH1cbiAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxuICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cbiAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xuICB2YXIgaSwgcDtcbiAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogZmFsc2UgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xuICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xuICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xuICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cbiAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcbiAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cbiAgcmV0dXJuIGNvb2tlZDtcbn07XG5cbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xufSkgOiBmdW5jdGlvbihvLCB2KSB7XG4gIG9bXCJkZWZhdWx0XCJdID0gdjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XG4gIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xuICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xuICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XG4gIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xuICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52LCB2YWx1ZSwgYXN5bmMpIHtcbiAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkLlwiKTtcbiAgICB2YXIgZGlzcG9zZSwgaW5uZXI7XG4gICAgaWYgKGFzeW5jKSB7XG4gICAgICBpZiAoIVN5bWJvbC5hc3luY0Rpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNEaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuYXN5bmNEaXNwb3NlXTtcbiAgICB9XG4gICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkge1xuICAgICAgaWYgKCFTeW1ib2wuZGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5kaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuZGlzcG9zZV07XG4gICAgICBpZiAoYXN5bmMpIGlubmVyID0gZGlzcG9zZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkaXNwb3NlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3Qgbm90IGRpc3Bvc2FibGUuXCIpO1xuICAgIGlmIChpbm5lcikgZGlzcG9zZSA9IGZ1bmN0aW9uKCkgeyB0cnkgeyBpbm5lci5jYWxsKHRoaXMpOyB9IGNhdGNoIChlKSB7IHJldHVybiBQcm9taXNlLnJlamVjdChlKTsgfSB9O1xuICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gIH1cbiAgZWxzZSBpZiAoYXN5bmMpIHtcbiAgICBlbnYuc3RhY2sucHVzaCh7IGFzeW5jOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19kaXNwb3NlUmVzb3VyY2VzKGVudikge1xuICBmdW5jdGlvbiBmYWlsKGUpIHtcbiAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XG4gICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHdoaWxlIChlbnYuc3RhY2subGVuZ3RoKSB7XG4gICAgICB2YXIgcmVjID0gZW52LnN0YWNrLnBvcCgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlYy5kaXNwb3NlICYmIHJlYy5kaXNwb3NlLmNhbGwocmVjLnZhbHVlKTtcbiAgICAgICAgaWYgKHJlYy5hc3luYykgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpLnRoZW4obmV4dCwgZnVuY3Rpb24oZSkgeyBmYWlsKGUpOyByZXR1cm4gbmV4dCgpOyB9KTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgZmFpbChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVudi5oYXNFcnJvcikgdGhyb3cgZW52LmVycm9yO1xuICB9XG4gIHJldHVybiBuZXh0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgX19leHRlbmRzLFxuICBfX2Fzc2lnbixcbiAgX19yZXN0LFxuICBfX2RlY29yYXRlLFxuICBfX3BhcmFtLFxuICBfX21ldGFkYXRhLFxuICBfX2F3YWl0ZXIsXG4gIF9fZ2VuZXJhdG9yLFxuICBfX2NyZWF0ZUJpbmRpbmcsXG4gIF9fZXhwb3J0U3RhcixcbiAgX192YWx1ZXMsXG4gIF9fcmVhZCxcbiAgX19zcHJlYWQsXG4gIF9fc3ByZWFkQXJyYXlzLFxuICBfX3NwcmVhZEFycmF5LFxuICBfX2F3YWl0LFxuICBfX2FzeW5jR2VuZXJhdG9yLFxuICBfX2FzeW5jRGVsZWdhdG9yLFxuICBfX2FzeW5jVmFsdWVzLFxuICBfX21ha2VUZW1wbGF0ZU9iamVjdCxcbiAgX19pbXBvcnRTdGFyLFxuICBfX2ltcG9ydERlZmF1bHQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRHZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRTZXQsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRJbixcbiAgX19hZGREaXNwb3NhYmxlUmVzb3VyY2UsXG4gIF9fZGlzcG9zZVJlc291cmNlcyxcbn07XG4iLCAiLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBpcyBhIGZ1bmN0aW9uLlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVja1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZTogYW55KTogdmFsdWUgaXMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuIiwgIi8qKlxuICogVXNlZCB0byBjcmVhdGUgRXJyb3Igc3ViY2xhc3NlcyB1bnRpbCB0aGUgY29tbXVuaXR5IG1vdmVzIGF3YXkgZnJvbSBFUzUuXG4gKlxuICogVGhpcyBpcyBiZWNhdXNlIGNvbXBpbGluZyBmcm9tIFR5cGVTY3JpcHQgZG93biB0byBFUzUgaGFzIGlzc3VlcyB3aXRoIHN1YmNsYXNzaW5nIEVycm9yc1xuICogYXMgd2VsbCBhcyBvdGhlciBidWlsdC1pbiB0eXBlczogaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8xMjEyM1xuICpcbiAqIEBwYXJhbSBjcmVhdGVJbXBsIEEgZmFjdG9yeSBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGFjdHVhbCBjb25zdHJ1Y3RvciBpbXBsZW1lbnRhdGlvbi4gVGhlIHJldHVybmVkXG4gKiBmdW5jdGlvbiBzaG91bGQgYmUgYSBuYW1lZCBmdW5jdGlvbiB0aGF0IGNhbGxzIGBfc3VwZXJgIGludGVybmFsbHkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFcnJvckNsYXNzPFQ+KGNyZWF0ZUltcGw6IChfc3VwZXI6IGFueSkgPT4gYW55KTogVCB7XG4gIGNvbnN0IF9zdXBlciA9IChpbnN0YW5jZTogYW55KSA9PiB7XG4gICAgRXJyb3IuY2FsbChpbnN0YW5jZSk7XG4gICAgaW5zdGFuY2Uuc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgfTtcblxuICBjb25zdCBjdG9yRnVuYyA9IGNyZWF0ZUltcGwoX3N1cGVyKTtcbiAgY3RvckZ1bmMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICBjdG9yRnVuYy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yRnVuYztcbiAgcmV0dXJuIGN0b3JGdW5jO1xufVxuIiwgImltcG9ydCB7IGNyZWF0ZUVycm9yQ2xhc3MgfSBmcm9tICcuL2NyZWF0ZUVycm9yQ2xhc3MnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVuc3Vic2NyaXB0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHJlYWRvbmx5IGVycm9yczogYW55W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVW5zdWJzY3JpcHRpb25FcnJvckN0b3Ige1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLiBEbyBub3QgY29uc3RydWN0IGVycm9yIGluc3RhbmNlcy5cbiAgICogQ2Fubm90IGJlIHRhZ2dlZCBhcyBpbnRlcm5hbDogaHR0cHM6Ly9naXRodWIuY29tL1JlYWN0aXZlWC9yeGpzL2lzc3Vlcy82MjY5XG4gICAqL1xuICBuZXcgKGVycm9yczogYW55W10pOiBVbnN1YnNjcmlwdGlvbkVycm9yO1xufVxuXG4vKipcbiAqIEFuIGVycm9yIHRocm93biB3aGVuIG9uZSBvciBtb3JlIGVycm9ycyBoYXZlIG9jY3VycmVkIGR1cmluZyB0aGVcbiAqIGB1bnN1YnNjcmliZWAgb2YgYSB7QGxpbmsgU3Vic2NyaXB0aW9ufS5cbiAqL1xuZXhwb3J0IGNvbnN0IFVuc3Vic2NyaXB0aW9uRXJyb3I6IFVuc3Vic2NyaXB0aW9uRXJyb3JDdG9yID0gY3JlYXRlRXJyb3JDbGFzcyhcbiAgKF9zdXBlcikgPT5cbiAgICBmdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCh0aGlzOiBhbnksIGVycm9yczogKEVycm9yIHwgc3RyaW5nKVtdKSB7XG4gICAgICBfc3VwZXIodGhpcyk7XG4gICAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcnNcbiAgICAgICAgPyBgJHtlcnJvcnMubGVuZ3RofSBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxuJHtlcnJvcnMubWFwKChlcnIsIGkpID0+IGAke2kgKyAxfSkgJHtlcnIudG9TdHJpbmcoKX1gKS5qb2luKCdcXG4gICcpfWBcbiAgICAgICAgOiAnJztcbiAgICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH1cbik7XG4iLCAiLyoqXG4gKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSBhbiBhcnJheSwgbXV0YXRpbmcgaXQuXG4gKiBAcGFyYW0gYXJyIFRoZSBhcnJheSB0byByZW1vdmUgdGhlIGl0ZW0gZnJvbVxuICogQHBhcmFtIGl0ZW0gVGhlIGl0ZW0gdG8gcmVtb3ZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJSZW1vdmU8VD4oYXJyOiBUW10gfCB1bmRlZmluZWQgfCBudWxsLCBpdGVtOiBUKSB7XG4gIGlmIChhcnIpIHtcbiAgICBjb25zdCBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuICAgIDAgPD0gaW5kZXggJiYgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbkxpa2UsIFRlYXJkb3duTG9naWMsIFVuc3Vic2NyaWJhYmxlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBhcnJSZW1vdmUgfSBmcm9tICcuL3V0aWwvYXJyUmVtb3ZlJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgZGlzcG9zYWJsZSByZXNvdXJjZSwgc3VjaCBhcyB0aGUgZXhlY3V0aW9uIG9mIGFuIE9ic2VydmFibGUuIEFcbiAqIFN1YnNjcmlwdGlvbiBoYXMgb25lIGltcG9ydGFudCBtZXRob2QsIGB1bnN1YnNjcmliZWAsIHRoYXQgdGFrZXMgbm8gYXJndW1lbnRcbiAqIGFuZCBqdXN0IGRpc3Bvc2VzIHRoZSByZXNvdXJjZSBoZWxkIGJ5IHRoZSBzdWJzY3JpcHRpb24uXG4gKlxuICogQWRkaXRpb25hbGx5LCBzdWJzY3JpcHRpb25zIG1heSBiZSBncm91cGVkIHRvZ2V0aGVyIHRocm91Z2ggdGhlIGBhZGQoKWBcbiAqIG1ldGhvZCwgd2hpY2ggd2lsbCBhdHRhY2ggYSBjaGlsZCBTdWJzY3JpcHRpb24gdG8gdGhlIGN1cnJlbnQgU3Vic2NyaXB0aW9uLlxuICogV2hlbiBhIFN1YnNjcmlwdGlvbiBpcyB1bnN1YnNjcmliZWQsIGFsbCBpdHMgY2hpbGRyZW4gKGFuZCBpdHMgZ3JhbmRjaGlsZHJlbilcbiAqIHdpbGwgYmUgdW5zdWJzY3JpYmVkIGFzIHdlbGwuXG4gKlxuICogQGNsYXNzIFN1YnNjcmlwdGlvblxuICovXG5leHBvcnQgY2xhc3MgU3Vic2NyaXB0aW9uIGltcGxlbWVudHMgU3Vic2NyaXB0aW9uTGlrZSB7XG4gIC8qKiBAbm9jb2xsYXBzZSAqL1xuICBwdWJsaWMgc3RhdGljIEVNUFRZID0gKCgpID0+IHtcbiAgICBjb25zdCBlbXB0eSA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgIHJldHVybiBlbXB0eTtcbiAgfSkoKTtcblxuICAvKipcbiAgICogQSBmbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgdGhpcyBTdWJzY3JpcHRpb24gaGFzIGFscmVhZHkgYmVlbiB1bnN1YnNjcmliZWQuXG4gICAqL1xuICBwdWJsaWMgY2xvc2VkID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBfcGFyZW50YWdlOiBTdWJzY3JpcHRpb25bXSB8IFN1YnNjcmlwdGlvbiB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiByZWdpc3RlcmVkIGZpbmFsaXplcnMgdG8gZXhlY3V0ZSB1cG9uIHVuc3Vic2NyaXB0aW9uLiBBZGRpbmcgYW5kIHJlbW92aW5nIGZyb20gdGhpc1xuICAgKiBsaXN0IG9jY3VycyBpbiB0aGUge0BsaW5rICNhZGR9IGFuZCB7QGxpbmsgI3JlbW92ZX0gbWV0aG9kcy5cbiAgICovXG4gIHByaXZhdGUgX2ZpbmFsaXplcnM6IEV4Y2x1ZGU8VGVhcmRvd25Mb2dpYywgdm9pZD5bXSB8IG51bGwgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gaW5pdGlhbFRlYXJkb3duIEEgZnVuY3Rpb24gZXhlY3V0ZWQgZmlyc3QgYXMgcGFydCBvZiB0aGUgZmluYWxpemF0aW9uXG4gICAqIHByb2Nlc3MgdGhhdCBpcyBraWNrZWQgb2ZmIHdoZW4ge0BsaW5rICN1bnN1YnNjcmliZX0gaXMgY2FsbGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBpbml0aWFsVGVhcmRvd24/OiAoKSA9PiB2b2lkKSB7fVxuXG4gIC8qKlxuICAgKiBEaXNwb3NlcyB0aGUgcmVzb3VyY2VzIGhlbGQgYnkgdGhlIHN1YnNjcmlwdGlvbi4gTWF5LCBmb3IgaW5zdGFuY2UsIGNhbmNlbFxuICAgKiBhbiBvbmdvaW5nIE9ic2VydmFibGUgZXhlY3V0aW9uIG9yIGNhbmNlbCBhbnkgb3RoZXIgdHlwZSBvZiB3b3JrIHRoYXRcbiAgICogc3RhcnRlZCB3aGVuIHRoZSBTdWJzY3JpcHRpb24gd2FzIGNyZWF0ZWQuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB1bnN1YnNjcmliZSgpOiB2b2lkIHtcbiAgICBsZXQgZXJyb3JzOiBhbnlbXSB8IHVuZGVmaW5lZDtcblxuICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcblxuICAgICAgLy8gUmVtb3ZlIHRoaXMgZnJvbSBpdCdzIHBhcmVudHMuXG4gICAgICBjb25zdCB7IF9wYXJlbnRhZ2UgfSA9IHRoaXM7XG4gICAgICBpZiAoX3BhcmVudGFnZSkge1xuICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSkge1xuICAgICAgICAgIGZvciAoY29uc3QgcGFyZW50IG9mIF9wYXJlbnRhZ2UpIHtcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9wYXJlbnRhZ2UucmVtb3ZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgaW5pdGlhbFRlYXJkb3duOiBpbml0aWFsRmluYWxpemVyIH0gPSB0aGlzO1xuICAgICAgaWYgKGlzRnVuY3Rpb24oaW5pdGlhbEZpbmFsaXplcikpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpbml0aWFsRmluYWxpemVyKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBlcnJvcnMgPSBlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvciA/IGUuZXJyb3JzIDogW2VdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgX2ZpbmFsaXplcnMgfSA9IHRoaXM7XG4gICAgICBpZiAoX2ZpbmFsaXplcnMpIHtcbiAgICAgICAgdGhpcy5fZmluYWxpemVycyA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgZmluYWxpemVyIG9mIF9maW5hbGl6ZXJzKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4ZWNGaW5hbGl6ZXIoZmluYWxpemVyKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyA/PyBbXTtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgIGVycm9ycyA9IFsuLi5lcnJvcnMsIC4uLmVyci5lcnJvcnNdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgZmluYWxpemVyIHRvIHRoaXMgc3Vic2NyaXB0aW9uLCBzbyB0aGF0IGZpbmFsaXphdGlvbiB3aWxsIGJlIHVuc3Vic2NyaWJlZC9jYWxsZWRcbiAgICogd2hlbiB0aGlzIHN1YnNjcmlwdGlvbiBpcyB1bnN1YnNjcmliZWQuIElmIHRoaXMgc3Vic2NyaXB0aW9uIGlzIGFscmVhZHkge0BsaW5rICNjbG9zZWR9LFxuICAgKiBiZWNhdXNlIGl0IGhhcyBhbHJlYWR5IGJlZW4gdW5zdWJzY3JpYmVkLCB0aGVuIHdoYXRldmVyIGZpbmFsaXplciBpcyBwYXNzZWQgdG8gaXRcbiAgICogd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGV4ZWN1dGVkICh1bmxlc3MgdGhlIGZpbmFsaXplciBpdHNlbGYgaXMgYWxzbyBhIGNsb3NlZCBzdWJzY3JpcHRpb24pLlxuICAgKlxuICAgKiBDbG9zZWQgU3Vic2NyaXB0aW9ucyBjYW5ub3QgYmUgYWRkZWQgYXMgZmluYWxpemVycyB0byBhbnkgc3Vic2NyaXB0aW9uLiBBZGRpbmcgYSBjbG9zZWRcbiAgICogc3Vic2NyaXB0aW9uIHRvIGEgYW55IHN1YnNjcmlwdGlvbiB3aWxsIHJlc3VsdCBpbiBubyBvcGVyYXRpb24uIChBIG5vb3ApLlxuICAgKlxuICAgKiBBZGRpbmcgYSBzdWJzY3JpcHRpb24gdG8gaXRzZWxmLCBvciBhZGRpbmcgYG51bGxgIG9yIGB1bmRlZmluZWRgIHdpbGwgbm90IHBlcmZvcm0gYW55XG4gICAqIG9wZXJhdGlvbiBhdCBhbGwuIChBIG5vb3ApLlxuICAgKlxuICAgKiBgU3Vic2NyaXB0aW9uYCBpbnN0YW5jZXMgdGhhdCBhcmUgYWRkZWQgdG8gdGhpcyBpbnN0YW5jZSB3aWxsIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZW1zZWx2ZXNcbiAgICogaWYgdGhleSBhcmUgdW5zdWJzY3JpYmVkLiBGdW5jdGlvbnMgYW5kIHtAbGluayBVbnN1YnNjcmliYWJsZX0gb2JqZWN0cyB0aGF0IHlvdSB3aXNoIHRvIHJlbW92ZVxuICAgKiB3aWxsIG5lZWQgdG8gYmUgcmVtb3ZlZCBtYW51YWxseSB3aXRoIHtAbGluayAjcmVtb3ZlfVxuICAgKlxuICAgKiBAcGFyYW0gdGVhcmRvd24gVGhlIGZpbmFsaXphdGlvbiBsb2dpYyB0byBhZGQgdG8gdGhpcyBzdWJzY3JpcHRpb24uXG4gICAqL1xuICBhZGQodGVhcmRvd246IFRlYXJkb3duTG9naWMpOiB2b2lkIHtcbiAgICAvLyBPbmx5IGFkZCB0aGUgZmluYWxpemVyIGlmIGl0J3Mgbm90IHVuZGVmaW5lZFxuICAgIC8vIGFuZCBkb24ndCBhZGQgYSBzdWJzY3JpcHRpb24gdG8gaXRzZWxmLlxuICAgIGlmICh0ZWFyZG93biAmJiB0ZWFyZG93biAhPT0gdGhpcykge1xuICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgIC8vIElmIHRoaXMgc3Vic2NyaXB0aW9uIGlzIGFscmVhZHkgY2xvc2VkLFxuICAgICAgICAvLyBleGVjdXRlIHdoYXRldmVyIGZpbmFsaXplciBpcyBoYW5kZWQgdG8gaXQgYXV0b21hdGljYWxseS5cbiAgICAgICAgZXhlY0ZpbmFsaXplcih0ZWFyZG93bik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGVhcmRvd24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAvLyBXZSBkb24ndCBhZGQgY2xvc2VkIHN1YnNjcmlwdGlvbnMsIGFuZCB3ZSBkb24ndCBhZGQgdGhlIHNhbWUgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgLy8gdHdpY2UuIFN1YnNjcmlwdGlvbiB1bnN1YnNjcmliZSBpcyBpZGVtcG90ZW50LlxuICAgICAgICAgIGlmICh0ZWFyZG93bi5jbG9zZWQgfHwgdGVhcmRvd24uX2hhc1BhcmVudCh0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ZWFyZG93bi5fYWRkUGFyZW50KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgICh0aGlzLl9maW5hbGl6ZXJzID0gdGhpcy5fZmluYWxpemVycyA/PyBbXSkucHVzaCh0ZWFyZG93bik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB0byBzZWUgaWYgYSB0aGlzIHN1YnNjcmlwdGlvbiBhbHJlYWR5IGhhcyBhIHBhcnRpY3VsYXIgcGFyZW50LlxuICAgKiBUaGlzIHdpbGwgc2lnbmFsIHRoYXQgdGhpcyBzdWJzY3JpcHRpb24gaGFzIGFscmVhZHkgYmVlbiBhZGRlZCB0byB0aGUgcGFyZW50IGluIHF1ZXN0aW9uLlxuICAgKiBAcGFyYW0gcGFyZW50IHRoZSBwYXJlbnQgdG8gY2hlY2sgZm9yXG4gICAqL1xuICBwcml2YXRlIF9oYXNQYXJlbnQocGFyZW50OiBTdWJzY3JpcHRpb24pIHtcbiAgICBjb25zdCB7IF9wYXJlbnRhZ2UgfSA9IHRoaXM7XG4gICAgcmV0dXJuIF9wYXJlbnRhZ2UgPT09IHBhcmVudCB8fCAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSAmJiBfcGFyZW50YWdlLmluY2x1ZGVzKHBhcmVudCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBwYXJlbnQgdG8gdGhpcyBzdWJzY3JpcHRpb24gc28gaXQgY2FuIGJlIHJlbW92ZWQgZnJvbSB0aGUgcGFyZW50IGlmIGl0XG4gICAqIHVuc3Vic2NyaWJlcyBvbiBpdCdzIG93bi5cbiAgICpcbiAgICogTk9URTogVEhJUyBBU1NVTUVTIFRIQVQge0BsaW5rIF9oYXNQYXJlbnR9IEhBUyBBTFJFQURZIEJFRU4gQ0hFQ0tFRC5cbiAgICogQHBhcmFtIHBhcmVudCBUaGUgcGFyZW50IHN1YnNjcmlwdGlvbiB0byBhZGRcbiAgICovXG4gIHByaXZhdGUgX2FkZFBhcmVudChwYXJlbnQ6IFN1YnNjcmlwdGlvbikge1xuICAgIGNvbnN0IHsgX3BhcmVudGFnZSB9ID0gdGhpcztcbiAgICB0aGlzLl9wYXJlbnRhZ2UgPSBBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpID8gKF9wYXJlbnRhZ2UucHVzaChwYXJlbnQpLCBfcGFyZW50YWdlKSA6IF9wYXJlbnRhZ2UgPyBbX3BhcmVudGFnZSwgcGFyZW50XSA6IHBhcmVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgb24gYSBjaGlsZCB3aGVuIGl0IGlzIHJlbW92ZWQgdmlhIHtAbGluayAjcmVtb3ZlfS5cbiAgICogQHBhcmFtIHBhcmVudCBUaGUgcGFyZW50IHRvIHJlbW92ZVxuICAgKi9cbiAgcHJpdmF0ZSBfcmVtb3ZlUGFyZW50KHBhcmVudDogU3Vic2NyaXB0aW9uKSB7XG4gICAgY29uc3QgeyBfcGFyZW50YWdlIH0gPSB0aGlzO1xuICAgIGlmIChfcGFyZW50YWdlID09PSBwYXJlbnQpIHtcbiAgICAgIHRoaXMuX3BhcmVudGFnZSA9IG51bGw7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICBhcnJSZW1vdmUoX3BhcmVudGFnZSwgcGFyZW50KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGZpbmFsaXplciBmcm9tIHRoaXMgc3Vic2NyaXB0aW9uIHRoYXQgd2FzIHByZXZpb3VzbHkgYWRkZWQgd2l0aCB0aGUge0BsaW5rICNhZGR9IG1ldGhvZC5cbiAgICpcbiAgICogTm90ZSB0aGF0IGBTdWJzY3JpcHRpb25gIGluc3RhbmNlcywgd2hlbiB1bnN1YnNjcmliZWQsIHdpbGwgYXV0b21hdGljYWxseSByZW1vdmUgdGhlbXNlbHZlc1xuICAgKiBmcm9tIGV2ZXJ5IG90aGVyIGBTdWJzY3JpcHRpb25gIHRoZXkgaGF2ZSBiZWVuIGFkZGVkIHRvLiBUaGlzIG1lYW5zIHRoYXQgdXNpbmcgdGhlIGByZW1vdmVgIG1ldGhvZFxuICAgKiBpcyBub3QgYSBjb21tb24gdGhpbmcgYW5kIHNob3VsZCBiZSB1c2VkIHRob3VnaHRmdWxseS5cbiAgICpcbiAgICogSWYgeW91IGFkZCB0aGUgc2FtZSBmaW5hbGl6ZXIgaW5zdGFuY2Ugb2YgYSBmdW5jdGlvbiBvciBhbiB1bnN1YnNjcmliYWJsZSBvYmplY3QgdG8gYSBgU3Vic2NyaXB0aW9uYCBpbnN0YW5jZVxuICAgKiBtb3JlIHRoYW4gb25jZSwgeW91IHdpbGwgbmVlZCB0byBjYWxsIGByZW1vdmVgIHRoZSBzYW1lIG51bWJlciBvZiB0aW1lcyB0byByZW1vdmUgYWxsIGluc3RhbmNlcy5cbiAgICpcbiAgICogQWxsIGZpbmFsaXplciBpbnN0YW5jZXMgYXJlIHJlbW92ZWQgdG8gZnJlZSB1cCBtZW1vcnkgdXBvbiB1bnN1YnNjcmlwdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHRlYXJkb3duIFRoZSBmaW5hbGl6ZXIgdG8gcmVtb3ZlIGZyb20gdGhpcyBzdWJzY3JpcHRpb25cbiAgICovXG4gIHJlbW92ZSh0ZWFyZG93bjogRXhjbHVkZTxUZWFyZG93bkxvZ2ljLCB2b2lkPik6IHZvaWQge1xuICAgIGNvbnN0IHsgX2ZpbmFsaXplcnMgfSA9IHRoaXM7XG4gICAgX2ZpbmFsaXplcnMgJiYgYXJyUmVtb3ZlKF9maW5hbGl6ZXJzLCB0ZWFyZG93bik7XG5cbiAgICBpZiAodGVhcmRvd24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgIHRlYXJkb3duLl9yZW1vdmVQYXJlbnQodGhpcyk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBFTVBUWV9TVUJTQ1JJUFRJT04gPSBTdWJzY3JpcHRpb24uRU1QVFk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N1YnNjcmlwdGlvbih2YWx1ZTogYW55KTogdmFsdWUgaXMgU3Vic2NyaXB0aW9uIHtcbiAgcmV0dXJuIChcbiAgICB2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbiB8fFxuICAgICh2YWx1ZSAmJiAnY2xvc2VkJyBpbiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnJlbW92ZSkgJiYgaXNGdW5jdGlvbih2YWx1ZS5hZGQpICYmIGlzRnVuY3Rpb24odmFsdWUudW5zdWJzY3JpYmUpKVxuICApO1xufVxuXG5mdW5jdGlvbiBleGVjRmluYWxpemVyKGZpbmFsaXplcjogVW5zdWJzY3JpYmFibGUgfCAoKCkgPT4gdm9pZCkpIHtcbiAgaWYgKGlzRnVuY3Rpb24oZmluYWxpemVyKSkge1xuICAgIGZpbmFsaXplcigpO1xuICB9IGVsc2Uge1xuICAgIGZpbmFsaXplci51bnN1YnNjcmliZSgpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlTm90aWZpY2F0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogVGhlIHtAbGluayBHbG9iYWxDb25maWd9IG9iamVjdCBmb3IgUnhKUy4gSXQgaXMgdXNlZCB0byBjb25maWd1cmUgdGhpbmdzXG4gKiBsaWtlIGhvdyB0byByZWFjdCBvbiB1bmhhbmRsZWQgZXJyb3JzLlxuICovXG5leHBvcnQgY29uc3QgY29uZmlnOiBHbG9iYWxDb25maWcgPSB7XG4gIG9uVW5oYW5kbGVkRXJyb3I6IG51bGwsXG4gIG9uU3RvcHBlZE5vdGlmaWNhdGlvbjogbnVsbCxcbiAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nOiBmYWxzZSxcbiAgdXNlRGVwcmVjYXRlZE5leHRDb250ZXh0OiBmYWxzZSxcbn07XG5cbi8qKlxuICogVGhlIGdsb2JhbCBjb25maWd1cmF0aW9uIG9iamVjdCBmb3IgUnhKUywgdXNlZCB0byBjb25maWd1cmUgdGhpbmdzXG4gKiBsaWtlIGhvdyB0byByZWFjdCBvbiB1bmhhbmRsZWQgZXJyb3JzLiBBY2Nlc3NpYmxlIHZpYSB7QGxpbmsgY29uZmlnfVxuICogb2JqZWN0LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdsb2JhbENvbmZpZyB7XG4gIC8qKlxuICAgKiBBIHJlZ2lzdHJhdGlvbiBwb2ludCBmb3IgdW5oYW5kbGVkIGVycm9ycyBmcm9tIFJ4SlMuIFRoZXNlIGFyZSBlcnJvcnMgdGhhdFxuICAgKiBjYW5ub3Qgd2VyZSBub3QgaGFuZGxlZCBieSBjb25zdW1pbmcgY29kZSBpbiB0aGUgdXN1YWwgc3Vic2NyaXB0aW9uIHBhdGguIEZvclxuICAgKiBleGFtcGxlLCBpZiB5b3UgaGF2ZSB0aGlzIGNvbmZpZ3VyZWQsIGFuZCB5b3Ugc3Vic2NyaWJlIHRvIGFuIG9ic2VydmFibGUgd2l0aG91dFxuICAgKiBwcm92aWRpbmcgYW4gZXJyb3IgaGFuZGxlciwgZXJyb3JzIGZyb20gdGhhdCBzdWJzY3JpcHRpb24gd2lsbCBlbmQgdXAgaGVyZS4gVGhpc1xuICAgKiB3aWxsIF9hbHdheXNfIGJlIGNhbGxlZCBhc3luY2hyb25vdXNseSBvbiBhbm90aGVyIGpvYiBpbiB0aGUgcnVudGltZS4gVGhpcyBpcyBiZWNhdXNlXG4gICAqIHdlIGRvIG5vdCB3YW50IGVycm9ycyB0aHJvd24gaW4gdGhpcyB1c2VyLWNvbmZpZ3VyZWQgaGFuZGxlciB0byBpbnRlcmZlcmUgd2l0aCB0aGVcbiAgICogYmVoYXZpb3Igb2YgdGhlIGxpYnJhcnkuXG4gICAqL1xuICBvblVuaGFuZGxlZEVycm9yOiAoKGVycjogYW55KSA9PiB2b2lkKSB8IG51bGw7XG5cbiAgLyoqXG4gICAqIEEgcmVnaXN0cmF0aW9uIHBvaW50IGZvciBub3RpZmljYXRpb25zIHRoYXQgY2Fubm90IGJlIHNlbnQgdG8gc3Vic2NyaWJlcnMgYmVjYXVzZSB0aGV5XG4gICAqIGhhdmUgY29tcGxldGVkLCBlcnJvcmVkIG9yIGhhdmUgYmVlbiBleHBsaWNpdGx5IHVuc3Vic2NyaWJlZC4gQnkgZGVmYXVsdCwgbmV4dCwgY29tcGxldGVcbiAgICogYW5kIGVycm9yIG5vdGlmaWNhdGlvbnMgc2VudCB0byBzdG9wcGVkIHN1YnNjcmliZXJzIGFyZSBub29wcy4gSG93ZXZlciwgc29tZXRpbWVzIGNhbGxlcnNcbiAgICogbWlnaHQgd2FudCBhIGRpZmZlcmVudCBiZWhhdmlvci4gRm9yIGV4YW1wbGUsIHdpdGggc291cmNlcyB0aGF0IGF0dGVtcHQgdG8gcmVwb3J0IGVycm9yc1xuICAgKiB0byBzdG9wcGVkIHN1YnNjcmliZXJzLCBhIGNhbGxlciBjYW4gY29uZmlndXJlIFJ4SlMgdG8gdGhyb3cgYW4gdW5oYW5kbGVkIGVycm9yIGluc3RlYWQuXG4gICAqIFRoaXMgd2lsbCBfYWx3YXlzXyBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkgb24gYW5vdGhlciBqb2IgaW4gdGhlIHJ1bnRpbWUuIFRoaXMgaXMgYmVjYXVzZVxuICAgKiB3ZSBkbyBub3Qgd2FudCBlcnJvcnMgdGhyb3duIGluIHRoaXMgdXNlci1jb25maWd1cmVkIGhhbmRsZXIgdG8gaW50ZXJmZXJlIHdpdGggdGhlXG4gICAqIGJlaGF2aW9yIG9mIHRoZSBsaWJyYXJ5LlxuICAgKi9cbiAgb25TdG9wcGVkTm90aWZpY2F0aW9uOiAoKG5vdGlmaWNhdGlvbjogT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbjxhbnk+LCBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4pID0+IHZvaWQpIHwgbnVsbDtcblxuICAvKipcbiAgICogVGhlIHByb21pc2UgY29uc3RydWN0b3IgdXNlZCBieSBkZWZhdWx0IGZvciB7QGxpbmsgT2JzZXJ2YWJsZSN0b1Byb21pc2UgdG9Qcm9taXNlfSBhbmQge0BsaW5rIE9ic2VydmFibGUjZm9yRWFjaCBmb3JFYWNofVxuICAgKiBtZXRob2RzLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCBBcyBvZiB2ZXJzaW9uIDgsIFJ4SlMgd2lsbCBubyBsb25nZXIgc3VwcG9ydCB0aGlzIHNvcnQgb2YgaW5qZWN0aW9uIG9mIGFcbiAgICogUHJvbWlzZSBjb25zdHJ1Y3Rvci4gSWYgeW91IG5lZWQgYSBQcm9taXNlIGltcGxlbWVudGF0aW9uIG90aGVyIHRoYW4gbmF0aXZlIHByb21pc2VzLFxuICAgKiBwbGVhc2UgcG9seWZpbGwvcGF0Y2ggUHJvbWlzZSBhcyB5b3Ugc2VlIGFwcHJvcHJpYXRlLiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguXG4gICAqL1xuICBQcm9taXNlPzogUHJvbWlzZUNvbnN0cnVjdG9yTGlrZTtcblxuICAvKipcbiAgICogSWYgdHJ1ZSwgdHVybnMgb24gc3luY2hyb25vdXMgZXJyb3IgcmV0aHJvd2luZywgd2hpY2ggaXMgYSBkZXByZWNhdGVkIGJlaGF2aW9yXG4gICAqIGluIHY2IGFuZCBoaWdoZXIuIFRoaXMgYmVoYXZpb3IgZW5hYmxlcyBiYWQgcGF0dGVybnMgbGlrZSB3cmFwcGluZyBhIHN1YnNjcmliZVxuICAgKiBjYWxsIGluIGEgdHJ5L2NhdGNoIGJsb2NrLiBJdCBhbHNvIGVuYWJsZXMgcHJvZHVjZXIgaW50ZXJmZXJlbmNlLCBhIG5hc3R5IGJ1Z1xuICAgKiB3aGVyZSBhIG11bHRpY2FzdCBjYW4gYmUgYnJva2VuIGZvciBhbGwgb2JzZXJ2ZXJzIGJ5IGEgZG93bnN0cmVhbSBjb25zdW1lciB3aXRoXG4gICAqIGFuIHVuaGFuZGxlZCBlcnJvci4gRE8gTk9UIFVTRSBUSElTIEZMQUcgVU5MRVNTIElUJ1MgTkVFREVEIFRPIEJVWSBUSU1FXG4gICAqIEZPUiBNSUdSQVRJT04gUkVBU09OUy5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgQXMgb2YgdmVyc2lvbiA4LCBSeEpTIHdpbGwgbm8gbG9uZ2VyIHN1cHBvcnQgc3luY2hyb25vdXMgdGhyb3dpbmdcbiAgICogb2YgdW5oYW5kbGVkIGVycm9ycy4gQWxsIGVycm9ycyB3aWxsIGJlIHRocm93biBvbiBhIHNlcGFyYXRlIGNhbGwgc3RhY2sgdG8gcHJldmVudCBiYWRcbiAgICogYmVoYXZpb3JzIGRlc2NyaWJlZCBhYm92ZS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzogYm9vbGVhbjtcblxuICAvKipcbiAgICogSWYgdHJ1ZSwgZW5hYmxlcyBhbiBhcy1vZi15ZXQgdW5kb2N1bWVudGVkIGZlYXR1cmUgZnJvbSB2NTogVGhlIGFiaWxpdHkgdG8gYWNjZXNzXG4gICAqIGB1bnN1YnNjcmliZSgpYCB2aWEgYHRoaXNgIGNvbnRleHQgaW4gYG5leHRgIGZ1bmN0aW9ucyBjcmVhdGVkIGluIG9ic2VydmVycyBwYXNzZWRcbiAgICogdG8gYHN1YnNjcmliZWAuXG4gICAqXG4gICAqIFRoaXMgaXMgYmVpbmcgcmVtb3ZlZCBiZWNhdXNlIHRoZSBwZXJmb3JtYW5jZSB3YXMgc2V2ZXJlbHkgcHJvYmxlbWF0aWMsIGFuZCBpdCBjb3VsZCBhbHNvIGNhdXNlXG4gICAqIGlzc3VlcyB3aGVuIHR5cGVzIG90aGVyIHRoYW4gUE9KT3MgYXJlIHBhc3NlZCB0byBzdWJzY3JpYmUgYXMgc3Vic2NyaWJlcnMsIGFzIHRoZXkgd2lsbCBsaWtlbHkgaGF2ZVxuICAgKiB0aGVpciBgdGhpc2AgY29udGV4dCBvdmVyd3JpdHRlbi5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgQXMgb2YgdmVyc2lvbiA4LCBSeEpTIHdpbGwgbm8gbG9uZ2VyIHN1cHBvcnQgYWx0ZXJpbmcgdGhlXG4gICAqIGNvbnRleHQgb2YgbmV4dCBmdW5jdGlvbnMgcHJvdmlkZWQgYXMgcGFydCBvZiBhbiBvYnNlcnZlciB0byBTdWJzY3JpYmUuIEluc3RlYWQsXG4gICAqIHlvdSB3aWxsIGhhdmUgYWNjZXNzIHRvIGEgc3Vic2NyaXB0aW9uIG9yIGEgc2lnbmFsIG9yIHRva2VuIHRoYXQgd2lsbCBhbGxvdyB5b3UgdG8gZG8gdGhpbmdzIGxpa2VcbiAgICogdW5zdWJzY3JpYmUgYW5kIHRlc3QgY2xvc2VkIHN0YXR1cy4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgdXNlRGVwcmVjYXRlZE5leHRDb250ZXh0OiBib29sZWFuO1xufVxuIiwgImltcG9ydCB0eXBlIHsgVGltZXJIYW5kbGUgfSBmcm9tICcuL3RpbWVySGFuZGxlJztcbnR5cGUgU2V0VGltZW91dEZ1bmN0aW9uID0gKGhhbmRsZXI6ICgpID0+IHZvaWQsIHRpbWVvdXQ/OiBudW1iZXIsIC4uLmFyZ3M6IGFueVtdKSA9PiBUaW1lckhhbmRsZTtcbnR5cGUgQ2xlYXJUaW1lb3V0RnVuY3Rpb24gPSAoaGFuZGxlOiBUaW1lckhhbmRsZSkgPT4gdm9pZDtcblxuaW50ZXJmYWNlIFRpbWVvdXRQcm92aWRlciB7XG4gIHNldFRpbWVvdXQ6IFNldFRpbWVvdXRGdW5jdGlvbjtcbiAgY2xlYXJUaW1lb3V0OiBDbGVhclRpbWVvdXRGdW5jdGlvbjtcbiAgZGVsZWdhdGU6XG4gICAgfCB7XG4gICAgICAgIHNldFRpbWVvdXQ6IFNldFRpbWVvdXRGdW5jdGlvbjtcbiAgICAgICAgY2xlYXJUaW1lb3V0OiBDbGVhclRpbWVvdXRGdW5jdGlvbjtcbiAgICAgIH1cbiAgICB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNvbnN0IHRpbWVvdXRQcm92aWRlcjogVGltZW91dFByb3ZpZGVyID0ge1xuICAvLyBXaGVuIGFjY2Vzc2luZyB0aGUgZGVsZWdhdGUsIHVzZSB0aGUgdmFyaWFibGUgcmF0aGVyIHRoYW4gYHRoaXNgIHNvIHRoYXRcbiAgLy8gdGhlIGZ1bmN0aW9ucyBjYW4gYmUgY2FsbGVkIHdpdGhvdXQgYmVpbmcgYm91bmQgdG8gdGhlIHByb3ZpZGVyLlxuICBzZXRUaW1lb3V0KGhhbmRsZXI6ICgpID0+IHZvaWQsIHRpbWVvdXQ/OiBudW1iZXIsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7IGRlbGVnYXRlIH0gPSB0aW1lb3V0UHJvdmlkZXI7XG4gICAgaWYgKGRlbGVnYXRlPy5zZXRUaW1lb3V0KSB7XG4gICAgICByZXR1cm4gZGVsZWdhdGUuc2V0VGltZW91dChoYW5kbGVyLCB0aW1lb3V0LCAuLi5hcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoaGFuZGxlciwgdGltZW91dCwgLi4uYXJncyk7XG4gIH0sXG4gIGNsZWFyVGltZW91dChoYW5kbGUpIHtcbiAgICBjb25zdCB7IGRlbGVnYXRlIH0gPSB0aW1lb3V0UHJvdmlkZXI7XG4gICAgcmV0dXJuIChkZWxlZ2F0ZT8uY2xlYXJUaW1lb3V0IHx8IGNsZWFyVGltZW91dCkoaGFuZGxlIGFzIGFueSk7XG4gIH0sXG4gIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuIiwgImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyJztcblxuLyoqXG4gKiBIYW5kbGVzIGFuIGVycm9yIG9uIGFub3RoZXIgam9iIGVpdGhlciB3aXRoIHRoZSB1c2VyLWNvbmZpZ3VyZWQge0BsaW5rIG9uVW5oYW5kbGVkRXJyb3J9LFxuICogb3IgYnkgdGhyb3dpbmcgaXQgb24gdGhhdCBuZXcgam9iIHNvIGl0IGNhbiBiZSBwaWNrZWQgdXAgYnkgYHdpbmRvdy5vbmVycm9yYCwgYHByb2Nlc3Mub24oJ2Vycm9yJylgLCBldGMuXG4gKlxuICogVGhpcyBzaG91bGQgYmUgY2FsbGVkIHdoZW5ldmVyIHRoZXJlIGlzIGFuIGVycm9yIHRoYXQgaXMgb3V0LW9mLWJhbmQgd2l0aCB0aGUgc3Vic2NyaXB0aW9uXG4gKiBvciB3aGVuIGFuIGVycm9yIGhpdHMgYSB0ZXJtaW5hbCBib3VuZGFyeSBvZiB0aGUgc3Vic2NyaXB0aW9uIGFuZCBubyBlcnJvciBoYW5kbGVyIHdhcyBwcm92aWRlZC5cbiAqXG4gKiBAcGFyYW0gZXJyIHRoZSBlcnJvciB0byByZXBvcnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlcG9ydFVuaGFuZGxlZEVycm9yKGVycjogYW55KSB7XG4gIHRpbWVvdXRQcm92aWRlci5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICBjb25zdCB7IG9uVW5oYW5kbGVkRXJyb3IgfSA9IGNvbmZpZztcbiAgICBpZiAob25VbmhhbmRsZWRFcnJvcikge1xuICAgICAgLy8gRXhlY3V0ZSB0aGUgdXNlci1jb25maWd1cmVkIGVycm9yIGhhbmRsZXIuXG4gICAgICBvblVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRocm93IHNvIGl0IGlzIHBpY2tlZCB1cCBieSB0aGUgcnVudGltZSdzIHVuY2F1Z2h0IGVycm9yIG1lY2hhbmlzbS5cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH0pO1xufVxuIiwgIi8qIHRzbGludDpkaXNhYmxlOm5vLWVtcHR5ICovXG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuIiwgImltcG9ydCB7IENvbXBsZXRlTm90aWZpY2F0aW9uLCBOZXh0Tm90aWZpY2F0aW9uLCBFcnJvck5vdGlmaWNhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIEEgY29tcGxldGlvbiBvYmplY3Qgb3B0aW1pemVkIGZvciBtZW1vcnkgdXNlIGFuZCBjcmVhdGVkIHRvIGJlIHRoZVxuICogc2FtZSBcInNoYXBlXCIgYXMgb3RoZXIgbm90aWZpY2F0aW9ucyBpbiB2OC5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQ09NUExFVEVfTk9USUZJQ0FUSU9OID0gKCgpID0+IGNyZWF0ZU5vdGlmaWNhdGlvbignQycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKSBhcyBDb21wbGV0ZU5vdGlmaWNhdGlvbikoKTtcblxuLyoqXG4gKiBJbnRlcm5hbCB1c2Ugb25seS4gQ3JlYXRlcyBhbiBvcHRpbWl6ZWQgZXJyb3Igbm90aWZpY2F0aW9uIHRoYXQgaXMgdGhlIHNhbWUgXCJzaGFwZVwiXG4gKiBhcyBvdGhlciBub3RpZmljYXRpb25zLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcnJvck5vdGlmaWNhdGlvbihlcnJvcjogYW55KTogRXJyb3JOb3RpZmljYXRpb24ge1xuICByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdFJywgdW5kZWZpbmVkLCBlcnJvcikgYXMgYW55O1xufVxuXG4vKipcbiAqIEludGVybmFsIHVzZSBvbmx5LiBDcmVhdGVzIGFuIG9wdGltaXplZCBuZXh0IG5vdGlmaWNhdGlvbiB0aGF0IGlzIHRoZSBzYW1lIFwic2hhcGVcIlxuICogYXMgb3RoZXIgbm90aWZpY2F0aW9ucy5cbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmV4dE5vdGlmaWNhdGlvbjxUPih2YWx1ZTogVCkge1xuICByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdOJywgdmFsdWUsIHVuZGVmaW5lZCkgYXMgTmV4dE5vdGlmaWNhdGlvbjxUPjtcbn1cblxuLyoqXG4gKiBFbnN1cmVzIHRoYXQgYWxsIG5vdGlmaWNhdGlvbnMgY3JlYXRlZCBpbnRlcm5hbGx5IGhhdmUgdGhlIHNhbWUgXCJzaGFwZVwiIGluIHY4LlxuICpcbiAqIFRPRE86IFRoaXMgaXMgb25seSBleHBvcnRlZCB0byBzdXBwb3J0IGEgY3JhenkgbGVnYWN5IHRlc3QgaW4gYGdyb3VwQnlgLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb3RpZmljYXRpb24oa2luZDogJ04nIHwgJ0UnIHwgJ0MnLCB2YWx1ZTogYW55LCBlcnJvcjogYW55KSB7XG4gIHJldHVybiB7XG4gICAga2luZCxcbiAgICB2YWx1ZSxcbiAgICBlcnJvcixcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuXG5sZXQgY29udGV4dDogeyBlcnJvclRocm93bjogYm9vbGVhbjsgZXJyb3I6IGFueSB9IHwgbnVsbCA9IG51bGw7XG5cbi8qKlxuICogSGFuZGxlcyBkZWFsaW5nIHdpdGggZXJyb3JzIGZvciBzdXBlci1ncm9zcyBtb2RlLiBDcmVhdGVzIGEgY29udGV4dCwgaW4gd2hpY2hcbiAqIGFueSBzeW5jaHJvbm91c2x5IHRocm93biBlcnJvcnMgd2lsbCBiZSBwYXNzZWQgdG8ge0BsaW5rIGNhcHR1cmVFcnJvcn0uIFdoaWNoXG4gKiB3aWxsIHJlY29yZCB0aGUgZXJyb3Igc3VjaCB0aGF0IGl0IHdpbGwgYmUgcmV0aHJvd24gYWZ0ZXIgdGhlIGNhbGwgYmFjayBpcyBjb21wbGV0ZS5cbiAqIFRPRE86IFJlbW92ZSBpbiB2OFxuICogQHBhcmFtIGNiIEFuIGltbWVkaWF0ZWx5IGV4ZWN1dGVkIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JDb250ZXh0KGNiOiAoKSA9PiB2b2lkKSB7XG4gIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgIGNvbnN0IGlzUm9vdCA9ICFjb250ZXh0O1xuICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgIGNvbnRleHQgPSB7IGVycm9yVGhyb3duOiBmYWxzZSwgZXJyb3I6IG51bGwgfTtcbiAgICB9XG4gICAgY2IoKTtcbiAgICBpZiAoaXNSb290KSB7XG4gICAgICBjb25zdCB7IGVycm9yVGhyb3duLCBlcnJvciB9ID0gY29udGV4dCE7XG4gICAgICBjb250ZXh0ID0gbnVsbDtcbiAgICAgIGlmIChlcnJvclRocm93bikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgZ2VuZXJhbCBub24tZGVwcmVjYXRlZCBwYXRoIGZvciBldmVyeW9uZSB0aGF0XG4gICAgLy8gaXNuJ3QgY3JhenkgZW5vdWdoIHRvIHVzZSBzdXBlci1ncm9zcyBtb2RlICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKVxuICAgIGNiKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBDYXB0dXJlcyBlcnJvcnMgb25seSBpbiBzdXBlci1ncm9zcyBtb2RlLlxuICogQHBhcmFtIGVyciB0aGUgZXJyb3IgdG8gY2FwdHVyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FwdHVyZUVycm9yKGVycjogYW55KSB7XG4gIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiBjb250ZXh0KSB7XG4gICAgY29udGV4dC5lcnJvclRocm93biA9IHRydWU7XG4gICAgY29udGV4dC5lcnJvciA9IGVycjtcbiAgfVxufVxuIiwgImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBPYnNlcnZlciwgT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbiB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgaXNTdWJzY3JpcHRpb24sIFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IHJlcG9ydFVuaGFuZGxlZEVycm9yIH0gZnJvbSAnLi91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yJztcbmltcG9ydCB7IG5vb3AgfSBmcm9tICcuL3V0aWwvbm9vcCc7XG5pbXBvcnQgeyBuZXh0Tm90aWZpY2F0aW9uLCBlcnJvck5vdGlmaWNhdGlvbiwgQ09NUExFVEVfTk9USUZJQ0FUSU9OIH0gZnJvbSAnLi9Ob3RpZmljYXRpb25GYWN0b3JpZXMnO1xuaW1wb3J0IHsgdGltZW91dFByb3ZpZGVyIH0gZnJvbSAnLi9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyJztcbmltcG9ydCB7IGNhcHR1cmVFcnJvciB9IGZyb20gJy4vdXRpbC9lcnJvckNvbnRleHQnO1xuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIHtAbGluayBPYnNlcnZlcn0gaW50ZXJmYWNlIGFuZCBleHRlbmRzIHRoZVxuICoge0BsaW5rIFN1YnNjcmlwdGlvbn0gY2xhc3MuIFdoaWxlIHRoZSB7QGxpbmsgT2JzZXJ2ZXJ9IGlzIHRoZSBwdWJsaWMgQVBJIGZvclxuICogY29uc3VtaW5nIHRoZSB2YWx1ZXMgb2YgYW4ge0BsaW5rIE9ic2VydmFibGV9LCBhbGwgT2JzZXJ2ZXJzIGdldCBjb252ZXJ0ZWQgdG9cbiAqIGEgU3Vic2NyaWJlciwgaW4gb3JkZXIgdG8gcHJvdmlkZSBTdWJzY3JpcHRpb24tbGlrZSBjYXBhYmlsaXRpZXMgc3VjaCBhc1xuICogYHVuc3Vic2NyaWJlYC4gU3Vic2NyaWJlciBpcyBhIGNvbW1vbiB0eXBlIGluIFJ4SlMsIGFuZCBjcnVjaWFsIGZvclxuICogaW1wbGVtZW50aW5nIG9wZXJhdG9ycywgYnV0IGl0IGlzIHJhcmVseSB1c2VkIGFzIGEgcHVibGljIEFQSS5cbiAqXG4gKiBAY2xhc3MgU3Vic2NyaWJlcjxUPlxuICovXG5leHBvcnQgY2xhc3MgU3Vic2NyaWJlcjxUPiBleHRlbmRzIFN1YnNjcmlwdGlvbiBpbXBsZW1lbnRzIE9ic2VydmVyPFQ+IHtcbiAgLyoqXG4gICAqIEEgc3RhdGljIGZhY3RvcnkgZm9yIGEgU3Vic2NyaWJlciwgZ2l2ZW4gYSAocG90ZW50aWFsbHkgcGFydGlhbCkgZGVmaW5pdGlvblxuICAgKiBvZiBhbiBPYnNlcnZlci5cbiAgICogQHBhcmFtIG5leHQgVGhlIGBuZXh0YCBjYWxsYmFjayBvZiBhbiBPYnNlcnZlci5cbiAgICogQHBhcmFtIGVycm9yIFRoZSBgZXJyb3JgIGNhbGxiYWNrIG9mIGFuXG4gICAqIE9ic2VydmVyLlxuICAgKiBAcGFyYW0gY29tcGxldGUgVGhlIGBjb21wbGV0ZWAgY2FsbGJhY2sgb2YgYW5cbiAgICogT2JzZXJ2ZXIuXG4gICAqIEByZXR1cm4gQSBTdWJzY3JpYmVyIHdyYXBwaW5nIHRoZSAocGFydGlhbGx5IGRlZmluZWQpXG4gICAqIE9ic2VydmVyIHJlcHJlc2VudGVkIGJ5IHRoZSBnaXZlbiBhcmd1bWVudHMuXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBkZXByZWNhdGVkIERvIG5vdCB1c2UuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVGhlcmUgaXMgbm8gcmVwbGFjZW1lbnQgZm9yIHRoaXNcbiAgICogbWV0aG9kLCBhbmQgdGhlcmUgaXMgbm8gcmVhc29uIHRvIGJlIGNyZWF0aW5nIGluc3RhbmNlcyBvZiBgU3Vic2NyaWJlcmAgZGlyZWN0bHkuXG4gICAqIElmIHlvdSBoYXZlIGEgc3BlY2lmaWMgdXNlIGNhc2UsIHBsZWFzZSBmaWxlIGFuIGlzc3VlLlxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZTxUPihuZXh0PzogKHg/OiBUKSA9PiB2b2lkLCBlcnJvcj86IChlPzogYW55KSA9PiB2b2lkLCBjb21wbGV0ZT86ICgpID0+IHZvaWQpOiBTdWJzY3JpYmVyPFQ+IHtcbiAgICByZXR1cm4gbmV3IFNhZmVTdWJzY3JpYmVyKG5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gIH1cblxuICAvKiogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguICovXG4gIHByb3RlY3RlZCBpc1N0b3BwZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgLyoqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZSBkaXJlY3RseS4gV2lsbCBiZSBtYWRlIGludGVybmFsIGluIHY4LiAqL1xuICBwcm90ZWN0ZWQgZGVzdGluYXRpb246IFN1YnNjcmliZXI8YW55PiB8IE9ic2VydmVyPGFueT47IC8vIHRoaXMgYGFueWAgaXMgdGhlIGVzY2FwZSBoYXRjaCB0byBlcmFzZSBleHRyYSB0eXBlIHBhcmFtIChlLmcuIFIpXG5cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZSBkaXJlY3RseS4gV2lsbCBiZSBtYWRlIGludGVybmFsIGluIHY4LlxuICAgKiBUaGVyZSBpcyBubyByZWFzb24gdG8gZGlyZWN0bHkgY3JlYXRlIGFuIGluc3RhbmNlIG9mIFN1YnNjcmliZXIuIFRoaXMgdHlwZSBpcyBleHBvcnRlZCBmb3IgdHlwaW5ncyByZWFzb25zLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZGVzdGluYXRpb24/OiBTdWJzY3JpYmVyPGFueT4gfCBPYnNlcnZlcjxhbnk+KSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAoZGVzdGluYXRpb24pIHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcbiAgICAgIC8vIEF1dG9tYXRpY2FsbHkgY2hhaW4gc3Vic2NyaXB0aW9ucyB0b2dldGhlciBoZXJlLlxuICAgICAgLy8gaWYgZGVzdGluYXRpb24gaXMgYSBTdWJzY3JpcHRpb24sIHRoZW4gaXQgaXMgYSBTdWJzY3JpYmVyLlxuICAgICAgaWYgKGlzU3Vic2NyaXB0aW9uKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICBkZXN0aW5hdGlvbi5hZGQodGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBFTVBUWV9PQlNFUlZFUjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIHtAbGluayBPYnNlcnZlcn0gY2FsbGJhY2sgdG8gcmVjZWl2ZSBub3RpZmljYXRpb25zIG9mIHR5cGUgYG5leHRgIGZyb21cbiAgICogdGhlIE9ic2VydmFibGUsIHdpdGggYSB2YWx1ZS4gVGhlIE9ic2VydmFibGUgbWF5IGNhbGwgdGhpcyBtZXRob2QgMCBvciBtb3JlXG4gICAqIHRpbWVzLlxuICAgKiBAcGFyYW0ge1R9IFt2YWx1ZV0gVGhlIGBuZXh0YCB2YWx1ZS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIG5leHQodmFsdWU/OiBUKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKG5leHROb3RpZmljYXRpb24odmFsdWUpLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbmV4dCh2YWx1ZSEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUge0BsaW5rIE9ic2VydmVyfSBjYWxsYmFjayB0byByZWNlaXZlIG5vdGlmaWNhdGlvbnMgb2YgdHlwZSBgZXJyb3JgIGZyb21cbiAgICogdGhlIE9ic2VydmFibGUsIHdpdGggYW4gYXR0YWNoZWQgYEVycm9yYC4gTm90aWZpZXMgdGhlIE9ic2VydmVyIHRoYXRcbiAgICogdGhlIE9ic2VydmFibGUgaGFzIGV4cGVyaWVuY2VkIGFuIGVycm9yIGNvbmRpdGlvbi5cbiAgICogQHBhcmFtIHthbnl9IFtlcnJdIFRoZSBgZXJyb3JgIGV4Y2VwdGlvbi5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGVycm9yKGVycj86IGFueSk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihlcnJvck5vdGlmaWNhdGlvbihlcnIpLCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhlIHtAbGluayBPYnNlcnZlcn0gY2FsbGJhY2sgdG8gcmVjZWl2ZSBhIHZhbHVlbGVzcyBub3RpZmljYXRpb24gb2YgdHlwZVxuICAgKiBgY29tcGxldGVgIGZyb20gdGhlIE9ic2VydmFibGUuIE5vdGlmaWVzIHRoZSBPYnNlcnZlciB0aGF0IHRoZSBPYnNlcnZhYmxlXG4gICAqIGhhcyBmaW5pc2hlZCBzZW5kaW5nIHB1c2gtYmFzZWQgbm90aWZpY2F0aW9ucy5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNvbXBsZXRlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihDT01QTEVURV9OT1RJRklDQVRJT04sIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHVuc3Vic2NyaWJlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgIHN1cGVyLnVuc3Vic2NyaWJlKCk7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uID0gbnVsbCE7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIF9uZXh0KHZhbHVlOiBUKTogdm9pZCB7XG4gICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfZXJyb3IoZXJyOiBhbnkpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIF9jb21wbGV0ZSgpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVGhpcyBiaW5kIGlzIGNhcHR1cmVkIGhlcmUgYmVjYXVzZSB3ZSB3YW50IHRvIGJlIGFibGUgdG8gaGF2ZVxuICogY29tcGF0aWJpbGl0eSB3aXRoIG1vbm9pZCBsaWJyYXJpZXMgdGhhdCB0ZW5kIHRvIHVzZSBhIG1ldGhvZCBuYW1lZFxuICogYGJpbmRgLiBJbiBwYXJ0aWN1bGFyLCBhIGxpYnJhcnkgY2FsbGVkIE1vbmlvIHJlcXVpcmVzIHRoaXMuXG4gKi9cbmNvbnN0IF9iaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG5cbmZ1bmN0aW9uIGJpbmQ8Rm4gZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4oZm46IEZuLCB0aGlzQXJnOiBhbnkpOiBGbiB7XG4gIHJldHVybiBfYmluZC5jYWxsKGZuLCB0aGlzQXJnKTtcbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBvcHRpbWl6YXRpb24gb25seSwgRE8gTk9UIEVYUE9TRS5cbiAqIEBpbnRlcm5hbFxuICovXG5jbGFzcyBDb25zdW1lck9ic2VydmVyPFQ+IGltcGxlbWVudHMgT2JzZXJ2ZXI8VD4ge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBhcnRpYWxPYnNlcnZlcjogUGFydGlhbDxPYnNlcnZlcjxUPj4pIHt9XG5cbiAgbmV4dCh2YWx1ZTogVCk6IHZvaWQge1xuICAgIGNvbnN0IHsgcGFydGlhbE9ic2VydmVyIH0gPSB0aGlzO1xuICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIubmV4dCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGFydGlhbE9ic2VydmVyLm5leHQodmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGVycm9yKGVycjogYW55KTogdm9pZCB7XG4gICAgY29uc3QgeyBwYXJ0aWFsT2JzZXJ2ZXIgfSA9IHRoaXM7XG4gICAgaWYgKHBhcnRpYWxPYnNlcnZlci5lcnJvcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGFydGlhbE9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycik7XG4gICAgfVxuICB9XG5cbiAgY29tcGxldGUoKTogdm9pZCB7XG4gICAgY29uc3QgeyBwYXJ0aWFsT2JzZXJ2ZXIgfSA9IHRoaXM7XG4gICAgaWYgKHBhcnRpYWxPYnNlcnZlci5jb21wbGV0ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTYWZlU3Vic2NyaWJlcjxUPiBleHRlbmRzIFN1YnNjcmliZXI8VD4ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBvYnNlcnZlck9yTmV4dD86IFBhcnRpYWw8T2JzZXJ2ZXI8VD4+IHwgKCh2YWx1ZTogVCkgPT4gdm9pZCkgfCBudWxsLFxuICAgIGVycm9yPzogKChlPzogYW55KSA9PiB2b2lkKSB8IG51bGwsXG4gICAgY29tcGxldGU/OiAoKCkgPT4gdm9pZCkgfCBudWxsXG4gICkge1xuICAgIHN1cGVyKCk7XG5cbiAgICBsZXQgcGFydGlhbE9ic2VydmVyOiBQYXJ0aWFsPE9ic2VydmVyPFQ+PjtcbiAgICBpZiAoaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkgfHwgIW9ic2VydmVyT3JOZXh0KSB7XG4gICAgICAvLyBUaGUgZmlyc3QgYXJndW1lbnQgaXMgYSBmdW5jdGlvbiwgbm90IGFuIG9ic2VydmVyLiBUaGUgbmV4dFxuICAgICAgLy8gdHdvIGFyZ3VtZW50cyAqY291bGQqIGJlIG9ic2VydmVycywgb3IgdGhleSBjb3VsZCBiZSBlbXB0eS5cbiAgICAgIHBhcnRpYWxPYnNlcnZlciA9IHtcbiAgICAgICAgbmV4dDogKG9ic2VydmVyT3JOZXh0ID8/IHVuZGVmaW5lZCkgYXMgKCgodmFsdWU6IFQpID0+IHZvaWQpIHwgdW5kZWZpbmVkKSxcbiAgICAgICAgZXJyb3I6IGVycm9yID8/IHVuZGVmaW5lZCxcbiAgICAgICAgY29tcGxldGU6IGNvbXBsZXRlID8/IHVuZGVmaW5lZCxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoZSBmaXJzdCBhcmd1bWVudCBpcyBhIHBhcnRpYWwgb2JzZXJ2ZXIuXG4gICAgICBsZXQgY29udGV4dDogYW55O1xuICAgICAgaWYgKHRoaXMgJiYgY29uZmlnLnVzZURlcHJlY2F0ZWROZXh0Q29udGV4dCkge1xuICAgICAgICAvLyBUaGlzIGlzIGEgZGVwcmVjYXRlZCBwYXRoIHRoYXQgbWFkZSBgdGhpcy51bnN1YnNjcmliZSgpYCBhdmFpbGFibGUgaW5cbiAgICAgICAgLy8gbmV4dCBoYW5kbGVyIGZ1bmN0aW9ucyBwYXNzZWQgdG8gc3Vic2NyaWJlLiBUaGlzIG9ubHkgZXhpc3RzIGJlaGluZCBhIGZsYWdcbiAgICAgICAgLy8gbm93LCBhcyBpdCBpcyAqdmVyeSogc2xvdy5cbiAgICAgICAgY29udGV4dCA9IE9iamVjdC5jcmVhdGUob2JzZXJ2ZXJPck5leHQpO1xuICAgICAgICBjb250ZXh0LnVuc3Vic2NyaWJlID0gKCkgPT4gdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSB7XG4gICAgICAgICAgbmV4dDogb2JzZXJ2ZXJPck5leHQubmV4dCAmJiBiaW5kKG9ic2VydmVyT3JOZXh0Lm5leHQsIGNvbnRleHQpLFxuICAgICAgICAgIGVycm9yOiBvYnNlcnZlck9yTmV4dC5lcnJvciAmJiBiaW5kKG9ic2VydmVyT3JOZXh0LmVycm9yLCBjb250ZXh0KSxcbiAgICAgICAgICBjb21wbGV0ZTogb2JzZXJ2ZXJPck5leHQuY29tcGxldGUgJiYgYmluZChvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSwgY29udGV4dCksXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGUgXCJub3JtYWxcIiBwYXRoLiBKdXN0IHVzZSB0aGUgcGFydGlhbCBvYnNlcnZlciBkaXJlY3RseS5cbiAgICAgICAgcGFydGlhbE9ic2VydmVyID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV3JhcCB0aGUgcGFydGlhbCBvYnNlcnZlciB0byBlbnN1cmUgaXQncyBhIGZ1bGwgb2JzZXJ2ZXIsIGFuZFxuICAgIC8vIG1ha2Ugc3VyZSBwcm9wZXIgZXJyb3IgaGFuZGxpbmcgaXMgYWNjb3VudGVkIGZvci5cbiAgICB0aGlzLmRlc3RpbmF0aW9uID0gbmV3IENvbnN1bWVyT2JzZXJ2ZXIocGFydGlhbE9ic2VydmVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcjogYW55KSB7XG4gIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgIGNhcHR1cmVFcnJvcihlcnJvcik7XG4gIH0gZWxzZSB7XG4gICAgLy8gSWRlYWwgcGF0aCwgd2UgcmVwb3J0IHRoaXMgYXMgYW4gdW5oYW5kbGVkIGVycm9yLFxuICAgIC8vIHdoaWNoIGlzIHRocm93biBvbiBhIG5ldyBjYWxsIHN0YWNrLlxuICAgIHJlcG9ydFVuaGFuZGxlZEVycm9yKGVycm9yKTtcbiAgfVxufVxuXG4vKipcbiAqIEFuIGVycm9yIGhhbmRsZXIgdXNlZCB3aGVuIG5vIGVycm9yIGhhbmRsZXIgd2FzIHN1cHBsaWVkXG4gKiB0byB0aGUgU2FmZVN1YnNjcmliZXIgLS0gbWVhbmluZyBubyBlcnJvciBoYW5kbGVyIHdhcyBzdXBwbGllZFxuICogZG8gdGhlIGBzdWJzY3JpYmVgIGNhbGwgb24gb3VyIG9ic2VydmFibGUuXG4gKiBAcGFyYW0gZXJyIFRoZSBlcnJvciB0byBoYW5kbGVcbiAqL1xuZnVuY3Rpb24gZGVmYXVsdEVycm9ySGFuZGxlcihlcnI6IGFueSkge1xuICB0aHJvdyBlcnI7XG59XG5cbi8qKlxuICogQSBoYW5kbGVyIGZvciBub3RpZmljYXRpb25zIHRoYXQgY2Fubm90IGJlIHNlbnQgdG8gYSBzdG9wcGVkIHN1YnNjcmliZXIuXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uIFRoZSBub3RpZmljYXRpb24gYmVpbmcgc2VudFxuICogQHBhcmFtIHN1YnNjcmliZXIgVGhlIHN0b3BwZWQgc3Vic2NyaWJlclxuICovXG5mdW5jdGlvbiBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbjogT2JzZXJ2YWJsZU5vdGlmaWNhdGlvbjxhbnk+LCBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4pIHtcbiAgY29uc3QgeyBvblN0b3BwZWROb3RpZmljYXRpb24gfSA9IGNvbmZpZztcbiAgb25TdG9wcGVkTm90aWZpY2F0aW9uICYmIHRpbWVvdXRQcm92aWRlci5zZXRUaW1lb3V0KCgpID0+IG9uU3RvcHBlZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHN1YnNjcmliZXIpKTtcbn1cblxuLyoqXG4gKiBUaGUgb2JzZXJ2ZXIgdXNlZCBhcyBhIHN0dWIgZm9yIHN1YnNjcmlwdGlvbnMgd2hlcmUgdGhlIHVzZXIgZGlkIG5vdFxuICogcGFzcyBhbnkgYXJndW1lbnRzIHRvIGBzdWJzY3JpYmVgLiBDb21lcyB3aXRoIHRoZSBkZWZhdWx0IGVycm9yIGhhbmRsaW5nXG4gKiBiZWhhdmlvci5cbiAqL1xuZXhwb3J0IGNvbnN0IEVNUFRZX09CU0VSVkVSOiBSZWFkb25seTxPYnNlcnZlcjxhbnk+PiAmIHsgY2xvc2VkOiB0cnVlIH0gPSB7XG4gIGNsb3NlZDogdHJ1ZSxcbiAgbmV4dDogbm9vcCxcbiAgZXJyb3I6IGRlZmF1bHRFcnJvckhhbmRsZXIsXG4gIGNvbXBsZXRlOiBub29wLFxufTtcbiIsICIvKipcbiAqIFN5bWJvbC5vYnNlcnZhYmxlIG9yIGEgc3RyaW5nIFwiQEBvYnNlcnZhYmxlXCIuIFVzZWQgZm9yIGludGVyb3BcbiAqXG4gKiBAZGVwcmVjYXRlZCBXZSB3aWxsIG5vIGxvbmdlciBiZSBleHBvcnRpbmcgdGhpcyBzeW1ib2wgaW4gdXBjb21pbmcgdmVyc2lvbnMgb2YgUnhKUy5cbiAqIEluc3RlYWQgcG9seWZpbGwgYW5kIHVzZSBTeW1ib2wub2JzZXJ2YWJsZSBkaXJlY3RseSAqb3IqIHVzZSBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9zeW1ib2wtb2JzZXJ2YWJsZVxuICovXG5leHBvcnQgY29uc3Qgb2JzZXJ2YWJsZTogc3RyaW5nIHwgc3ltYm9sID0gKCgpID0+ICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlKSB8fCAnQEBvYnNlcnZhYmxlJykoKTtcbiIsICIvKipcbiAqIFRoaXMgZnVuY3Rpb24gdGFrZXMgb25lIHBhcmFtZXRlciBhbmQganVzdCByZXR1cm5zIGl0LiBTaW1wbHkgcHV0LFxuICogdGhpcyBpcyBsaWtlIGA8VD4oeDogVCk6IFQgPT4geGAuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCBpbiBzb21lIGNhc2VzIHdoZW4gdXNpbmcgdGhpbmdzIGxpa2UgYG1lcmdlTWFwYFxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGFrZSwgbWFwLCByYW5nZSwgbWVyZ2VNYXAsIGlkZW50aXR5IH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlJCA9IGludGVydmFsKDEwMDApLnBpcGUodGFrZSg1KSk7XG4gKlxuICogY29uc3QgcmVzdWx0JCA9IHNvdXJjZSQucGlwZShcbiAqICAgbWFwKGkgPT4gcmFuZ2UoaSkpLFxuICogICBtZXJnZU1hcChpZGVudGl0eSkgLy8gc2FtZSBhcyBtZXJnZU1hcCh4ID0+IHgpXG4gKiApO1xuICpcbiAqIHJlc3VsdCQuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogY29uc29sZS5sb2dcbiAqIH0pO1xuICogYGBgXG4gKlxuICogT3Igd2hlbiB5b3Ugd2FudCB0byBzZWxlY3RpdmVseSBhcHBseSBhbiBvcGVyYXRvclxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGFrZSwgaWRlbnRpdHkgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzaG91bGRMaW1pdCA9ICgpID0+IE1hdGgucmFuZG9tKCkgPCAwLjU7XG4gKlxuICogY29uc3Qgc291cmNlJCA9IGludGVydmFsKDEwMDApO1xuICpcbiAqIGNvbnN0IHJlc3VsdCQgPSBzb3VyY2UkLnBpcGUoc2hvdWxkTGltaXQoKSA/IHRha2UoNSkgOiBpZGVudGl0eSk7XG4gKlxuICogcmVzdWx0JC5zdWJzY3JpYmUoe1xuICogICBuZXh0OiBjb25zb2xlLmxvZ1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0geCBBbnkgdmFsdWUgdGhhdCBpcyByZXR1cm5lZCBieSB0aGlzIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyBUaGUgdmFsdWUgcGFzc2VkIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXIgdG8gdGhpcyBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHk8VD4oeDogVCk6IFQge1xuICByZXR1cm4geDtcbn1cbiIsICJpbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4vaWRlbnRpdHknO1xuaW1wb3J0IHsgVW5hcnlGdW5jdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoKTogdHlwZW9mIGlkZW50aXR5O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQT4oZm4xOiBVbmFyeUZ1bmN0aW9uPFQsIEE+KTogVW5hcnlGdW5jdGlvbjxULCBBPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEI+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPiwgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+KTogVW5hcnlGdW5jdGlvbjxULCBCPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEM+KGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPiwgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LCBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4pOiBVbmFyeUZ1bmN0aW9uPFQsIEM+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQywgRD4oXG4gIGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPixcbiAgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LFxuICBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4sXG4gIGZuNDogVW5hcnlGdW5jdGlvbjxDLCBEPlxuKTogVW5hcnlGdW5jdGlvbjxULCBEPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEU+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sXG4gIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPlxuKTogVW5hcnlGdW5jdGlvbjxULCBFPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEY+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sXG4gIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPixcbiAgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+XG4pOiBVbmFyeUZ1bmN0aW9uPFQsIEY+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQywgRCwgRSwgRiwgRz4oXG4gIGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPixcbiAgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LFxuICBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4sXG4gIGZuNDogVW5hcnlGdW5jdGlvbjxDLCBEPixcbiAgZm41OiBVbmFyeUZ1bmN0aW9uPEQsIEU+LFxuICBmbjY6IFVuYXJ5RnVuY3Rpb248RSwgRj4sXG4gIGZuNzogVW5hcnlGdW5jdGlvbjxGLCBHPlxuKTogVW5hcnlGdW5jdGlvbjxULCBHPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEYsIEcsIEg+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sXG4gIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPixcbiAgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+LFxuICBmbjc6IFVuYXJ5RnVuY3Rpb248RiwgRz4sXG4gIGZuODogVW5hcnlGdW5jdGlvbjxHLCBIPlxuKTogVW5hcnlGdW5jdGlvbjxULCBIPjtcbmV4cG9ydCBmdW5jdGlvbiBwaXBlPFQsIEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgsIEk+KFxuICBmbjE6IFVuYXJ5RnVuY3Rpb248VCwgQT4sXG4gIGZuMjogVW5hcnlGdW5jdGlvbjxBLCBCPixcbiAgZm4zOiBVbmFyeUZ1bmN0aW9uPEIsIEM+LFxuICBmbjQ6IFVuYXJ5RnVuY3Rpb248QywgRD4sXG4gIGZuNTogVW5hcnlGdW5jdGlvbjxELCBFPixcbiAgZm42OiBVbmFyeUZ1bmN0aW9uPEUsIEY+LFxuICBmbjc6IFVuYXJ5RnVuY3Rpb248RiwgRz4sXG4gIGZuODogVW5hcnlGdW5jdGlvbjxHLCBIPixcbiAgZm45OiBVbmFyeUZ1bmN0aW9uPEgsIEk+XG4pOiBVbmFyeUZ1bmN0aW9uPFQsIEk+O1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGU8VCwgQSwgQiwgQywgRCwgRSwgRiwgRywgSCwgST4oXG4gIGZuMTogVW5hcnlGdW5jdGlvbjxULCBBPixcbiAgZm4yOiBVbmFyeUZ1bmN0aW9uPEEsIEI+LFxuICBmbjM6IFVuYXJ5RnVuY3Rpb248QiwgQz4sXG4gIGZuNDogVW5hcnlGdW5jdGlvbjxDLCBEPixcbiAgZm41OiBVbmFyeUZ1bmN0aW9uPEQsIEU+LFxuICBmbjY6IFVuYXJ5RnVuY3Rpb248RSwgRj4sXG4gIGZuNzogVW5hcnlGdW5jdGlvbjxGLCBHPixcbiAgZm44OiBVbmFyeUZ1bmN0aW9uPEcsIEg+LFxuICBmbjk6IFVuYXJ5RnVuY3Rpb248SCwgST4sXG4gIC4uLmZuczogVW5hcnlGdW5jdGlvbjxhbnksIGFueT5bXVxuKTogVW5hcnlGdW5jdGlvbjxULCB1bmtub3duPjtcblxuLyoqXG4gKiBwaXBlKCkgY2FuIGJlIGNhbGxlZCBvbiBvbmUgb3IgbW9yZSBmdW5jdGlvbnMsIGVhY2ggb2Ygd2hpY2ggY2FuIHRha2Ugb25lIGFyZ3VtZW50IChcIlVuYXJ5RnVuY3Rpb25cIilcbiAqIGFuZCB1c2VzIGl0IHRvIHJldHVybiBhIHZhbHVlLlxuICogSXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgb25lIGFyZ3VtZW50LCBwYXNzZXMgaXQgdG8gdGhlIGZpcnN0IFVuYXJ5RnVuY3Rpb24sIGFuZCB0aGVuXG4gKiBwYXNzZXMgdGhlIHJlc3VsdCB0byB0aGUgbmV4dCBvbmUsIHBhc3NlcyB0aGF0IHJlc3VsdCB0byB0aGUgbmV4dCBvbmUsIGFuZCBzbyBvbi4gIFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGlwZSguLi5mbnM6IEFycmF5PFVuYXJ5RnVuY3Rpb248YW55LCBhbnk+Pik6IFVuYXJ5RnVuY3Rpb248YW55LCBhbnk+IHtcbiAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGVGcm9tQXJyYXk8VCwgUj4oZm5zOiBBcnJheTxVbmFyeUZ1bmN0aW9uPFQsIFI+Pik6IFVuYXJ5RnVuY3Rpb248VCwgUj4ge1xuICBpZiAoZm5zLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBpZGVudGl0eSBhcyBVbmFyeUZ1bmN0aW9uPGFueSwgYW55PjtcbiAgfVxuXG4gIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGZuc1swXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dDogVCk6IFIge1xuICAgIHJldHVybiBmbnMucmVkdWNlKChwcmV2OiBhbnksIGZuOiBVbmFyeUZ1bmN0aW9uPFQsIFI+KSA9PiBmbihwcmV2KSwgaW5wdXQgYXMgYW55KTtcbiAgfTtcbn1cbiIsICJpbXBvcnQgeyBPcGVyYXRvciB9IGZyb20gJy4vT3BlcmF0b3InO1xuaW1wb3J0IHsgU2FmZVN1YnNjcmliZXIsIFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgaXNTdWJzY3JpcHRpb24sIFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IFRlYXJkb3duTG9naWMsIE9wZXJhdG9yRnVuY3Rpb24sIFN1YnNjcmliYWJsZSwgT2JzZXJ2ZXIgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHBpcGVGcm9tQXJyYXkgfSBmcm9tICcuL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZXJyb3JDb250ZXh0IH0gZnJvbSAnLi91dGlsL2Vycm9yQ29udGV4dCc7XG5cbi8qKlxuICogQSByZXByZXNlbnRhdGlvbiBvZiBhbnkgc2V0IG9mIHZhbHVlcyBvdmVyIGFueSBhbW91bnQgb2YgdGltZS4gVGhpcyBpcyB0aGUgbW9zdCBiYXNpYyBidWlsZGluZyBibG9ja1xuICogb2YgUnhKUy5cbiAqXG4gKiBAY2xhc3MgT2JzZXJ2YWJsZTxUPlxuICovXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZTxUPiBpbXBsZW1lbnRzIFN1YnNjcmliYWJsZTxUPiB7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC5cbiAgICovXG4gIHNvdXJjZTogT2JzZXJ2YWJsZTxhbnk+IHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC5cbiAgICovXG4gIG9wZXJhdG9yOiBPcGVyYXRvcjxhbnksIFQ+IHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3Vic2NyaWJlIHRoZSBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBPYnNlcnZhYmxlIGlzXG4gICAqIGluaXRpYWxseSBzdWJzY3JpYmVkIHRvLiBUaGlzIGZ1bmN0aW9uIGlzIGdpdmVuIGEgU3Vic2NyaWJlciwgdG8gd2hpY2ggbmV3IHZhbHVlc1xuICAgKiBjYW4gYmUgYG5leHRgZWQsIG9yIGFuIGBlcnJvcmAgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmFpc2UgYW4gZXJyb3IsIG9yXG4gICAqIGBjb21wbGV0ZWAgY2FuIGJlIGNhbGxlZCB0byBub3RpZnkgb2YgYSBzdWNjZXNzZnVsIGNvbXBsZXRpb24uXG4gICAqL1xuICBjb25zdHJ1Y3RvcihzdWJzY3JpYmU/OiAodGhpczogT2JzZXJ2YWJsZTxUPiwgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPikgPT4gVGVhcmRvd25Mb2dpYykge1xuICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICB9XG4gIH1cblxuICAvLyBIQUNLOiBTaW5jZSBUeXBlU2NyaXB0IGluaGVyaXRzIHN0YXRpYyBwcm9wZXJ0aWVzIHRvbywgd2UgaGF2ZSB0b1xuICAvLyBmaWdodCBhZ2FpbnN0IFR5cGVTY3JpcHQgaGVyZSBzbyBTdWJqZWN0IGNhbiBoYXZlIGEgZGlmZmVyZW50IHN0YXRpYyBjcmVhdGUgc2lnbmF0dXJlXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IE9ic2VydmFibGUgYnkgY2FsbGluZyB0aGUgT2JzZXJ2YWJsZSBjb25zdHJ1Y3RvclxuICAgKiBAb3duZXIgT2JzZXJ2YWJsZVxuICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdWJzY3JpYmU/IHRoZSBzdWJzY3JpYmVyIGZ1bmN0aW9uIHRvIGJlIHBhc3NlZCB0byB0aGUgT2JzZXJ2YWJsZSBjb25zdHJ1Y3RvclxuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlfSBhIG5ldyBvYnNlcnZhYmxlXG4gICAqIEBub2NvbGxhcHNlXG4gICAqIEBkZXByZWNhdGVkIFVzZSBgbmV3IE9ic2VydmFibGUoKWAgaW5zdGVhZC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZTogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkgPSA8VD4oc3Vic2NyaWJlPzogKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pID0+IFRlYXJkb3duTG9naWMpID0+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8VD4oc3Vic2NyaWJlKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBPYnNlcnZhYmxlLCB3aXRoIHRoaXMgT2JzZXJ2YWJsZSBpbnN0YW5jZSBhcyB0aGUgc291cmNlLCBhbmQgdGhlIHBhc3NlZFxuICAgKiBvcGVyYXRvciBkZWZpbmVkIGFzIHRoZSBuZXcgb2JzZXJ2YWJsZSdzIG9wZXJhdG9yLlxuICAgKiBAbWV0aG9kIGxpZnRcbiAgICogQHBhcmFtIG9wZXJhdG9yIHRoZSBvcGVyYXRvciBkZWZpbmluZyB0aGUgb3BlcmF0aW9uIHRvIHRha2Ugb24gdGhlIG9ic2VydmFibGVcbiAgICogQHJldHVybiBhIG5ldyBvYnNlcnZhYmxlIHdpdGggdGhlIE9wZXJhdG9yIGFwcGxpZWRcbiAgICogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguXG4gICAqIElmIHlvdSBoYXZlIGltcGxlbWVudGVkIGFuIG9wZXJhdG9yIHVzaW5nIGBsaWZ0YCwgaXQgaXMgcmVjb21tZW5kZWQgdGhhdCB5b3UgY3JlYXRlIGFuXG4gICAqIG9wZXJhdG9yIGJ5IHNpbXBseSByZXR1cm5pbmcgYG5ldyBPYnNlcnZhYmxlKClgIGRpcmVjdGx5LiBTZWUgXCJDcmVhdGluZyBuZXcgb3BlcmF0b3JzIGZyb21cbiAgICogc2NyYXRjaFwiIHNlY3Rpb24gaGVyZTogaHR0cHM6Ly9yeGpzLmRldi9ndWlkZS9vcGVyYXRvcnNcbiAgICovXG4gIGxpZnQ8Uj4ob3BlcmF0b3I/OiBPcGVyYXRvcjxULCBSPik6IE9ic2VydmFibGU8Uj4ge1xuICAgIGNvbnN0IG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxSPigpO1xuICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG4gIH1cblxuICBzdWJzY3JpYmUob2JzZXJ2ZXJPck5leHQ/OiBQYXJ0aWFsPE9ic2VydmVyPFQ+PiB8ICgodmFsdWU6IFQpID0+IHZvaWQpKTogU3Vic2NyaXB0aW9uO1xuICAvKiogQGRlcHJlY2F0ZWQgSW5zdGVhZCBvZiBwYXNzaW5nIHNlcGFyYXRlIGNhbGxiYWNrIGFyZ3VtZW50cywgdXNlIGFuIG9ic2VydmVyIGFyZ3VtZW50LiBTaWduYXR1cmVzIHRha2luZyBzZXBhcmF0ZSBjYWxsYmFjayBhcmd1bWVudHMgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zdWJzY3JpYmUtYXJndW1lbnRzICovXG4gIHN1YnNjcmliZShuZXh0PzogKCh2YWx1ZTogVCkgPT4gdm9pZCkgfCBudWxsLCBlcnJvcj86ICgoZXJyb3I6IGFueSkgPT4gdm9pZCkgfCBudWxsLCBjb21wbGV0ZT86ICgoKSA9PiB2b2lkKSB8IG51bGwpOiBTdWJzY3JpcHRpb247XG4gIC8qKlxuICAgKiBJbnZva2VzIGFuIGV4ZWN1dGlvbiBvZiBhbiBPYnNlcnZhYmxlIGFuZCByZWdpc3RlcnMgT2JzZXJ2ZXIgaGFuZGxlcnMgZm9yIG5vdGlmaWNhdGlvbnMgaXQgd2lsbCBlbWl0LlxuICAgKlxuICAgKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VXNlIGl0IHdoZW4geW91IGhhdmUgYWxsIHRoZXNlIE9ic2VydmFibGVzLCBidXQgc3RpbGwgbm90aGluZyBpcyBoYXBwZW5pbmcuPC9zcGFuPlxuICAgKlxuICAgKiBgc3Vic2NyaWJlYCBpcyBub3QgYSByZWd1bGFyIG9wZXJhdG9yLCBidXQgYSBtZXRob2QgdGhhdCBjYWxscyBPYnNlcnZhYmxlJ3MgaW50ZXJuYWwgYHN1YnNjcmliZWAgZnVuY3Rpb24uIEl0XG4gICAqIG1pZ2h0IGJlIGZvciBleGFtcGxlIGEgZnVuY3Rpb24gdGhhdCB5b3UgcGFzc2VkIHRvIE9ic2VydmFibGUncyBjb25zdHJ1Y3RvciwgYnV0IG1vc3Qgb2YgdGhlIHRpbWUgaXQgaXNcbiAgICogYSBsaWJyYXJ5IGltcGxlbWVudGF0aW9uLCB3aGljaCBkZWZpbmVzIHdoYXQgd2lsbCBiZSBlbWl0dGVkIGJ5IGFuIE9ic2VydmFibGUsIGFuZCB3aGVuIGl0IGJlIHdpbGwgZW1pdHRlZC4gVGhpcyBtZWFuc1xuICAgKiB0aGF0IGNhbGxpbmcgYHN1YnNjcmliZWAgaXMgYWN0dWFsbHkgdGhlIG1vbWVudCB3aGVuIE9ic2VydmFibGUgc3RhcnRzIGl0cyB3b3JrLCBub3Qgd2hlbiBpdCBpcyBjcmVhdGVkLCBhcyBpdCBpcyBvZnRlblxuICAgKiB0aGUgdGhvdWdodC5cbiAgICpcbiAgICogQXBhcnQgZnJvbSBzdGFydGluZyB0aGUgZXhlY3V0aW9uIG9mIGFuIE9ic2VydmFibGUsIHRoaXMgbWV0aG9kIGFsbG93cyB5b3UgdG8gbGlzdGVuIGZvciB2YWx1ZXNcbiAgICogdGhhdCBhbiBPYnNlcnZhYmxlIGVtaXRzLCBhcyB3ZWxsIGFzIGZvciB3aGVuIGl0IGNvbXBsZXRlcyBvciBlcnJvcnMuIFlvdSBjYW4gYWNoaWV2ZSB0aGlzIGluIHR3b1xuICAgKiBvZiB0aGUgZm9sbG93aW5nIHdheXMuXG4gICAqXG4gICAqIFRoZSBmaXJzdCB3YXkgaXMgY3JlYXRpbmcgYW4gb2JqZWN0IHRoYXQgaW1wbGVtZW50cyB7QGxpbmsgT2JzZXJ2ZXJ9IGludGVyZmFjZS4gSXQgc2hvdWxkIGhhdmUgbWV0aG9kc1xuICAgKiBkZWZpbmVkIGJ5IHRoYXQgaW50ZXJmYWNlLCBidXQgbm90ZSB0aGF0IGl0IHNob3VsZCBiZSBqdXN0IGEgcmVndWxhciBKYXZhU2NyaXB0IG9iamVjdCwgd2hpY2ggeW91IGNhbiBjcmVhdGVcbiAgICogeW91cnNlbGYgaW4gYW55IHdheSB5b3Ugd2FudCAoRVM2IGNsYXNzLCBjbGFzc2ljIGZ1bmN0aW9uIGNvbnN0cnVjdG9yLCBvYmplY3QgbGl0ZXJhbCBldGMuKS4gSW4gcGFydGljdWxhciwgZG9cbiAgICogbm90IGF0dGVtcHQgdG8gdXNlIGFueSBSeEpTIGltcGxlbWVudGF0aW9uIGRldGFpbHMgdG8gY3JlYXRlIE9ic2VydmVycyAtIHlvdSBkb24ndCBuZWVkIHRoZW0uIFJlbWVtYmVyIGFsc29cbiAgICogdGhhdCB5b3VyIG9iamVjdCBkb2VzIG5vdCBoYXZlIHRvIGltcGxlbWVudCBhbGwgbWV0aG9kcy4gSWYgeW91IGZpbmQgeW91cnNlbGYgY3JlYXRpbmcgYSBtZXRob2QgdGhhdCBkb2Vzbid0XG4gICAqIGRvIGFueXRoaW5nLCB5b3UgY2FuIHNpbXBseSBvbWl0IGl0LiBOb3RlIGhvd2V2ZXIsIGlmIHRoZSBgZXJyb3JgIG1ldGhvZCBpcyBub3QgcHJvdmlkZWQgYW5kIGFuIGVycm9yIGhhcHBlbnMsXG4gICAqIGl0IHdpbGwgYmUgdGhyb3duIGFzeW5jaHJvbm91c2x5LiBFcnJvcnMgdGhyb3duIGFzeW5jaHJvbm91c2x5IGNhbm5vdCBiZSBjYXVnaHQgdXNpbmcgYHRyeWAvYGNhdGNoYC4gSW5zdGVhZCxcbiAgICogdXNlIHRoZSB7QGxpbmsgb25VbmhhbmRsZWRFcnJvcn0gY29uZmlndXJhdGlvbiBvcHRpb24gb3IgdXNlIGEgcnVudGltZSBoYW5kbGVyIChsaWtlIGB3aW5kb3cub25lcnJvcmAgb3JcbiAgICogYHByb2Nlc3Mub24oJ2Vycm9yKWApIHRvIGJlIG5vdGlmaWVkIG9mIHVuaGFuZGxlZCBlcnJvcnMuIEJlY2F1c2Ugb2YgdGhpcywgaXQncyByZWNvbW1lbmRlZCB0aGF0IHlvdSBwcm92aWRlXG4gICAqIGFuIGBlcnJvcmAgbWV0aG9kIHRvIGF2b2lkIG1pc3NpbmcgdGhyb3duIGVycm9ycy5cbiAgICpcbiAgICogVGhlIHNlY29uZCB3YXkgaXMgdG8gZ2l2ZSB1cCBvbiBPYnNlcnZlciBvYmplY3QgYWx0b2dldGhlciBhbmQgc2ltcGx5IHByb3ZpZGUgY2FsbGJhY2sgZnVuY3Rpb25zIGluIHBsYWNlIG9mIGl0cyBtZXRob2RzLlxuICAgKiBUaGlzIG1lYW5zIHlvdSBjYW4gcHJvdmlkZSB0aHJlZSBmdW5jdGlvbnMgYXMgYXJndW1lbnRzIHRvIGBzdWJzY3JpYmVgLCB3aGVyZSB0aGUgZmlyc3QgZnVuY3Rpb24gaXMgZXF1aXZhbGVudFxuICAgKiBvZiBhIGBuZXh0YCBtZXRob2QsIHRoZSBzZWNvbmQgb2YgYW4gYGVycm9yYCBtZXRob2QgYW5kIHRoZSB0aGlyZCBvZiBhIGBjb21wbGV0ZWAgbWV0aG9kLiBKdXN0IGFzIGluIGNhc2Ugb2YgYW4gT2JzZXJ2ZXIsXG4gICAqIGlmIHlvdSBkbyBub3QgbmVlZCB0byBsaXN0ZW4gZm9yIHNvbWV0aGluZywgeW91IGNhbiBvbWl0IGEgZnVuY3Rpb24gYnkgcGFzc2luZyBgdW5kZWZpbmVkYCBvciBgbnVsbGAsXG4gICAqIHNpbmNlIGBzdWJzY3JpYmVgIHJlY29nbml6ZXMgdGhlc2UgZnVuY3Rpb25zIGJ5IHdoZXJlIHRoZXkgd2VyZSBwbGFjZWQgaW4gZnVuY3Rpb24gY2FsbC4gV2hlbiBpdCBjb21lc1xuICAgKiB0byB0aGUgYGVycm9yYCBmdW5jdGlvbiwgYXMgd2l0aCBhbiBPYnNlcnZlciwgaWYgbm90IHByb3ZpZGVkLCBlcnJvcnMgZW1pdHRlZCBieSBhbiBPYnNlcnZhYmxlIHdpbGwgYmUgdGhyb3duIGFzeW5jaHJvbm91c2x5LlxuICAgKlxuICAgKiBZb3UgY2FuLCBob3dldmVyLCBzdWJzY3JpYmUgd2l0aCBubyBwYXJhbWV0ZXJzIGF0IGFsbC4gVGhpcyBtYXkgYmUgdGhlIGNhc2Ugd2hlcmUgeW91J3JlIG5vdCBpbnRlcmVzdGVkIGluIHRlcm1pbmFsIGV2ZW50c1xuICAgKiBhbmQgeW91IGFsc28gaGFuZGxlZCBlbWlzc2lvbnMgaW50ZXJuYWxseSBieSB1c2luZyBvcGVyYXRvcnMgKGUuZy4gdXNpbmcgYHRhcGApLlxuICAgKlxuICAgKiBXaGljaGV2ZXIgc3R5bGUgb2YgY2FsbGluZyBgc3Vic2NyaWJlYCB5b3UgdXNlLCBpbiBib3RoIGNhc2VzIGl0IHJldHVybnMgYSBTdWJzY3JpcHRpb24gb2JqZWN0LlxuICAgKiBUaGlzIG9iamVjdCBhbGxvd3MgeW91IHRvIGNhbGwgYHVuc3Vic2NyaWJlYCBvbiBpdCwgd2hpY2ggaW4gdHVybiB3aWxsIHN0b3AgdGhlIHdvcmsgdGhhdCBhbiBPYnNlcnZhYmxlIGRvZXMgYW5kIHdpbGwgY2xlYW5cbiAgICogdXAgYWxsIHJlc291cmNlcyB0aGF0IGFuIE9ic2VydmFibGUgdXNlZC4gTm90ZSB0aGF0IGNhbmNlbGxpbmcgYSBzdWJzY3JpcHRpb24gd2lsbCBub3QgY2FsbCBgY29tcGxldGVgIGNhbGxiYWNrXG4gICAqIHByb3ZpZGVkIHRvIGBzdWJzY3JpYmVgIGZ1bmN0aW9uLCB3aGljaCBpcyByZXNlcnZlZCBmb3IgYSByZWd1bGFyIGNvbXBsZXRpb24gc2lnbmFsIHRoYXQgY29tZXMgZnJvbSBhbiBPYnNlcnZhYmxlLlxuICAgKlxuICAgKiBSZW1lbWJlciB0aGF0IGNhbGxiYWNrcyBwcm92aWRlZCB0byBgc3Vic2NyaWJlYCBhcmUgbm90IGd1YXJhbnRlZWQgdG8gYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5LlxuICAgKiBJdCBpcyBhbiBPYnNlcnZhYmxlIGl0c2VsZiB0aGF0IGRlY2lkZXMgd2hlbiB0aGVzZSBmdW5jdGlvbnMgd2lsbCBiZSBjYWxsZWQuIEZvciBleGFtcGxlIHtAbGluayBvZn1cbiAgICogYnkgZGVmYXVsdCBlbWl0cyBhbGwgaXRzIHZhbHVlcyBzeW5jaHJvbm91c2x5LiBBbHdheXMgY2hlY2sgZG9jdW1lbnRhdGlvbiBmb3IgaG93IGdpdmVuIE9ic2VydmFibGVcbiAgICogd2lsbCBiZWhhdmUgd2hlbiBzdWJzY3JpYmVkIGFuZCBpZiBpdHMgZGVmYXVsdCBiZWhhdmlvciBjYW4gYmUgbW9kaWZpZWQgd2l0aCBhIGBzY2hlZHVsZXJgLlxuICAgKlxuICAgKiAjIyMjIEV4YW1wbGVzXG4gICAqXG4gICAqIFN1YnNjcmliZSB3aXRoIGFuIHtAbGluayBndWlkZS9vYnNlcnZlciBPYnNlcnZlcn1cbiAgICpcbiAgICogYGBgdHNcbiAgICogaW1wb3J0IHsgb2YgfSBmcm9tICdyeGpzJztcbiAgICpcbiAgICogY29uc3Qgc3VtT2JzZXJ2ZXIgPSB7XG4gICAqICAgc3VtOiAwLFxuICAgKiAgIG5leHQodmFsdWUpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdBZGRpbmc6ICcgKyB2YWx1ZSk7XG4gICAqICAgICB0aGlzLnN1bSA9IHRoaXMuc3VtICsgdmFsdWU7XG4gICAqICAgfSxcbiAgICogICBlcnJvcigpIHtcbiAgICogICAgIC8vIFdlIGFjdHVhbGx5IGNvdWxkIGp1c3QgcmVtb3ZlIHRoaXMgbWV0aG9kLFxuICAgKiAgICAgLy8gc2luY2Ugd2UgZG8gbm90IHJlYWxseSBjYXJlIGFib3V0IGVycm9ycyByaWdodCBub3cuXG4gICAqICAgfSxcbiAgICogICBjb21wbGV0ZSgpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdTdW0gZXF1YWxzOiAnICsgdGhpcy5zdW0pO1xuICAgKiAgIH1cbiAgICogfTtcbiAgICpcbiAgICogb2YoMSwgMiwgMykgLy8gU3luY2hyb25vdXNseSBlbWl0cyAxLCAyLCAzIGFuZCB0aGVuIGNvbXBsZXRlcy5cbiAgICogICAuc3Vic2NyaWJlKHN1bU9ic2VydmVyKTtcbiAgICpcbiAgICogLy8gTG9nczpcbiAgICogLy8gJ0FkZGluZzogMSdcbiAgICogLy8gJ0FkZGluZzogMidcbiAgICogLy8gJ0FkZGluZzogMydcbiAgICogLy8gJ1N1bSBlcXVhbHM6IDYnXG4gICAqIGBgYFxuICAgKlxuICAgKiBTdWJzY3JpYmUgd2l0aCBmdW5jdGlvbnMgKHtAbGluayBkZXByZWNhdGlvbnMvc3Vic2NyaWJlLWFyZ3VtZW50cyBkZXByZWNhdGVkfSlcbiAgICpcbiAgICogYGBgdHNcbiAgICogaW1wb3J0IHsgb2YgfSBmcm9tICdyeGpzJ1xuICAgKlxuICAgKiBsZXQgc3VtID0gMDtcbiAgICpcbiAgICogb2YoMSwgMiwgMykuc3Vic2NyaWJlKFxuICAgKiAgIHZhbHVlID0+IHtcbiAgICogICAgIGNvbnNvbGUubG9nKCdBZGRpbmc6ICcgKyB2YWx1ZSk7XG4gICAqICAgICBzdW0gPSBzdW0gKyB2YWx1ZTtcbiAgICogICB9LFxuICAgKiAgIHVuZGVmaW5lZCxcbiAgICogICAoKSA9PiBjb25zb2xlLmxvZygnU3VtIGVxdWFsczogJyArIHN1bSlcbiAgICogKTtcbiAgICpcbiAgICogLy8gTG9nczpcbiAgICogLy8gJ0FkZGluZzogMSdcbiAgICogLy8gJ0FkZGluZzogMidcbiAgICogLy8gJ0FkZGluZzogMydcbiAgICogLy8gJ1N1bSBlcXVhbHM6IDYnXG4gICAqIGBgYFxuICAgKlxuICAgKiBDYW5jZWwgYSBzdWJzY3JpcHRpb25cbiAgICpcbiAgICogYGBgdHNcbiAgICogaW1wb3J0IHsgaW50ZXJ2YWwgfSBmcm9tICdyeGpzJztcbiAgICpcbiAgICogY29uc3Qgc3Vic2NyaXB0aW9uID0gaW50ZXJ2YWwoMTAwMCkuc3Vic2NyaWJlKHtcbiAgICogICBuZXh0KG51bSkge1xuICAgKiAgICAgY29uc29sZS5sb2cobnVtKVxuICAgKiAgIH0sXG4gICAqICAgY29tcGxldGUoKSB7XG4gICAqICAgICAvLyBXaWxsIG5vdCBiZSBjYWxsZWQsIGV2ZW4gd2hlbiBjYW5jZWxsaW5nIHN1YnNjcmlwdGlvbi5cbiAgICogICAgIGNvbnNvbGUubG9nKCdjb21wbGV0ZWQhJyk7XG4gICAqICAgfVxuICAgKiB9KTtcbiAgICpcbiAgICogc2V0VGltZW91dCgoKSA9PiB7XG4gICAqICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAqICAgY29uc29sZS5sb2coJ3Vuc3Vic2NyaWJlZCEnKTtcbiAgICogfSwgMjUwMCk7XG4gICAqXG4gICAqIC8vIExvZ3M6XG4gICAqIC8vIDAgYWZ0ZXIgMXNcbiAgICogLy8gMSBhZnRlciAyc1xuICAgKiAvLyAndW5zdWJzY3JpYmVkIScgYWZ0ZXIgMi41c1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIHtPYnNlcnZlcnxGdW5jdGlvbn0gb2JzZXJ2ZXJPck5leHQgKG9wdGlvbmFsKSBFaXRoZXIgYW4gb2JzZXJ2ZXIgd2l0aCBtZXRob2RzIHRvIGJlIGNhbGxlZCxcbiAgICogb3IgdGhlIGZpcnN0IG9mIHRocmVlIHBvc3NpYmxlIGhhbmRsZXJzLCB3aGljaCBpcyB0aGUgaGFuZGxlciBmb3IgZWFjaCB2YWx1ZSBlbWl0dGVkIGZyb20gdGhlIHN1YnNjcmliZWRcbiAgICogT2JzZXJ2YWJsZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXJyb3IgKG9wdGlvbmFsKSBBIGhhbmRsZXIgZm9yIGEgdGVybWluYWwgZXZlbnQgcmVzdWx0aW5nIGZyb20gYW4gZXJyb3IuIElmIG5vIGVycm9yIGhhbmRsZXIgaXMgcHJvdmlkZWQsXG4gICAqIHRoZSBlcnJvciB3aWxsIGJlIHRocm93biBhc3luY2hyb25vdXNseSBhcyB1bmhhbmRsZWQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBsZXRlIChvcHRpb25hbCkgQSBoYW5kbGVyIGZvciBhIHRlcm1pbmFsIGV2ZW50IHJlc3VsdGluZyBmcm9tIHN1Y2Nlc3NmdWwgY29tcGxldGlvbi5cbiAgICogQHJldHVybiB7U3Vic2NyaXB0aW9ufSBhIHN1YnNjcmlwdGlvbiByZWZlcmVuY2UgdG8gdGhlIHJlZ2lzdGVyZWQgaGFuZGxlcnNcbiAgICogQG1ldGhvZCBzdWJzY3JpYmVcbiAgICovXG4gIHN1YnNjcmliZShcbiAgICBvYnNlcnZlck9yTmV4dD86IFBhcnRpYWw8T2JzZXJ2ZXI8VD4+IHwgKCh2YWx1ZTogVCkgPT4gdm9pZCkgfCBudWxsLFxuICAgIGVycm9yPzogKChlcnJvcjogYW55KSA9PiB2b2lkKSB8IG51bGwsXG4gICAgY29tcGxldGU/OiAoKCkgPT4gdm9pZCkgfCBudWxsXG4gICk6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgc3Vic2NyaWJlciA9IGlzU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCkgPyBvYnNlcnZlck9yTmV4dCA6IG5ldyBTYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcblxuICAgIGVycm9yQ29udGV4dCgoKSA9PiB7XG4gICAgICBjb25zdCB7IG9wZXJhdG9yLCBzb3VyY2UgfSA9IHRoaXM7XG4gICAgICBzdWJzY3JpYmVyLmFkZChcbiAgICAgICAgb3BlcmF0b3JcbiAgICAgICAgICA/IC8vIFdlJ3JlIGRlYWxpbmcgd2l0aCBhIHN1YnNjcmlwdGlvbiBpbiB0aGVcbiAgICAgICAgICAgIC8vIG9wZXJhdG9yIGNoYWluIHRvIG9uZSBvZiBvdXIgbGlmdGVkIG9wZXJhdG9ycy5cbiAgICAgICAgICAgIG9wZXJhdG9yLmNhbGwoc3Vic2NyaWJlciwgc291cmNlKVxuICAgICAgICAgIDogc291cmNlXG4gICAgICAgICAgPyAvLyBJZiBgc291cmNlYCBoYXMgYSB2YWx1ZSwgYnV0IGBvcGVyYXRvcmAgZG9lcyBub3QsIHNvbWV0aGluZyB0aGF0XG4gICAgICAgICAgICAvLyBoYWQgaW50aW1hdGUga25vd2xlZGdlIG9mIG91ciBBUEksIGxpa2Ugb3VyIGBTdWJqZWN0YCwgbXVzdCBoYXZlXG4gICAgICAgICAgICAvLyBzZXQgaXQuIFdlJ3JlIGdvaW5nIHRvIGp1c3QgY2FsbCBgX3N1YnNjcmliZWAgZGlyZWN0bHkuXG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUoc3Vic2NyaWJlcilcbiAgICAgICAgICA6IC8vIEluIGFsbCBvdGhlciBjYXNlcywgd2UncmUgbGlrZWx5IHdyYXBwaW5nIGEgdXNlci1wcm92aWRlZCBpbml0aWFsaXplclxuICAgICAgICAgICAgLy8gZnVuY3Rpb24sIHNvIHdlIG5lZWQgdG8gY2F0Y2ggZXJyb3JzIGFuZCBoYW5kbGUgdGhlbSBhcHByb3ByaWF0ZWx5LlxuICAgICAgICAgICAgdGhpcy5fdHJ5U3Vic2NyaWJlKHN1YnNjcmliZXIpXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfdHJ5U3Vic2NyaWJlKHNpbms6IFN1YnNjcmliZXI8VD4pOiBUZWFyZG93bkxvZ2ljIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gcmV0dXJuIGFueXRoaW5nIGluIHRoaXMgY2FzZSxcbiAgICAgIC8vIGJlY2F1c2UgaXQncyBqdXN0IGdvaW5nIHRvIHRyeSB0byBgYWRkKClgIHRvIGEgc3Vic2NyaXB0aW9uXG4gICAgICAvLyBhYm92ZS5cbiAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBhcyBhIE5PTi1DQU5DRUxMQUJMRSBtZWFucyBvZiBzdWJzY3JpYmluZyB0byBhbiBvYnNlcnZhYmxlLCBmb3IgdXNlIHdpdGhcbiAgICogQVBJcyB0aGF0IGV4cGVjdCBwcm9taXNlcywgbGlrZSBgYXN5bmMvYXdhaXRgLiBZb3UgY2Fubm90IHVuc3Vic2NyaWJlIGZyb20gdGhpcy5cbiAgICpcbiAgICogKipXQVJOSU5HKio6IE9ubHkgdXNlIHRoaXMgd2l0aCBvYnNlcnZhYmxlcyB5b3UgKmtub3cqIHdpbGwgY29tcGxldGUuIElmIHRoZSBzb3VyY2VcbiAgICogb2JzZXJ2YWJsZSBkb2VzIG5vdCBjb21wbGV0ZSwgeW91IHdpbGwgZW5kIHVwIHdpdGggYSBwcm9taXNlIHRoYXQgaXMgaHVuZyB1cCwgYW5kXG4gICAqIHBvdGVudGlhbGx5IGFsbCBvZiB0aGUgc3RhdGUgb2YgYW4gYXN5bmMgZnVuY3Rpb24gaGFuZ2luZyBvdXQgaW4gbWVtb3J5LiBUbyBhdm9pZFxuICAgKiB0aGlzIHNpdHVhdGlvbiwgbG9vayBpbnRvIGFkZGluZyBzb21ldGhpbmcgbGlrZSB7QGxpbmsgdGltZW91dH0sIHtAbGluayB0YWtlfSxcbiAgICoge0BsaW5rIHRha2VXaGlsZX0sIG9yIHtAbGluayB0YWtlVW50aWx9IGFtb25nc3Qgb3RoZXJzLlxuICAgKlxuICAgKiAjIyMjIEV4YW1wbGVcbiAgICpcbiAgICogYGBgdHNcbiAgICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UgfSBmcm9tICdyeGpzJztcbiAgICpcbiAgICogY29uc3Qgc291cmNlJCA9IGludGVydmFsKDEwMDApLnBpcGUodGFrZSg0KSk7XG4gICAqXG4gICAqIGFzeW5jIGZ1bmN0aW9uIGdldFRvdGFsKCkge1xuICAgKiAgIGxldCB0b3RhbCA9IDA7XG4gICAqXG4gICAqICAgYXdhaXQgc291cmNlJC5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICogICAgIHRvdGFsICs9IHZhbHVlO1xuICAgKiAgICAgY29uc29sZS5sb2coJ29ic2VydmFibGUgLT4gJyArIHZhbHVlKTtcbiAgICogICB9KTtcbiAgICpcbiAgICogICByZXR1cm4gdG90YWw7XG4gICAqIH1cbiAgICpcbiAgICogZ2V0VG90YWwoKS50aGVuKFxuICAgKiAgIHRvdGFsID0+IGNvbnNvbGUubG9nKCdUb3RhbDogJyArIHRvdGFsKVxuICAgKiApO1xuICAgKlxuICAgKiAvLyBFeHBlY3RlZDpcbiAgICogLy8gJ29ic2VydmFibGUgLT4gMCdcbiAgICogLy8gJ29ic2VydmFibGUgLT4gMSdcbiAgICogLy8gJ29ic2VydmFibGUgLT4gMidcbiAgICogLy8gJ29ic2VydmFibGUgLT4gMydcbiAgICogLy8gJ1RvdGFsOiA2J1xuICAgKiBgYGBcbiAgICpcbiAgICogQHBhcmFtIG5leHQgYSBoYW5kbGVyIGZvciBlYWNoIHZhbHVlIGVtaXR0ZWQgYnkgdGhlIG9ic2VydmFibGVcbiAgICogQHJldHVybiBhIHByb21pc2UgdGhhdCBlaXRoZXIgcmVzb2x2ZXMgb24gb2JzZXJ2YWJsZSBjb21wbGV0aW9uIG9yXG4gICAqICByZWplY3RzIHdpdGggdGhlIGhhbmRsZWQgZXJyb3JcbiAgICovXG4gIGZvckVhY2gobmV4dDogKHZhbHVlOiBUKSA9PiB2b2lkKTogUHJvbWlzZTx2b2lkPjtcblxuICAvKipcbiAgICogQHBhcmFtIG5leHQgYSBoYW5kbGVyIGZvciBlYWNoIHZhbHVlIGVtaXR0ZWQgYnkgdGhlIG9ic2VydmFibGVcbiAgICogQHBhcmFtIHByb21pc2VDdG9yIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gdXNlZCB0byBpbnN0YW50aWF0ZSB0aGUgUHJvbWlzZVxuICAgKiBAcmV0dXJuIGEgcHJvbWlzZSB0aGF0IGVpdGhlciByZXNvbHZlcyBvbiBvYnNlcnZhYmxlIGNvbXBsZXRpb24gb3JcbiAgICogIHJlamVjdHMgd2l0aCB0aGUgaGFuZGxlZCBlcnJvclxuICAgKiBAZGVwcmVjYXRlZCBQYXNzaW5nIGEgUHJvbWlzZSBjb25zdHJ1Y3RvciB3aWxsIG5vIGxvbmdlciBiZSBhdmFpbGFibGVcbiAgICogaW4gdXBjb21pbmcgdmVyc2lvbnMgb2YgUnhKUy4gVGhpcyBpcyBiZWNhdXNlIGl0IGFkZHMgd2VpZ2h0IHRvIHRoZSBsaWJyYXJ5LCBmb3IgdmVyeVxuICAgKiBsaXR0bGUgYmVuZWZpdC4gSWYgeW91IG5lZWQgdGhpcyBmdW5jdGlvbmFsaXR5LCBpdCBpcyByZWNvbW1lbmRlZCB0aGF0IHlvdSBlaXRoZXJcbiAgICogcG9seWZpbGwgUHJvbWlzZSwgb3IgeW91IGNyZWF0ZSBhbiBhZGFwdGVyIHRvIGNvbnZlcnQgdGhlIHJldHVybmVkIG5hdGl2ZSBwcm9taXNlXG4gICAqIHRvIHdoYXRldmVyIHByb21pc2UgaW1wbGVtZW50YXRpb24geW91IHdhbnRlZC4gV2lsbCBiZSByZW1vdmVkIGluIHY4LlxuICAgKi9cbiAgZm9yRWFjaChuZXh0OiAodmFsdWU6IFQpID0+IHZvaWQsIHByb21pc2VDdG9yOiBQcm9taXNlQ29uc3RydWN0b3JMaWtlKTogUHJvbWlzZTx2b2lkPjtcblxuICBmb3JFYWNoKG5leHQ6ICh2YWx1ZTogVCkgPT4gdm9pZCwgcHJvbWlzZUN0b3I/OiBQcm9taXNlQ29uc3RydWN0b3JMaWtlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG5cbiAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yPHZvaWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IHN1YnNjcmliZXIgPSBuZXcgU2FmZVN1YnNjcmliZXI8VD4oe1xuICAgICAgICBuZXh0OiAodmFsdWUpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiByZWplY3QsXG4gICAgICAgIGNvbXBsZXRlOiByZXNvbHZlLFxuICAgICAgfSk7XG4gICAgICB0aGlzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9KSBhcyBQcm9taXNlPHZvaWQ+O1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3N1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4pOiBUZWFyZG93bkxvZ2ljIHtcbiAgICByZXR1cm4gdGhpcy5zb3VyY2U/LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbiBpbnRlcm9wIHBvaW50IGRlZmluZWQgYnkgdGhlIGVzNy1vYnNlcnZhYmxlIHNwZWMgaHR0cHM6Ly9naXRodWIuY29tL3plbnBhcnNpbmcvZXMtb2JzZXJ2YWJsZVxuICAgKiBAbWV0aG9kIFN5bWJvbC5vYnNlcnZhYmxlXG4gICAqIEByZXR1cm4ge09ic2VydmFibGV9IHRoaXMgaW5zdGFuY2Ugb2YgdGhlIG9ic2VydmFibGVcbiAgICovXG4gIFtTeW1ib2xfb2JzZXJ2YWJsZV0oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbiAgcGlwZSgpOiBPYnNlcnZhYmxlPFQ+O1xuICBwaXBlPEE+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPik6IE9ic2VydmFibGU8QT47XG4gIHBpcGU8QSwgQj4ob3AxOiBPcGVyYXRvckZ1bmN0aW9uPFQsIEE+LCBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4pOiBPYnNlcnZhYmxlPEI+O1xuICBwaXBlPEEsIEIsIEM+KG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPiwgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LCBvcDM6IE9wZXJhdG9yRnVuY3Rpb248QiwgQz4pOiBPYnNlcnZhYmxlPEM+O1xuICBwaXBlPEEsIEIsIEMsIEQ+KFxuICAgIG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPixcbiAgICBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sXG4gICAgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LFxuICAgIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPlxuICApOiBPYnNlcnZhYmxlPEQ+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEU+KFxuICAgIG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPixcbiAgICBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sXG4gICAgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LFxuICAgIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPixcbiAgICBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT5cbiAgKTogT2JzZXJ2YWJsZTxFPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFLCBGPihcbiAgICBvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sXG4gICAgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LFxuICAgIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPixcbiAgICBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sXG4gICAgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+LFxuICAgIG9wNjogT3BlcmF0b3JGdW5jdGlvbjxFLCBGPlxuICApOiBPYnNlcnZhYmxlPEY+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEUsIEYsIEc+KFxuICAgIG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPixcbiAgICBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sXG4gICAgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LFxuICAgIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPixcbiAgICBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4sXG4gICAgb3A2OiBPcGVyYXRvckZ1bmN0aW9uPEUsIEY+LFxuICAgIG9wNzogT3BlcmF0b3JGdW5jdGlvbjxGLCBHPlxuICApOiBPYnNlcnZhYmxlPEc+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEUsIEYsIEcsIEg+KFxuICAgIG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPixcbiAgICBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sXG4gICAgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LFxuICAgIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPixcbiAgICBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4sXG4gICAgb3A2OiBPcGVyYXRvckZ1bmN0aW9uPEUsIEY+LFxuICAgIG9wNzogT3BlcmF0b3JGdW5jdGlvbjxGLCBHPixcbiAgICBvcDg6IE9wZXJhdG9yRnVuY3Rpb248RywgSD5cbiAgKTogT2JzZXJ2YWJsZTxIPjtcbiAgcGlwZTxBLCBCLCBDLCBELCBFLCBGLCBHLCBILCBJPihcbiAgICBvcDE6IE9wZXJhdG9yRnVuY3Rpb248VCwgQT4sXG4gICAgb3AyOiBPcGVyYXRvckZ1bmN0aW9uPEEsIEI+LFxuICAgIG9wMzogT3BlcmF0b3JGdW5jdGlvbjxCLCBDPixcbiAgICBvcDQ6IE9wZXJhdG9yRnVuY3Rpb248QywgRD4sXG4gICAgb3A1OiBPcGVyYXRvckZ1bmN0aW9uPEQsIEU+LFxuICAgIG9wNjogT3BlcmF0b3JGdW5jdGlvbjxFLCBGPixcbiAgICBvcDc6IE9wZXJhdG9yRnVuY3Rpb248RiwgRz4sXG4gICAgb3A4OiBPcGVyYXRvckZ1bmN0aW9uPEcsIEg+LFxuICAgIG9wOTogT3BlcmF0b3JGdW5jdGlvbjxILCBJPlxuICApOiBPYnNlcnZhYmxlPEk+O1xuICBwaXBlPEEsIEIsIEMsIEQsIEUsIEYsIEcsIEgsIEk+KFxuICAgIG9wMTogT3BlcmF0b3JGdW5jdGlvbjxULCBBPixcbiAgICBvcDI6IE9wZXJhdG9yRnVuY3Rpb248QSwgQj4sXG4gICAgb3AzOiBPcGVyYXRvckZ1bmN0aW9uPEIsIEM+LFxuICAgIG9wNDogT3BlcmF0b3JGdW5jdGlvbjxDLCBEPixcbiAgICBvcDU6IE9wZXJhdG9yRnVuY3Rpb248RCwgRT4sXG4gICAgb3A2OiBPcGVyYXRvckZ1bmN0aW9uPEUsIEY+LFxuICAgIG9wNzogT3BlcmF0b3JGdW5jdGlvbjxGLCBHPixcbiAgICBvcDg6IE9wZXJhdG9yRnVuY3Rpb248RywgSD4sXG4gICAgb3A5OiBPcGVyYXRvckZ1bmN0aW9uPEgsIEk+LFxuICAgIC4uLm9wZXJhdGlvbnM6IE9wZXJhdG9yRnVuY3Rpb248YW55LCBhbnk+W11cbiAgKTogT2JzZXJ2YWJsZTx1bmtub3duPjtcbiAgLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuICAvKipcbiAgICogVXNlZCB0byBzdGl0Y2ggdG9nZXRoZXIgZnVuY3Rpb25hbCBvcGVyYXRvcnMgaW50byBhIGNoYWluLlxuICAgKiBAbWV0aG9kIHBpcGVcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gdGhlIE9ic2VydmFibGUgcmVzdWx0IG9mIGFsbCBvZiB0aGUgb3BlcmF0b3JzIGhhdmluZ1xuICAgKiBiZWVuIGNhbGxlZCBpbiB0aGUgb3JkZXIgdGhleSB3ZXJlIHBhc3NlZCBpbi5cbiAgICpcbiAgICogIyMgRXhhbXBsZVxuICAgKlxuICAgKiBgYGB0c1xuICAgKiBpbXBvcnQgeyBpbnRlcnZhbCwgZmlsdGVyLCBtYXAsIHNjYW4gfSBmcm9tICdyeGpzJztcbiAgICpcbiAgICogaW50ZXJ2YWwoMTAwMClcbiAgICogICAucGlwZShcbiAgICogICAgIGZpbHRlcih4ID0+IHggJSAyID09PSAwKSxcbiAgICogICAgIG1hcCh4ID0+IHggKyB4KSxcbiAgICogICAgIHNjYW4oKGFjYywgeCkgPT4gYWNjICsgeClcbiAgICogICApXG4gICAqICAgLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAgICogYGBgXG4gICAqL1xuICBwaXBlKC4uLm9wZXJhdGlvbnM6IE9wZXJhdG9yRnVuY3Rpb248YW55LCBhbnk+W10pOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpO1xuICB9XG5cbiAgLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG4gIC8qKiBAZGVwcmVjYXRlZCBSZXBsYWNlZCB3aXRoIHtAbGluayBmaXJzdFZhbHVlRnJvbX0gYW5kIHtAbGluayBsYXN0VmFsdWVGcm9tfS4gV2lsbCBiZSByZW1vdmVkIGluIHY4LiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy90by1wcm9taXNlICovXG4gIHRvUHJvbWlzZSgpOiBQcm9taXNlPFQgfCB1bmRlZmluZWQ+O1xuICAvKiogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB7QGxpbmsgZmlyc3RWYWx1ZUZyb219IGFuZCB7QGxpbmsgbGFzdFZhbHVlRnJvbX0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvdG8tcHJvbWlzZSAqL1xuICB0b1Byb21pc2UoUHJvbWlzZUN0b3I6IHR5cGVvZiBQcm9taXNlKTogUHJvbWlzZTxUIHwgdW5kZWZpbmVkPjtcbiAgLyoqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIGZpcnN0VmFsdWVGcm9tfSBhbmQge0BsaW5rIGxhc3RWYWx1ZUZyb219LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3RvLXByb21pc2UgKi9cbiAgdG9Qcm9taXNlKFByb21pc2VDdG9yOiBQcm9taXNlQ29uc3RydWN0b3JMaWtlKTogUHJvbWlzZTxUIHwgdW5kZWZpbmVkPjtcbiAgLyogdHNsaW50OmVuYWJsZTptYXgtbGluZS1sZW5ndGggKi9cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoaXMgT2JzZXJ2YWJsZSBhbmQgZ2V0IGEgUHJvbWlzZSByZXNvbHZpbmcgb25cbiAgICogYGNvbXBsZXRlYCB3aXRoIHRoZSBsYXN0IGVtaXNzaW9uIChpZiBhbnkpLlxuICAgKlxuICAgKiAqKldBUk5JTkcqKjogT25seSB1c2UgdGhpcyB3aXRoIG9ic2VydmFibGVzIHlvdSAqa25vdyogd2lsbCBjb21wbGV0ZS4gSWYgdGhlIHNvdXJjZVxuICAgKiBvYnNlcnZhYmxlIGRvZXMgbm90IGNvbXBsZXRlLCB5b3Ugd2lsbCBlbmQgdXAgd2l0aCBhIHByb21pc2UgdGhhdCBpcyBodW5nIHVwLCBhbmRcbiAgICogcG90ZW50aWFsbHkgYWxsIG9mIHRoZSBzdGF0ZSBvZiBhbiBhc3luYyBmdW5jdGlvbiBoYW5naW5nIG91dCBpbiBtZW1vcnkuIFRvIGF2b2lkXG4gICAqIHRoaXMgc2l0dWF0aW9uLCBsb29rIGludG8gYWRkaW5nIHNvbWV0aGluZyBsaWtlIHtAbGluayB0aW1lb3V0fSwge0BsaW5rIHRha2V9LFxuICAgKiB7QGxpbmsgdGFrZVdoaWxlfSwgb3Ige0BsaW5rIHRha2VVbnRpbH0gYW1vbmdzdCBvdGhlcnMuXG4gICAqXG4gICAqIEBtZXRob2QgdG9Qcm9taXNlXG4gICAqIEBwYXJhbSBbcHJvbWlzZUN0b3JdIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gdXNlZCB0byBpbnN0YW50aWF0ZVxuICAgKiB0aGUgUHJvbWlzZVxuICAgKiBAcmV0dXJuIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGxhc3QgdmFsdWUgZW1pdCwgb3JcbiAgICogcmVqZWN0cyBvbiBhbiBlcnJvci4gSWYgdGhlcmUgd2VyZSBubyBlbWlzc2lvbnMsIFByb21pc2VcbiAgICogcmVzb2x2ZXMgd2l0aCB1bmRlZmluZWQuXG4gICAqIEBkZXByZWNhdGVkIFJlcGxhY2VkIHdpdGgge0BsaW5rIGZpcnN0VmFsdWVGcm9tfSBhbmQge0BsaW5rIGxhc3RWYWx1ZUZyb219LiBXaWxsIGJlIHJlbW92ZWQgaW4gdjguIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3RvLXByb21pc2VcbiAgICovXG4gIHRvUHJvbWlzZShwcm9taXNlQ3Rvcj86IFByb21pc2VDb25zdHJ1Y3Rvckxpa2UpOiBQcm9taXNlPFQgfCB1bmRlZmluZWQ+IHtcbiAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcblxuICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IHZhbHVlOiBUIHwgdW5kZWZpbmVkO1xuICAgICAgdGhpcy5zdWJzY3JpYmUoXG4gICAgICAgICh4OiBUKSA9PiAodmFsdWUgPSB4KSxcbiAgICAgICAgKGVycjogYW55KSA9PiByZWplY3QoZXJyKSxcbiAgICAgICAgKCkgPT4gcmVzb2x2ZSh2YWx1ZSlcbiAgICAgICk7XG4gICAgfSkgYXMgUHJvbWlzZTxUIHwgdW5kZWZpbmVkPjtcbiAgfVxufVxuXG4vKipcbiAqIERlY2lkZXMgYmV0d2VlbiBhIHBhc3NlZCBwcm9taXNlIGNvbnN0cnVjdG9yIGZyb20gY29uc3VtaW5nIGNvZGUsXG4gKiBBIGRlZmF1bHQgY29uZmlndXJlZCBwcm9taXNlIGNvbnN0cnVjdG9yLCBhbmQgdGhlIG5hdGl2ZSBwcm9taXNlXG4gKiBjb25zdHJ1Y3RvciBhbmQgcmV0dXJucyBpdC4gSWYgbm90aGluZyBjYW4gYmUgZm91bmQsIGl0IHdpbGwgdGhyb3dcbiAqIGFuIGVycm9yLlxuICogQHBhcmFtIHByb21pc2VDdG9yIFRoZSBvcHRpb25hbCBwcm9taXNlIGNvbnN0cnVjdG9yIHRvIHBhc3NlZCBieSBjb25zdW1pbmcgY29kZVxuICovXG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3RvcjogUHJvbWlzZUNvbnN0cnVjdG9yTGlrZSB8IHVuZGVmaW5lZCkge1xuICByZXR1cm4gcHJvbWlzZUN0b3IgPz8gY29uZmlnLlByb21pc2UgPz8gUHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gaXNPYnNlcnZlcjxUPih2YWx1ZTogYW55KTogdmFsdWUgaXMgT2JzZXJ2ZXI8VD4ge1xuICByZXR1cm4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5uZXh0KSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmVycm9yKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmNvbXBsZXRlKTtcbn1cblxuZnVuY3Rpb24gaXNTdWJzY3JpYmVyPFQ+KHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBTdWJzY3JpYmVyPFQ+IHtcbiAgcmV0dXJuICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHx8IChpc09ic2VydmVyKHZhbHVlKSAmJiBpc1N1YnNjcmlwdGlvbih2YWx1ZSkpO1xufVxuIiwgImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcblxuLyoqXG4gKiBVc2VkIHRvIGRldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYW4gT2JzZXJ2YWJsZSB3aXRoIGEgbGlmdCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0xpZnQoc291cmNlOiBhbnkpOiBzb3VyY2UgaXMgeyBsaWZ0OiBJbnN0YW5jZVR5cGU8dHlwZW9mIE9ic2VydmFibGU+WydsaWZ0J10gfSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKHNvdXJjZT8ubGlmdCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBgT3BlcmF0b3JGdW5jdGlvbmAuIFVzZWQgdG8gZGVmaW5lIG9wZXJhdG9ycyB0aHJvdWdob3V0IHRoZSBsaWJyYXJ5IGluIGEgY29uY2lzZSB3YXkuXG4gKiBAcGFyYW0gaW5pdCBUaGUgbG9naWMgdG8gY29ubmVjdCB0aGUgbGlmdGVkU291cmNlIHRvIHRoZSBzdWJzY3JpYmVyIGF0IHRoZSBtb21lbnQgb2Ygc3Vic2NyaXB0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb3BlcmF0ZTxULCBSPihcbiAgaW5pdDogKGxpZnRlZFNvdXJjZTogT2JzZXJ2YWJsZTxUPiwgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxSPikgPT4gKCgpID0+IHZvaWQpIHwgdm9pZFxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPiB7XG4gIHJldHVybiAoc291cmNlOiBPYnNlcnZhYmxlPFQ+KSA9PiB7XG4gICAgaWYgKGhhc0xpZnQoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KGZ1bmN0aW9uICh0aGlzOiBTdWJzY3JpYmVyPFI+LCBsaWZ0ZWRTb3VyY2U6IE9ic2VydmFibGU8VD4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gaW5pdChsaWZ0ZWRTb3VyY2UsIHRoaXMpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmFibGUgdG8gbGlmdCB1bmtub3duIE9ic2VydmFibGUgdHlwZScpO1xuICB9O1xufVxuIiwgImltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGFuIGBPcGVyYXRvclN1YnNjcmliZXJgLlxuICogQHBhcmFtIGRlc3RpbmF0aW9uIFRoZSBkb3duc3RyZWFtIHN1YnNjcmliZXIuXG4gKiBAcGFyYW0gb25OZXh0IEhhbmRsZXMgbmV4dCB2YWx1ZXMsIG9ubHkgY2FsbGVkIGlmIHRoaXMgc3Vic2NyaWJlciBpcyBub3Qgc3RvcHBlZCBvciBjbG9zZWQuIEFueVxuICogZXJyb3IgdGhhdCBvY2N1cnMgaW4gdGhpcyBmdW5jdGlvbiBpcyBjYXVnaHQgYW5kIHNlbnQgdG8gdGhlIGBlcnJvcmAgbWV0aG9kIG9mIHRoaXMgc3Vic2NyaWJlci5cbiAqIEBwYXJhbSBvbkVycm9yIEhhbmRsZXMgZXJyb3JzIGZyb20gdGhlIHN1YnNjcmlwdGlvbiwgYW55IGVycm9ycyB0aGF0IG9jY3VyIGluIHRoaXMgaGFuZGxlciBhcmUgY2F1Z2h0XG4gKiBhbmQgc2VuZCB0byB0aGUgYGRlc3RpbmF0aW9uYCBlcnJvciBoYW5kbGVyLlxuICogQHBhcmFtIG9uQ29tcGxldGUgSGFuZGxlcyBjb21wbGV0aW9uIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzdWJzY3JpcHRpb24uIEFueSBlcnJvcnMgdGhhdCBvY2N1ciBpblxuICogdGhpcyBoYW5kbGVyIGFyZSBzZW50IHRvIHRoZSBgZGVzdGluYXRpb25gIGVycm9yIGhhbmRsZXIuXG4gKiBAcGFyYW0gb25GaW5hbGl6ZSBBZGRpdGlvbmFsIHRlYXJkb3duIGxvZ2ljIGhlcmUuIFRoaXMgd2lsbCBvbmx5IGJlIGNhbGxlZCBvbiB0ZWFyZG93biBpZiB0aGVcbiAqIHN1YnNjcmliZXIgaXRzZWxmIGlzIG5vdCBhbHJlYWR5IGNsb3NlZC4gVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgYWxsIG90aGVyIHRlYXJkb3duIGxvZ2ljIGlzIGV4ZWN1dGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyPFQ+KFxuICBkZXN0aW5hdGlvbjogU3Vic2NyaWJlcjxhbnk+LFxuICBvbk5leHQ/OiAodmFsdWU6IFQpID0+IHZvaWQsXG4gIG9uQ29tcGxldGU/OiAoKSA9PiB2b2lkLFxuICBvbkVycm9yPzogKGVycjogYW55KSA9PiB2b2lkLFxuICBvbkZpbmFsaXplPzogKCkgPT4gdm9pZFxuKTogU3Vic2NyaWJlcjxUPiB7XG4gIHJldHVybiBuZXcgT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpO1xufVxuXG4vKipcbiAqIEEgZ2VuZXJpYyBoZWxwZXIgZm9yIGFsbG93aW5nIG9wZXJhdG9ycyB0byBiZSBjcmVhdGVkIHdpdGggYSBTdWJzY3JpYmVyIGFuZFxuICogdXNlIGNsb3N1cmVzIHRvIGNhcHR1cmUgbmVjZXNzYXJ5IHN0YXRlIGZyb20gdGhlIG9wZXJhdG9yIGZ1bmN0aW9uIGl0c2VsZi5cbiAqL1xuZXhwb3J0IGNsYXNzIE9wZXJhdG9yU3Vic2NyaWJlcjxUPiBleHRlbmRzIFN1YnNjcmliZXI8VD4ge1xuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhbiBgT3BlcmF0b3JTdWJzY3JpYmVyYC5cbiAgICogQHBhcmFtIGRlc3RpbmF0aW9uIFRoZSBkb3duc3RyZWFtIHN1YnNjcmliZXIuXG4gICAqIEBwYXJhbSBvbk5leHQgSGFuZGxlcyBuZXh0IHZhbHVlcywgb25seSBjYWxsZWQgaWYgdGhpcyBzdWJzY3JpYmVyIGlzIG5vdCBzdG9wcGVkIG9yIGNsb3NlZC4gQW55XG4gICAqIGVycm9yIHRoYXQgb2NjdXJzIGluIHRoaXMgZnVuY3Rpb24gaXMgY2F1Z2h0IGFuZCBzZW50IHRvIHRoZSBgZXJyb3JgIG1ldGhvZCBvZiB0aGlzIHN1YnNjcmliZXIuXG4gICAqIEBwYXJhbSBvbkVycm9yIEhhbmRsZXMgZXJyb3JzIGZyb20gdGhlIHN1YnNjcmlwdGlvbiwgYW55IGVycm9ycyB0aGF0IG9jY3VyIGluIHRoaXMgaGFuZGxlciBhcmUgY2F1Z2h0XG4gICAqIGFuZCBzZW5kIHRvIHRoZSBgZGVzdGluYXRpb25gIGVycm9yIGhhbmRsZXIuXG4gICAqIEBwYXJhbSBvbkNvbXBsZXRlIEhhbmRsZXMgY29tcGxldGlvbiBub3RpZmljYXRpb24gZnJvbSB0aGUgc3Vic2NyaXB0aW9uLiBBbnkgZXJyb3JzIHRoYXQgb2NjdXIgaW5cbiAgICogdGhpcyBoYW5kbGVyIGFyZSBzZW50IHRvIHRoZSBgZGVzdGluYXRpb25gIGVycm9yIGhhbmRsZXIuXG4gICAqIEBwYXJhbSBvbkZpbmFsaXplIEFkZGl0aW9uYWwgZmluYWxpemF0aW9uIGxvZ2ljIGhlcmUuIFRoaXMgd2lsbCBvbmx5IGJlIGNhbGxlZCBvbiBmaW5hbGl6YXRpb24gaWYgdGhlXG4gICAqIHN1YnNjcmliZXIgaXRzZWxmIGlzIG5vdCBhbHJlYWR5IGNsb3NlZC4gVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgYWxsIG90aGVyIGZpbmFsaXphdGlvbiBsb2dpYyBpcyBleGVjdXRlZC5cbiAgICogQHBhcmFtIHNob3VsZFVuc3Vic2NyaWJlIEFuIG9wdGlvbmFsIGNoZWNrIHRvIHNlZSBpZiBhbiB1bnN1YnNjcmliZSBjYWxsIHNob3VsZCB0cnVseSB1bnN1YnNjcmliZS5cbiAgICogTk9URTogVGhpcyBjdXJyZW50bHkgKipPTkxZKiogZXhpc3RzIHRvIHN1cHBvcnQgdGhlIHN0cmFuZ2UgYmVoYXZpb3Igb2Yge0BsaW5rIGdyb3VwQnl9LCB3aGVyZSB1bnN1YnNjcmlwdGlvblxuICAgKiB0byB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgZG9lcyBub3QgYWN0dWFsbHkgZGlzY29ubmVjdCBmcm9tIHRoZSBzb3VyY2UgaWYgdGhlcmUgYXJlIGFjdGl2ZSBzdWJzY3JpcHRpb25zXG4gICAqIHRvIGFueSBncm91cGVkIG9ic2VydmFibGUuIChETyBOT1QgRVhQT1NFIE9SIFVTRSBFWFRFUk5BTExZISEhKVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgZGVzdGluYXRpb246IFN1YnNjcmliZXI8YW55PixcbiAgICBvbk5leHQ/OiAodmFsdWU6IFQpID0+IHZvaWQsXG4gICAgb25Db21wbGV0ZT86ICgpID0+IHZvaWQsXG4gICAgb25FcnJvcj86IChlcnI6IGFueSkgPT4gdm9pZCxcbiAgICBwcml2YXRlIG9uRmluYWxpemU/OiAoKSA9PiB2b2lkLFxuICAgIHByaXZhdGUgc2hvdWxkVW5zdWJzY3JpYmU/OiAoKSA9PiBib29sZWFuXG4gICkge1xuICAgIC8vIEl0J3MgaW1wb3J0YW50IC0gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgLSB0aGF0IGFsbCBvZiB0aGlzIGNsYXNzJ3NcbiAgICAvLyBtZW1iZXJzIGFyZSBpbml0aWFsaXplZCBhbmQgdGhhdCB0aGV5IGFyZSBhbHdheXMgaW5pdGlhbGl6ZWQgaW4gdGhlIHNhbWVcbiAgICAvLyBvcmRlci4gVGhpcyB3aWxsIGVuc3VyZSB0aGF0IGFsbCBPcGVyYXRvclN1YnNjcmliZXIgaW5zdGFuY2VzIGhhdmUgdGhlXG4gICAgLy8gc2FtZSBoaWRkZW4gY2xhc3MgaW4gVjguIFRoaXMsIGluIHR1cm4sIHdpbGwgaGVscCBrZWVwIHRoZSBudW1iZXIgb2ZcbiAgICAvLyBoaWRkZW4gY2xhc3NlcyBpbnZvbHZlZCBpbiBwcm9wZXJ0eSBhY2Nlc3NlcyB3aXRoaW4gdGhlIGJhc2UgY2xhc3MgYXNcbiAgICAvLyBsb3cgYXMgcG9zc2libGUuIElmIHRoZSBudW1iZXIgb2YgaGlkZGVuIGNsYXNzZXMgaW52b2x2ZWQgZXhjZWVkcyBmb3VyLFxuICAgIC8vIHRoZSBwcm9wZXJ0eSBhY2Nlc3NlcyB3aWxsIGJlY29tZSBtZWdhbW9ycGhpYyBhbmQgcGVyZm9ybWFuY2UgcGVuYWx0aWVzXG4gICAgLy8gd2lsbCBiZSBpbmN1cnJlZCAtIGkuZS4gaW5saW5lIGNhY2hlcyB3b24ndCBiZSB1c2VkLlxuICAgIC8vXG4gICAgLy8gVGhlIHJlYXNvbnMgZm9yIGVuc3VyaW5nIGFsbCBpbnN0YW5jZXMgaGF2ZSB0aGUgc2FtZSBoaWRkZW4gY2xhc3MgYXJlXG4gICAgLy8gZnVydGhlciBkaXNjdXNzZWQgaW4gdGhpcyBibG9nIHBvc3QgZnJvbSBCZW5lZGlrdCBNZXVyZXI6XG4gICAgLy8gaHR0cHM6Ly9iZW5lZGlrdG1ldXJlci5kZS8yMDE4LzAzLzIzL2ltcGFjdC1vZi1wb2x5bW9ycGhpc20tb24tY29tcG9uZW50LWJhc2VkLWZyYW1ld29ya3MtbGlrZS1yZWFjdC9cbiAgICBzdXBlcihkZXN0aW5hdGlvbik7XG4gICAgdGhpcy5fbmV4dCA9IG9uTmV4dFxuICAgICAgPyBmdW5jdGlvbiAodGhpczogT3BlcmF0b3JTdWJzY3JpYmVyPFQ+LCB2YWx1ZTogVCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvbk5leHQodmFsdWUpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIDogc3VwZXIuX25leHQ7XG4gICAgdGhpcy5fZXJyb3IgPSBvbkVycm9yXG4gICAgICA/IGZ1bmN0aW9uICh0aGlzOiBPcGVyYXRvclN1YnNjcmliZXI8VD4sIGVycjogYW55KSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIFNlbmQgYW55IGVycm9ycyB0aGF0IG9jY3VyIGRvd24gc3RyZWFtLlxuICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGZpbmFsaXphdGlvbi5cbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIDogc3VwZXIuX2Vycm9yO1xuICAgIHRoaXMuX2NvbXBsZXRlID0gb25Db21wbGV0ZVxuICAgICAgPyBmdW5jdGlvbiAodGhpczogT3BlcmF0b3JTdWJzY3JpYmVyPFQ+KSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9uQ29tcGxldGUoKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIFNlbmQgYW55IGVycm9ycyB0aGF0IG9jY3VyIGRvd24gc3RyZWFtLlxuICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gRW5zdXJlIGZpbmFsaXphdGlvbi5cbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIDogc3VwZXIuX2NvbXBsZXRlO1xuICB9XG5cbiAgdW5zdWJzY3JpYmUoKSB7XG4gICAgaWYgKCF0aGlzLnNob3VsZFVuc3Vic2NyaWJlIHx8IHRoaXMuc2hvdWxkVW5zdWJzY3JpYmUoKSkge1xuICAgICAgY29uc3QgeyBjbG9zZWQgfSA9IHRoaXM7XG4gICAgICBzdXBlci51bnN1YnNjcmliZSgpO1xuICAgICAgLy8gRXhlY3V0ZSBhZGRpdGlvbmFsIHRlYXJkb3duIGlmIHdlIGhhdmUgYW55IGFuZCB3ZSBkaWRuJ3QgYWxyZWFkeSBkbyBzby5cbiAgICAgICFjbG9zZWQgJiYgdGhpcy5vbkZpbmFsaXplPy4oKTtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcblxuZXhwb3J0IGludGVyZmFjZSBPYmplY3RVbnN1YnNjcmliZWRFcnJvciBleHRlbmRzIEVycm9yIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JDdG9yIHtcbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbC4gRG8gbm90IGNvbnN0cnVjdCBlcnJvciBpbnN0YW5jZXMuXG4gICAqIENhbm5vdCBiZSB0YWdnZWQgYXMgaW50ZXJuYWw6IGh0dHBzOi8vZ2l0aHViLmNvbS9SZWFjdGl2ZVgvcnhqcy9pc3N1ZXMvNjI2OVxuICAgKi9cbiAgbmV3ICgpOiBPYmplY3RVbnN1YnNjcmliZWRFcnJvcjtcbn1cblxuLyoqXG4gKiBBbiBlcnJvciB0aHJvd24gd2hlbiBhbiBhY3Rpb24gaXMgaW52YWxpZCBiZWNhdXNlIHRoZSBvYmplY3QgaGFzIGJlZW5cbiAqIHVuc3Vic2NyaWJlZC5cbiAqXG4gKiBAc2VlIHtAbGluayBTdWJqZWN0fVxuICogQHNlZSB7QGxpbmsgQmVoYXZpb3JTdWJqZWN0fVxuICpcbiAqIEBjbGFzcyBPYmplY3RVbnN1YnNjcmliZWRFcnJvclxuICovXG5leHBvcnQgY29uc3QgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3I6IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yQ3RvciA9IGNyZWF0ZUVycm9yQ2xhc3MoXG4gIChfc3VwZXIpID0+XG4gICAgZnVuY3Rpb24gT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsKHRoaXM6IGFueSkge1xuICAgICAgX3N1cGVyKHRoaXMpO1xuICAgICAgdGhpcy5uYW1lID0gJ09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbiAgICAgIHRoaXMubWVzc2FnZSA9ICdvYmplY3QgdW5zdWJzY3JpYmVkJztcbiAgICB9XG4pO1xuIiwgImltcG9ydCB7IE9wZXJhdG9yIH0gZnJvbSAnLi9PcGVyYXRvcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uLCBFTVBUWV9TVUJTQ1JJUFRJT04gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPYnNlcnZlciwgU3Vic2NyaXB0aW9uTGlrZSwgVGVhcmRvd25Mb2dpYyB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi91dGlsL2FyclJlbW92ZSc7XG5pbXBvcnQgeyBlcnJvckNvbnRleHQgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcblxuLyoqXG4gKiBBIFN1YmplY3QgaXMgYSBzcGVjaWFsIHR5cGUgb2YgT2JzZXJ2YWJsZSB0aGF0IGFsbG93cyB2YWx1ZXMgdG8gYmVcbiAqIG11bHRpY2FzdGVkIHRvIG1hbnkgT2JzZXJ2ZXJzLiBTdWJqZWN0cyBhcmUgbGlrZSBFdmVudEVtaXR0ZXJzLlxuICpcbiAqIEV2ZXJ5IFN1YmplY3QgaXMgYW4gT2JzZXJ2YWJsZSBhbmQgYW4gT2JzZXJ2ZXIuIFlvdSBjYW4gc3Vic2NyaWJlIHRvIGFcbiAqIFN1YmplY3QsIGFuZCB5b3UgY2FuIGNhbGwgbmV4dCB0byBmZWVkIHZhbHVlcyBhcyB3ZWxsIGFzIGVycm9yIGFuZCBjb21wbGV0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN1YmplY3Q8VD4gZXh0ZW5kcyBPYnNlcnZhYmxlPFQ+IGltcGxlbWVudHMgU3Vic2NyaXB0aW9uTGlrZSB7XG4gIGNsb3NlZCA9IGZhbHNlO1xuXG4gIHByaXZhdGUgY3VycmVudE9ic2VydmVyczogT2JzZXJ2ZXI8VD5bXSB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgb2JzZXJ2ZXJzOiBPYnNlcnZlcjxUPltdID0gW107XG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgaXNTdG9wcGVkID0gZmFsc2U7XG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgaGFzRXJyb3IgPSBmYWxzZTtcbiAgLyoqIEBkZXByZWNhdGVkIEludGVybmFsIGltcGxlbWVudGF0aW9uIGRldGFpbCwgZG8gbm90IHVzZSBkaXJlY3RseS4gV2lsbCBiZSBtYWRlIGludGVybmFsIGluIHY4LiAqL1xuICB0aHJvd25FcnJvcjogYW55ID0gbnVsbDtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIFwic3ViamVjdFwiIGJ5IGJhc2ljYWxseSBnbHVpbmcgYW4gb2JzZXJ2ZXIgdG8gYW4gb2JzZXJ2YWJsZS5cbiAgICpcbiAgICogQG5vY29sbGFwc2VcbiAgICogQGRlcHJlY2F0ZWQgUmVjb21tZW5kZWQgeW91IGRvIG5vdCB1c2UuIFdpbGwgYmUgcmVtb3ZlZCBhdCBzb21lIHBvaW50IGluIHRoZSBmdXR1cmUuIFBsYW5zIGZvciByZXBsYWNlbWVudCBzdGlsbCB1bmRlciBkaXNjdXNzaW9uLlxuICAgKi9cbiAgc3RhdGljIGNyZWF0ZTogKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkgPSA8VD4oZGVzdGluYXRpb246IE9ic2VydmVyPFQ+LCBzb3VyY2U6IE9ic2VydmFibGU8VD4pOiBBbm9ueW1vdXNTdWJqZWN0PFQ+ID0+IHtcbiAgICByZXR1cm4gbmV3IEFub255bW91c1N1YmplY3Q8VD4oZGVzdGluYXRpb24sIHNvdXJjZSk7XG4gIH07XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gTk9URTogVGhpcyBtdXN0IGJlIGhlcmUgdG8gb2JzY3VyZSBPYnNlcnZhYmxlJ3MgY29uc3RydWN0b3IuXG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKiBAZGVwcmVjYXRlZCBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBkZXRhaWwsIGRvIG5vdCB1c2UgZGlyZWN0bHkuIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC4gKi9cbiAgbGlmdDxSPihvcGVyYXRvcjogT3BlcmF0b3I8VCwgUj4pOiBPYnNlcnZhYmxlPFI+IHtcbiAgICBjb25zdCBzdWJqZWN0ID0gbmV3IEFub255bW91c1N1YmplY3QodGhpcywgdGhpcyk7XG4gICAgc3ViamVjdC5vcGVyYXRvciA9IG9wZXJhdG9yIGFzIGFueTtcbiAgICByZXR1cm4gc3ViamVjdCBhcyBhbnk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfdGhyb3dJZkNsb3NlZCgpIHtcbiAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgIH1cbiAgfVxuXG4gIG5leHQodmFsdWU6IFQpIHtcbiAgICBlcnJvckNvbnRleHQoKCkgPT4ge1xuICAgICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudE9ic2VydmVycykge1xuICAgICAgICAgIHRoaXMuY3VycmVudE9ic2VydmVycyA9IEFycmF5LmZyb20odGhpcy5vYnNlcnZlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qgb2JzZXJ2ZXIgb2YgdGhpcy5jdXJyZW50T2JzZXJ2ZXJzKSB7XG4gICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGVycm9yKGVycjogYW55KSB7XG4gICAgZXJyb3JDb250ZXh0KCgpID0+IHtcbiAgICAgIHRoaXMuX3Rocm93SWZDbG9zZWQoKTtcbiAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50aHJvd25FcnJvciA9IGVycjtcbiAgICAgICAgY29uc3QgeyBvYnNlcnZlcnMgfSA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChvYnNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgb2JzZXJ2ZXJzLnNoaWZ0KCkhLmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGNvbXBsZXRlKCkge1xuICAgIGVycm9yQ29udGV4dCgoKSA9PiB7XG4gICAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgeyBvYnNlcnZlcnMgfSA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChvYnNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgb2JzZXJ2ZXJzLnNoaWZ0KCkhLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHVuc3Vic2NyaWJlKCkge1xuICAgIHRoaXMuaXNTdG9wcGVkID0gdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgIHRoaXMub2JzZXJ2ZXJzID0gdGhpcy5jdXJyZW50T2JzZXJ2ZXJzID0gbnVsbCE7XG4gIH1cblxuICBnZXQgb2JzZXJ2ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMub2JzZXJ2ZXJzPy5sZW5ndGggPiAwO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3RyeVN1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KTogVGVhcmRvd25Mb2dpYyB7XG4gICAgdGhpcy5fdGhyb3dJZkNsb3NlZCgpO1xuICAgIHJldHVybiBzdXBlci5fdHJ5U3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3N1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KTogU3Vic2NyaXB0aW9uIHtcbiAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgdGhpcy5fY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyKTtcbiAgICByZXR1cm4gdGhpcy5faW5uZXJTdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfaW5uZXJTdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxhbnk+KSB7XG4gICAgY29uc3QgeyBoYXNFcnJvciwgaXNTdG9wcGVkLCBvYnNlcnZlcnMgfSA9IHRoaXM7XG4gICAgaWYgKGhhc0Vycm9yIHx8IGlzU3RvcHBlZCkge1xuICAgICAgcmV0dXJuIEVNUFRZX1NVQlNDUklQVElPTjtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50T2JzZXJ2ZXJzID0gbnVsbDtcbiAgICBvYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICByZXR1cm4gbmV3IFN1YnNjcmlwdGlvbigoKSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRPYnNlcnZlcnMgPSBudWxsO1xuICAgICAgYXJyUmVtb3ZlKG9ic2VydmVycywgc3Vic2NyaWJlcik7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQGludGVybmFsICovXG4gIHByb3RlY3RlZCBfY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPGFueT4pIHtcbiAgICBjb25zdCB7IGhhc0Vycm9yLCB0aHJvd25FcnJvciwgaXNTdG9wcGVkIH0gPSB0aGlzO1xuICAgIGlmIChoYXNFcnJvcikge1xuICAgICAgc3Vic2NyaWJlci5lcnJvcih0aHJvd25FcnJvcik7XG4gICAgfSBlbHNlIGlmIChpc1N0b3BwZWQpIHtcbiAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBPYnNlcnZhYmxlIHdpdGggdGhpcyBTdWJqZWN0IGFzIHRoZSBzb3VyY2UuIFlvdSBjYW4gZG8gdGhpc1xuICAgKiB0byBjcmVhdGUgY3VzdG9tIE9ic2VydmVyLXNpZGUgbG9naWMgb2YgdGhlIFN1YmplY3QgYW5kIGNvbmNlYWwgaXQgZnJvbVxuICAgKiBjb2RlIHRoYXQgdXNlcyB0aGUgT2JzZXJ2YWJsZS5cbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZX0gT2JzZXJ2YWJsZSB0aGF0IHRoZSBTdWJqZWN0IGNhc3RzIHRvXG4gICAqL1xuICBhc09ic2VydmFibGUoKTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZTogYW55ID0gbmV3IE9ic2VydmFibGU8VD4oKTtcbiAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgcmV0dXJuIG9ic2VydmFibGU7XG4gIH1cbn1cblxuLyoqXG4gKiBAY2xhc3MgQW5vbnltb3VzU3ViamVjdDxUPlxuICovXG5leHBvcnQgY2xhc3MgQW5vbnltb3VzU3ViamVjdDxUPiBleHRlbmRzIFN1YmplY3Q8VD4ge1xuICBjb25zdHJ1Y3RvcihcbiAgICAvKiogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguICovXG4gICAgcHVibGljIGRlc3RpbmF0aW9uPzogT2JzZXJ2ZXI8VD4sXG4gICAgc291cmNlPzogT2JzZXJ2YWJsZTxUPlxuICApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICB9XG5cbiAgbmV4dCh2YWx1ZTogVCkge1xuICAgIHRoaXMuZGVzdGluYXRpb24/Lm5leHQ/Lih2YWx1ZSk7XG4gIH1cblxuICBlcnJvcihlcnI6IGFueSkge1xuICAgIHRoaXMuZGVzdGluYXRpb24/LmVycm9yPy4oZXJyKTtcbiAgfVxuXG4gIGNvbXBsZXRlKCkge1xuICAgIHRoaXMuZGVzdGluYXRpb24/LmNvbXBsZXRlPy4oKTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJvdGVjdGVkIF9zdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPik6IFN1YnNjcmlwdGlvbiB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlPy5zdWJzY3JpYmUoc3Vic2NyaWJlcikgPz8gRU1QVFlfU1VCU0NSSVBUSU9OO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICcuLi90eXBlcyc7XG5cbmludGVyZmFjZSBEYXRlVGltZXN0YW1wUHJvdmlkZXIgZXh0ZW5kcyBUaW1lc3RhbXBQcm92aWRlciB7XG4gIGRlbGVnYXRlOiBUaW1lc3RhbXBQcm92aWRlciB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNvbnN0IGRhdGVUaW1lc3RhbXBQcm92aWRlcjogRGF0ZVRpbWVzdGFtcFByb3ZpZGVyID0ge1xuICBub3coKSB7XG4gICAgLy8gVXNlIHRoZSB2YXJpYWJsZSByYXRoZXIgdGhhbiBgdGhpc2Agc28gdGhhdCB0aGUgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZFxuICAgIC8vIHdpdGhvdXQgYmVpbmcgYm91bmQgdG8gdGhlIHByb3ZpZGVyLlxuICAgIHJldHVybiAoZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLmRlbGVnYXRlIHx8IERhdGUpLm5vdygpO1xuICB9LFxuICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbiIsICJpbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi9TdWJqZWN0JztcbmltcG9ydCB7IFRpbWVzdGFtcFByb3ZpZGVyIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IGRhdGVUaW1lc3RhbXBQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlcic7XG5cbi8qKlxuICogQSB2YXJpYW50IG9mIHtAbGluayBTdWJqZWN0fSB0aGF0IFwicmVwbGF5c1wiIG9sZCB2YWx1ZXMgdG8gbmV3IHN1YnNjcmliZXJzIGJ5IGVtaXR0aW5nIHRoZW0gd2hlbiB0aGV5IGZpcnN0IHN1YnNjcmliZS5cbiAqXG4gKiBgUmVwbGF5U3ViamVjdGAgaGFzIGFuIGludGVybmFsIGJ1ZmZlciB0aGF0IHdpbGwgc3RvcmUgYSBzcGVjaWZpZWQgbnVtYmVyIG9mIHZhbHVlcyB0aGF0IGl0IGhhcyBvYnNlcnZlZC4gTGlrZSBgU3ViamVjdGAsXG4gKiBgUmVwbGF5U3ViamVjdGAgXCJvYnNlcnZlc1wiIHZhbHVlcyBieSBoYXZpbmcgdGhlbSBwYXNzZWQgdG8gaXRzIGBuZXh0YCBtZXRob2QuIFdoZW4gaXQgb2JzZXJ2ZXMgYSB2YWx1ZSwgaXQgd2lsbCBzdG9yZSB0aGF0XG4gKiB2YWx1ZSBmb3IgYSB0aW1lIGRldGVybWluZWQgYnkgdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIGBSZXBsYXlTdWJqZWN0YCwgYXMgcGFzc2VkIHRvIGl0cyBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBXaGVuIGEgbmV3IHN1YnNjcmliZXIgc3Vic2NyaWJlcyB0byB0aGUgYFJlcGxheVN1YmplY3RgIGluc3RhbmNlLCBpdCB3aWxsIHN5bmNocm9ub3VzbHkgZW1pdCBhbGwgdmFsdWVzIGluIGl0cyBidWZmZXIgaW5cbiAqIGEgRmlyc3QtSW4tRmlyc3QtT3V0IChGSUZPKSBtYW5uZXIuIFRoZSBgUmVwbGF5U3ViamVjdGAgd2lsbCBhbHNvIGNvbXBsZXRlLCBpZiBpdCBoYXMgb2JzZXJ2ZWQgY29tcGxldGlvbjsgYW5kIGl0IHdpbGxcbiAqIGVycm9yIGlmIGl0IGhhcyBvYnNlcnZlZCBhbiBlcnJvci5cbiAqXG4gKiBUaGVyZSBhcmUgdHdvIG1haW4gY29uZmlndXJhdGlvbiBpdGVtcyB0byBiZSBjb25jZXJuZWQgd2l0aDpcbiAqXG4gKiAxLiBgYnVmZmVyU2l6ZWAgLSBUaGlzIHdpbGwgZGV0ZXJtaW5lIGhvdyBtYW55IGl0ZW1zIGFyZSBzdG9yZWQgaW4gdGhlIGJ1ZmZlciwgZGVmYXVsdHMgdG8gaW5maW5pdGUuXG4gKiAyLiBgd2luZG93VGltZWAgLSBUaGUgYW1vdW50IG9mIHRpbWUgdG8gaG9sZCBhIHZhbHVlIGluIHRoZSBidWZmZXIgYmVmb3JlIHJlbW92aW5nIGl0IGZyb20gdGhlIGJ1ZmZlci5cbiAqXG4gKiBCb3RoIGNvbmZpZ3VyYXRpb25zIG1heSBleGlzdCBzaW11bHRhbmVvdXNseS4gU28gaWYgeW91IHdvdWxkIGxpa2UgdG8gYnVmZmVyIGEgbWF4aW11bSBvZiAzIHZhbHVlcywgYXMgbG9uZyBhcyB0aGUgdmFsdWVzXG4gKiBhcmUgbGVzcyB0aGFuIDIgc2Vjb25kcyBvbGQsIHlvdSBjb3VsZCBkbyBzbyB3aXRoIGEgYG5ldyBSZXBsYXlTdWJqZWN0KDMsIDIwMDApYC5cbiAqXG4gKiAjIyMgRGlmZmVyZW5jZXMgd2l0aCBCZWhhdmlvclN1YmplY3RcbiAqXG4gKiBgQmVoYXZpb3JTdWJqZWN0YCBpcyBzaW1pbGFyIHRvIGBuZXcgUmVwbGF5U3ViamVjdCgxKWAsIHdpdGggYSBjb3VwbGUgb2YgZXhjZXB0aW9uczpcbiAqXG4gKiAxLiBgQmVoYXZpb3JTdWJqZWN0YCBjb21lcyBcInByaW1lZFwiIHdpdGggYSBzaW5nbGUgdmFsdWUgdXBvbiBjb25zdHJ1Y3Rpb24uXG4gKiAyLiBgUmVwbGF5U3ViamVjdGAgd2lsbCByZXBsYXkgdmFsdWVzLCBldmVuIGFmdGVyIG9ic2VydmluZyBhbiBlcnJvciwgd2hlcmUgYEJlaGF2aW9yU3ViamVjdGAgd2lsbCBub3QuXG4gKlxuICogQHNlZSB7QGxpbmsgU3ViamVjdH1cbiAqIEBzZWUge0BsaW5rIEJlaGF2aW9yU3ViamVjdH1cbiAqIEBzZWUge0BsaW5rIHNoYXJlUmVwbGF5fVxuICovXG5leHBvcnQgY2xhc3MgUmVwbGF5U3ViamVjdDxUPiBleHRlbmRzIFN1YmplY3Q8VD4ge1xuICBwcml2YXRlIF9idWZmZXI6IChUIHwgbnVtYmVyKVtdID0gW107XG4gIHByaXZhdGUgX2luZmluaXRlVGltZVdpbmRvdyA9IHRydWU7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBidWZmZXJTaXplIFRoZSBzaXplIG9mIHRoZSBidWZmZXIgdG8gcmVwbGF5IG9uIHN1YnNjcmlwdGlvblxuICAgKiBAcGFyYW0gd2luZG93VGltZSBUaGUgYW1vdW50IG9mIHRpbWUgdGhlIGJ1ZmZlcmVkIGl0ZW1zIHdpbGwgc3RheSBidWZmZXJlZFxuICAgKiBAcGFyYW0gdGltZXN0YW1wUHJvdmlkZXIgQW4gb2JqZWN0IHdpdGggYSBgbm93KClgIG1ldGhvZCB0aGF0IHByb3ZpZGVzIHRoZSBjdXJyZW50IHRpbWVzdGFtcC4gVGhpcyBpcyB1c2VkIHRvXG4gICAqIGNhbGN1bGF0ZSB0aGUgYW1vdW50IG9mIHRpbWUgc29tZXRoaW5nIGhhcyBiZWVuIGJ1ZmZlcmVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBfYnVmZmVyU2l6ZSA9IEluZmluaXR5LFxuICAgIHByaXZhdGUgX3dpbmRvd1RpbWUgPSBJbmZpbml0eSxcbiAgICBwcml2YXRlIF90aW1lc3RhbXBQcm92aWRlcjogVGltZXN0YW1wUHJvdmlkZXIgPSBkYXRlVGltZXN0YW1wUHJvdmlkZXJcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9pbmZpbml0ZVRpbWVXaW5kb3cgPSBfd2luZG93VGltZSA9PT0gSW5maW5pdHk7XG4gICAgdGhpcy5fYnVmZmVyU2l6ZSA9IE1hdGgubWF4KDEsIF9idWZmZXJTaXplKTtcbiAgICB0aGlzLl93aW5kb3dUaW1lID0gTWF0aC5tYXgoMSwgX3dpbmRvd1RpbWUpO1xuICB9XG5cbiAgbmV4dCh2YWx1ZTogVCk6IHZvaWQge1xuICAgIGNvbnN0IHsgaXNTdG9wcGVkLCBfYnVmZmVyLCBfaW5maW5pdGVUaW1lV2luZG93LCBfdGltZXN0YW1wUHJvdmlkZXIsIF93aW5kb3dUaW1lIH0gPSB0aGlzO1xuICAgIGlmICghaXNTdG9wcGVkKSB7XG4gICAgICBfYnVmZmVyLnB1c2godmFsdWUpO1xuICAgICAgIV9pbmZpbml0ZVRpbWVXaW5kb3cgJiYgX2J1ZmZlci5wdXNoKF90aW1lc3RhbXBQcm92aWRlci5ub3coKSArIF93aW5kb3dUaW1lKTtcbiAgICB9XG4gICAgdGhpcy5fdHJpbUJ1ZmZlcigpO1xuICAgIHN1cGVyLm5leHQodmFsdWUpO1xuICB9XG5cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBwcm90ZWN0ZWQgX3N1YnNjcmliZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KTogU3Vic2NyaXB0aW9uIHtcbiAgICB0aGlzLl90aHJvd0lmQ2xvc2VkKCk7XG4gICAgdGhpcy5fdHJpbUJ1ZmZlcigpO1xuXG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5faW5uZXJTdWJzY3JpYmUoc3Vic2NyaWJlcik7XG5cbiAgICBjb25zdCB7IF9pbmZpbml0ZVRpbWVXaW5kb3csIF9idWZmZXIgfSA9IHRoaXM7XG4gICAgLy8gV2UgdXNlIGEgY29weSBoZXJlLCBzbyByZWVudHJhbnQgY29kZSBkb2VzIG5vdCBtdXRhdGUgb3VyIGFycmF5IHdoaWxlIHdlJ3JlXG4gICAgLy8gZW1pdHRpbmcgaXQgdG8gYSBuZXcgc3Vic2NyaWJlci5cbiAgICBjb25zdCBjb3B5ID0gX2J1ZmZlci5zbGljZSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29weS5sZW5ndGggJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpICs9IF9pbmZpbml0ZVRpbWVXaW5kb3cgPyAxIDogMikge1xuICAgICAgc3Vic2NyaWJlci5uZXh0KGNvcHlbaV0gYXMgVCk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2hlY2tGaW5hbGl6ZWRTdGF0dXNlcyhzdWJzY3JpYmVyKTtcblxuICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gIH1cblxuICBwcml2YXRlIF90cmltQnVmZmVyKCkge1xuICAgIGNvbnN0IHsgX2J1ZmZlclNpemUsIF90aW1lc3RhbXBQcm92aWRlciwgX2J1ZmZlciwgX2luZmluaXRlVGltZVdpbmRvdyB9ID0gdGhpcztcbiAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGFuIGluZmluaXRlIGJ1ZmZlciBzaXplLCBhbmQgd2UncmUgb3ZlciB0aGUgbGVuZ3RoLFxuICAgIC8vIHVzZSBzcGxpY2UgdG8gdHJ1bmNhdGUgdGhlIG9sZCBidWZmZXIgdmFsdWVzIG9mZi4gTm90ZSB0aGF0IHdlIGhhdmUgdG9cbiAgICAvLyBkb3VibGUgdGhlIHNpemUgZm9yIGluc3RhbmNlcyB3aGVyZSB3ZSdyZSBub3QgdXNpbmcgYW4gaW5maW5pdGUgdGltZSB3aW5kb3dcbiAgICAvLyBiZWNhdXNlIHdlJ3JlIHN0b3JpbmcgdGhlIHZhbHVlcyBhbmQgdGhlIHRpbWVzdGFtcHMgaW4gdGhlIHNhbWUgYXJyYXkuXG4gICAgY29uc3QgYWRqdXN0ZWRCdWZmZXJTaXplID0gKF9pbmZpbml0ZVRpbWVXaW5kb3cgPyAxIDogMikgKiBfYnVmZmVyU2l6ZTtcbiAgICBfYnVmZmVyU2l6ZSA8IEluZmluaXR5ICYmIGFkanVzdGVkQnVmZmVyU2l6ZSA8IF9idWZmZXIubGVuZ3RoICYmIF9idWZmZXIuc3BsaWNlKDAsIF9idWZmZXIubGVuZ3RoIC0gYWRqdXN0ZWRCdWZmZXJTaXplKTtcblxuICAgIC8vIE5vdywgaWYgd2UncmUgbm90IGluIGFuIGluZmluaXRlIHRpbWUgd2luZG93LCByZW1vdmUgYWxsIHZhbHVlcyB3aGVyZSB0aGUgdGltZSBpc1xuICAgIC8vIG9sZGVyIHRoYW4gd2hhdCBpcyBhbGxvd2VkLlxuICAgIGlmICghX2luZmluaXRlVGltZVdpbmRvdykge1xuICAgICAgY29uc3Qgbm93ID0gX3RpbWVzdGFtcFByb3ZpZGVyLm5vdygpO1xuICAgICAgbGV0IGxhc3QgPSAwO1xuICAgICAgLy8gU2VhcmNoIHRoZSBhcnJheSBmb3IgdGhlIGZpcnN0IHRpbWVzdGFtcCB0aGF0IGlzbid0IGV4cGlyZWQgYW5kXG4gICAgICAvLyB0cnVuY2F0ZSB0aGUgYnVmZmVyIHVwIHRvIHRoYXQgcG9pbnQuXG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IF9idWZmZXIubGVuZ3RoICYmIChfYnVmZmVyW2ldIGFzIG51bWJlcikgPD0gbm93OyBpICs9IDIpIHtcbiAgICAgICAgbGFzdCA9IGk7XG4gICAgICB9XG4gICAgICBsYXN0ICYmIF9idWZmZXIuc3BsaWNlKDAsIGxhc3QgKyAxKTtcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBTY2hlZHVsZXIgfSBmcm9tICcuLi9TY2hlZHVsZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IFNjaGVkdWxlckFjdGlvbiB9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKiBBIHVuaXQgb2Ygd29yayB0byBiZSBleGVjdXRlZCBpbiBhIGBzY2hlZHVsZXJgLiBBbiBhY3Rpb24gaXMgdHlwaWNhbGx5XG4gKiBjcmVhdGVkIGZyb20gd2l0aGluIGEge0BsaW5rIFNjaGVkdWxlckxpa2V9IGFuZCBhbiBSeEpTIHVzZXIgZG9lcyBub3QgbmVlZCB0byBjb25jZXJuXG4gKiB0aGVtc2VsdmVzIGFib3V0IGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgYW4gQWN0aW9uLlxuICpcbiAqIGBgYHRzXG4gKiBjbGFzcyBBY3Rpb248VD4gZXh0ZW5kcyBTdWJzY3JpcHRpb24ge1xuICogICBuZXcgKHNjaGVkdWxlcjogU2NoZWR1bGVyLCB3b3JrOiAoc3RhdGU/OiBUKSA9PiB2b2lkKTtcbiAqICAgc2NoZWR1bGUoc3RhdGU/OiBULCBkZWxheTogbnVtYmVyID0gMCk6IFN1YnNjcmlwdGlvbjtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBjbGFzcyBBY3Rpb248VD5cbiAqL1xuZXhwb3J0IGNsYXNzIEFjdGlvbjxUPiBleHRlbmRzIFN1YnNjcmlwdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHNjaGVkdWxlcjogU2NoZWR1bGVyLCB3b3JrOiAodGhpczogU2NoZWR1bGVyQWN0aW9uPFQ+LCBzdGF0ZT86IFQpID0+IHZvaWQpIHtcbiAgICBzdXBlcigpO1xuICB9XG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgdGhpcyBhY3Rpb24gb24gaXRzIHBhcmVudCB7QGxpbmsgU2NoZWR1bGVyTGlrZX0gZm9yIGV4ZWN1dGlvbi4gTWF5IGJlIHBhc3NlZFxuICAgKiBzb21lIGNvbnRleHQgb2JqZWN0LCBgc3RhdGVgLiBNYXkgaGFwcGVuIGF0IHNvbWUgcG9pbnQgaW4gdGhlIGZ1dHVyZSxcbiAgICogYWNjb3JkaW5nIHRvIHRoZSBgZGVsYXlgIHBhcmFtZXRlciwgaWYgc3BlY2lmaWVkLlxuICAgKiBAcGFyYW0ge1R9IFtzdGF0ZV0gU29tZSBjb250ZXh0dWFsIGRhdGEgdGhhdCB0aGUgYHdvcmtgIGZ1bmN0aW9uIHVzZXMgd2hlblxuICAgKiBjYWxsZWQgYnkgdGhlIFNjaGVkdWxlci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtkZWxheV0gVGltZSB0byB3YWl0IGJlZm9yZSBleGVjdXRpbmcgdGhlIHdvcmssIHdoZXJlIHRoZVxuICAgKiB0aW1lIHVuaXQgaXMgaW1wbGljaXQgYW5kIGRlZmluZWQgYnkgdGhlIFNjaGVkdWxlci5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHB1YmxpYyBzY2hlZHVsZShzdGF0ZT86IFQsIGRlbGF5OiBudW1iZXIgPSAwKTogU3Vic2NyaXB0aW9uIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuIiwgImltcG9ydCB0eXBlIHsgVGltZXJIYW5kbGUgfSBmcm9tICcuL3RpbWVySGFuZGxlJztcbnR5cGUgU2V0SW50ZXJ2YWxGdW5jdGlvbiA9IChoYW5kbGVyOiAoKSA9PiB2b2lkLCB0aW1lb3V0PzogbnVtYmVyLCAuLi5hcmdzOiBhbnlbXSkgPT4gVGltZXJIYW5kbGU7XG50eXBlIENsZWFySW50ZXJ2YWxGdW5jdGlvbiA9IChoYW5kbGU6IFRpbWVySGFuZGxlKSA9PiB2b2lkO1xuXG5pbnRlcmZhY2UgSW50ZXJ2YWxQcm92aWRlciB7XG4gIHNldEludGVydmFsOiBTZXRJbnRlcnZhbEZ1bmN0aW9uO1xuICBjbGVhckludGVydmFsOiBDbGVhckludGVydmFsRnVuY3Rpb247XG4gIGRlbGVnYXRlOlxuICAgIHwge1xuICAgICAgICBzZXRJbnRlcnZhbDogU2V0SW50ZXJ2YWxGdW5jdGlvbjtcbiAgICAgICAgY2xlYXJJbnRlcnZhbDogQ2xlYXJJbnRlcnZhbEZ1bmN0aW9uO1xuICAgICAgfVxuICAgIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgY29uc3QgaW50ZXJ2YWxQcm92aWRlcjogSW50ZXJ2YWxQcm92aWRlciA9IHtcbiAgLy8gV2hlbiBhY2Nlc3NpbmcgdGhlIGRlbGVnYXRlLCB1c2UgdGhlIHZhcmlhYmxlIHJhdGhlciB0aGFuIGB0aGlzYCBzbyB0aGF0XG4gIC8vIHRoZSBmdW5jdGlvbnMgY2FuIGJlIGNhbGxlZCB3aXRob3V0IGJlaW5nIGJvdW5kIHRvIHRoZSBwcm92aWRlci5cbiAgc2V0SW50ZXJ2YWwoaGFuZGxlcjogKCkgPT4gdm9pZCwgdGltZW91dD86IG51bWJlciwgLi4uYXJncykge1xuICAgIGNvbnN0IHsgZGVsZWdhdGUgfSA9IGludGVydmFsUHJvdmlkZXI7XG4gICAgaWYgKGRlbGVnYXRlPy5zZXRJbnRlcnZhbCkge1xuICAgICAgcmV0dXJuIGRlbGVnYXRlLnNldEludGVydmFsKGhhbmRsZXIsIHRpbWVvdXQsIC4uLmFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gc2V0SW50ZXJ2YWwoaGFuZGxlciwgdGltZW91dCwgLi4uYXJncyk7XG4gIH0sXG4gIGNsZWFySW50ZXJ2YWwoaGFuZGxlKSB7XG4gICAgY29uc3QgeyBkZWxlZ2F0ZSB9ID0gaW50ZXJ2YWxQcm92aWRlcjtcbiAgICByZXR1cm4gKGRlbGVnYXRlPy5jbGVhckludGVydmFsIHx8IGNsZWFySW50ZXJ2YWwpKGhhbmRsZSBhcyBhbnkpO1xuICB9LFxuICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbiIsICJpbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuL0FjdGlvbic7XG5pbXBvcnQgeyBTY2hlZHVsZXJBY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbmltcG9ydCB7IGludGVydmFsUHJvdmlkZXIgfSBmcm9tICcuL2ludGVydmFsUHJvdmlkZXInO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi4vdXRpbC9hcnJSZW1vdmUnO1xuaW1wb3J0IHsgVGltZXJIYW5kbGUgfSBmcm9tICcuL3RpbWVySGFuZGxlJztcblxuZXhwb3J0IGNsYXNzIEFzeW5jQWN0aW9uPFQ+IGV4dGVuZHMgQWN0aW9uPFQ+IHtcbiAgcHVibGljIGlkOiBUaW1lckhhbmRsZSB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHN0YXRlPzogVDtcbiAgLy8gQHRzLWlnbm9yZTogUHJvcGVydHkgaGFzIG5vIGluaXRpYWxpemVyIGFuZCBpcyBub3QgZGVmaW5pdGVseSBhc3NpZ25lZFxuICBwdWJsaWMgZGVsYXk6IG51bWJlcjtcbiAgcHJvdGVjdGVkIHBlbmRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgc2NoZWR1bGVyOiBBc3luY1NjaGVkdWxlciwgcHJvdGVjdGVkIHdvcms6ICh0aGlzOiBTY2hlZHVsZXJBY3Rpb248VD4sIHN0YXRlPzogVCkgPT4gdm9pZCkge1xuICAgIHN1cGVyKHNjaGVkdWxlciwgd29yayk7XG4gIH1cblxuICBwdWJsaWMgc2NoZWR1bGUoc3RhdGU/OiBULCBkZWxheTogbnVtYmVyID0gMCk6IFN1YnNjcmlwdGlvbiB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBBbHdheXMgcmVwbGFjZSB0aGUgY3VycmVudCBzdGF0ZSB3aXRoIHRoZSBuZXcgc3RhdGUuXG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgY29uc3QgaWQgPSB0aGlzLmlkO1xuICAgIGNvbnN0IHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuXG4gICAgLy9cbiAgICAvLyBJbXBvcnRhbnQgaW1wbGVtZW50YXRpb24gbm90ZTpcbiAgICAvL1xuICAgIC8vIEFjdGlvbnMgb25seSBleGVjdXRlIG9uY2UgYnkgZGVmYXVsdCwgdW5sZXNzIHJlc2NoZWR1bGVkIGZyb20gd2l0aGluIHRoZVxuICAgIC8vIHNjaGVkdWxlZCBjYWxsYmFjay4gVGhpcyBhbGxvd3MgdXMgdG8gaW1wbGVtZW50IHNpbmdsZSBhbmQgcmVwZWF0XG4gICAgLy8gYWN0aW9ucyB2aWEgdGhlIHNhbWUgY29kZSBwYXRoLCB3aXRob3V0IGFkZGluZyBBUEkgc3VyZmFjZSBhcmVhLCBhcyB3ZWxsXG4gICAgLy8gYXMgbWltaWMgdHJhZGl0aW9uYWwgcmVjdXJzaW9uIGJ1dCBhY3Jvc3MgYXN5bmNocm9ub3VzIGJvdW5kYXJpZXMuXG4gICAgLy9cbiAgICAvLyBIb3dldmVyLCBKUyBydW50aW1lcyBhbmQgdGltZXJzIGRpc3Rpbmd1aXNoIGJldHdlZW4gaW50ZXJ2YWxzIGFjaGlldmVkIGJ5XG4gICAgLy8gc2VyaWFsIGBzZXRUaW1lb3V0YCBjYWxscyB2cy4gYSBzaW5nbGUgYHNldEludGVydmFsYCBjYWxsLiBBbiBpbnRlcnZhbCBvZlxuICAgIC8vIHNlcmlhbCBgc2V0VGltZW91dGAgY2FsbHMgY2FuIGJlIGluZGl2aWR1YWxseSBkZWxheWVkLCB3aGljaCBkZWxheXNcbiAgICAvLyBzY2hlZHVsaW5nIHRoZSBuZXh0IGBzZXRUaW1lb3V0YCwgYW5kIHNvIG9uLiBgc2V0SW50ZXJ2YWxgIGF0dGVtcHRzIHRvXG4gICAgLy8gZ3VhcmFudGVlIHRoZSBpbnRlcnZhbCBjYWxsYmFjayB3aWxsIGJlIGludm9rZWQgbW9yZSBwcmVjaXNlbHkgdG8gdGhlXG4gICAgLy8gaW50ZXJ2YWwgcGVyaW9kLCByZWdhcmRsZXNzIG9mIGxvYWQuXG4gICAgLy9cbiAgICAvLyBUaGVyZWZvcmUsIHdlIHVzZSBgc2V0SW50ZXJ2YWxgIHRvIHNjaGVkdWxlIHNpbmdsZSBhbmQgcmVwZWF0IGFjdGlvbnMuXG4gICAgLy8gSWYgdGhlIGFjdGlvbiByZXNjaGVkdWxlcyBpdHNlbGYgd2l0aCB0aGUgc2FtZSBkZWxheSwgdGhlIGludGVydmFsIGlzIG5vdFxuICAgIC8vIGNhbmNlbGVkLiBJZiB0aGUgYWN0aW9uIGRvZXNuJ3QgcmVzY2hlZHVsZSwgb3IgcmVzY2hlZHVsZXMgd2l0aCBhXG4gICAgLy8gZGlmZmVyZW50IGRlbGF5LCB0aGUgaW50ZXJ2YWwgd2lsbCBiZSBjYW5jZWxlZCBhZnRlciBzY2hlZHVsZWQgY2FsbGJhY2tcbiAgICAvLyBleGVjdXRpb24uXG4gICAgLy9cbiAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgcGVuZGluZyBmbGFnIGluZGljYXRpbmcgdGhhdCB0aGlzIGFjdGlvbiBoYXMgYmVlbiBzY2hlZHVsZWQsIG9yXG4gICAgLy8gaGFzIHJlY3Vyc2l2ZWx5IHJlc2NoZWR1bGVkIGl0c2VsZi5cbiAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuXG4gICAgdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgIC8vIElmIHRoaXMgYWN0aW9uIGhhcyBhbHJlYWR5IGFuIGFzeW5jIElkLCBkb24ndCByZXF1ZXN0IGEgbmV3IG9uZS5cbiAgICB0aGlzLmlkID0gdGhpcy5pZCA/PyB0aGlzLnJlcXVlc3RBc3luY0lkKHNjaGVkdWxlciwgdGhpcy5pZCwgZGVsYXkpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyOiBBc3luY1NjaGVkdWxlciwgX2lkPzogVGltZXJIYW5kbGUsIGRlbGF5OiBudW1iZXIgPSAwKTogVGltZXJIYW5kbGUge1xuICAgIHJldHVybiBpbnRlcnZhbFByb3ZpZGVyLnNldEludGVydmFsKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgdGhpcyksIGRlbGF5KTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZWN5Y2xlQXN5bmNJZChfc2NoZWR1bGVyOiBBc3luY1NjaGVkdWxlciwgaWQ/OiBUaW1lckhhbmRsZSwgZGVsYXk6IG51bWJlciB8IG51bGwgPSAwKTogVGltZXJIYW5kbGUgfCB1bmRlZmluZWQge1xuICAgIC8vIElmIHRoaXMgYWN0aW9uIGlzIHJlc2NoZWR1bGVkIHdpdGggdGhlIHNhbWUgZGVsYXkgdGltZSwgZG9uJ3QgY2xlYXIgdGhlIGludGVydmFsIGlkLlxuICAgIGlmIChkZWxheSAhPSBudWxsICYmIHRoaXMuZGVsYXkgPT09IGRlbGF5ICYmIHRoaXMucGVuZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBpZDtcbiAgICB9XG4gICAgLy8gT3RoZXJ3aXNlLCBpZiB0aGUgYWN0aW9uJ3MgZGVsYXkgdGltZSBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgY3VycmVudCBkZWxheSxcbiAgICAvLyBvciB0aGUgYWN0aW9uIGhhcyBiZWVuIHJlc2NoZWR1bGVkIGJlZm9yZSBpdCdzIGV4ZWN1dGVkLCBjbGVhciB0aGUgaW50ZXJ2YWwgaWRcbiAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgaW50ZXJ2YWxQcm92aWRlci5jbGVhckludGVydmFsKGlkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEltbWVkaWF0ZWx5IGV4ZWN1dGVzIHRoaXMgYWN0aW9uIGFuZCB0aGUgYHdvcmtgIGl0IGNvbnRhaW5zLlxuICAgKiBAcmV0dXJuIHthbnl9XG4gICAqL1xuICBwdWJsaWMgZXhlY3V0ZShzdGF0ZTogVCwgZGVsYXk6IG51bWJlcik6IGFueSB7XG4gICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uJyk7XG4gICAgfVxuXG4gICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfSBlbHNlIGlmICh0aGlzLnBlbmRpbmcgPT09IGZhbHNlICYmIHRoaXMuaWQgIT0gbnVsbCkge1xuICAgICAgLy8gRGVxdWV1ZSBpZiB0aGUgYWN0aW9uIGRpZG4ndCByZXNjaGVkdWxlIGl0c2VsZi4gRG9uJ3QgY2FsbFxuICAgICAgLy8gdW5zdWJzY3JpYmUoKSwgYmVjYXVzZSB0aGUgYWN0aW9uIGNvdWxkIHJlc2NoZWR1bGUgbGF0ZXIuXG4gICAgICAvLyBGb3IgZXhhbXBsZTpcbiAgICAgIC8vIGBgYFxuICAgICAgLy8gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uIGRvV29yayhjb3VudGVyKSB7XG4gICAgICAvLyAgIC8qIC4uLiBJJ20gYSBidXN5IHdvcmtlciBiZWUgLi4uICovXG4gICAgICAvLyAgIHZhciBvcmlnaW5hbEFjdGlvbiA9IHRoaXM7XG4gICAgICAvLyAgIC8qIHdhaXQgMTAwbXMgYmVmb3JlIHJlc2NoZWR1bGluZyB0aGUgYWN0aW9uICovXG4gICAgICAvLyAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gICAgIG9yaWdpbmFsQWN0aW9uLnNjaGVkdWxlKGNvdW50ZXIgKyAxKTtcbiAgICAgIC8vICAgfSwgMTAwKTtcbiAgICAgIC8vIH0sIDEwMDApO1xuICAgICAgLy8gYGBgXG4gICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlciwgdGhpcy5pZCwgbnVsbCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIF9leGVjdXRlKHN0YXRlOiBULCBfZGVsYXk6IG51bWJlcik6IGFueSB7XG4gICAgbGV0IGVycm9yZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBsZXQgZXJyb3JWYWx1ZTogYW55O1xuICAgIHRyeSB7XG4gICAgICB0aGlzLndvcmsoc3RhdGUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVycm9yZWQgPSB0cnVlO1xuICAgICAgLy8gSEFDSzogU2luY2UgY29kZSBlbHNld2hlcmUgaXMgcmVseWluZyBvbiB0aGUgXCJ0cnV0aGluZXNzXCIgb2YgdGhlXG4gICAgICAvLyByZXR1cm4gaGVyZSwgd2UgY2FuJ3QgaGF2ZSBpdCByZXR1cm4gXCJcIiBvciAwIG9yIGZhbHNlLlxuICAgICAgLy8gVE9ETzogQ2xlYW4gdGhpcyB1cCB3aGVuIHdlIHJlZmFjdG9yIHNjaGVkdWxlcnMgbWlkLXZlcnNpb24tOCBvciBzby5cbiAgICAgIGVycm9yVmFsdWUgPSBlID8gZSA6IG5ldyBFcnJvcignU2NoZWR1bGVkIGFjdGlvbiB0aHJldyBmYWxzeSBlcnJvcicpO1xuICAgIH1cbiAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgfVxuICB9XG5cbiAgdW5zdWJzY3JpYmUoKSB7XG4gICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgY29uc3QgeyBpZCwgc2NoZWR1bGVyIH0gPSB0aGlzO1xuICAgICAgY29uc3QgeyBhY3Rpb25zIH0gPSBzY2hlZHVsZXI7XG5cbiAgICAgIHRoaXMud29yayA9IHRoaXMuc3RhdGUgPSB0aGlzLnNjaGVkdWxlciA9IG51bGwhO1xuICAgICAgdGhpcy5wZW5kaW5nID0gZmFsc2U7XG5cbiAgICAgIGFyclJlbW92ZShhY3Rpb25zLCB0aGlzKTtcbiAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIG51bGwpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmRlbGF5ID0gbnVsbCE7XG4gICAgICBzdXBlci51bnN1YnNjcmliZSgpO1xuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vc2NoZWR1bGVyL0FjdGlvbic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBTY2hlZHVsZXJMaWtlLCBTY2hlZHVsZXJBY3Rpb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGRhdGVUaW1lc3RhbXBQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlcic7XG5cbi8qKlxuICogQW4gZXhlY3V0aW9uIGNvbnRleHQgYW5kIGEgZGF0YSBzdHJ1Y3R1cmUgdG8gb3JkZXIgdGFza3MgYW5kIHNjaGVkdWxlIHRoZWlyXG4gKiBleGVjdXRpb24uIFByb3ZpZGVzIGEgbm90aW9uIG9mIChwb3RlbnRpYWxseSB2aXJ0dWFsKSB0aW1lLCB0aHJvdWdoIHRoZVxuICogYG5vdygpYCBnZXR0ZXIgbWV0aG9kLlxuICpcbiAqIEVhY2ggdW5pdCBvZiB3b3JrIGluIGEgU2NoZWR1bGVyIGlzIGNhbGxlZCBhbiBgQWN0aW9uYC5cbiAqXG4gKiBgYGB0c1xuICogY2xhc3MgU2NoZWR1bGVyIHtcbiAqICAgbm93KCk6IG51bWJlcjtcbiAqICAgc2NoZWR1bGUod29yaywgZGVsYXk/LCBzdGF0ZT8pOiBTdWJzY3JpcHRpb247XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3MgU2NoZWR1bGVyXG4gKiBAZGVwcmVjYXRlZCBTY2hlZHVsZXIgaXMgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsIG9mIFJ4SlMsIGFuZFxuICogc2hvdWxkIG5vdCBiZSB1c2VkIGRpcmVjdGx5LiBSYXRoZXIsIGNyZWF0ZSB5b3VyIG93biBjbGFzcyBhbmQgaW1wbGVtZW50XG4gKiB7QGxpbmsgU2NoZWR1bGVyTGlrZX0uIFdpbGwgYmUgbWFkZSBpbnRlcm5hbCBpbiB2OC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNjaGVkdWxlciBpbXBsZW1lbnRzIFNjaGVkdWxlckxpa2Uge1xuICBwdWJsaWMgc3RhdGljIG5vdzogKCkgPT4gbnVtYmVyID0gZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLm5vdztcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNjaGVkdWxlckFjdGlvbkN0b3I6IHR5cGVvZiBBY3Rpb24sIG5vdzogKCkgPT4gbnVtYmVyID0gU2NoZWR1bGVyLm5vdykge1xuICAgIHRoaXMubm93ID0gbm93O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgZ2V0dGVyIG1ldGhvZCB0aGF0IHJldHVybnMgYSBudW1iZXIgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IHRpbWVcbiAgICogKGF0IHRoZSB0aW1lIHRoaXMgZnVuY3Rpb24gd2FzIGNhbGxlZCkgYWNjb3JkaW5nIHRvIHRoZSBzY2hlZHVsZXIncyBvd25cbiAgICogaW50ZXJuYWwgY2xvY2suXG4gICAqIEByZXR1cm4ge251bWJlcn0gQSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSBjdXJyZW50IHRpbWUuIE1heSBvciBtYXkgbm90XG4gICAqIGhhdmUgYSByZWxhdGlvbiB0byB3YWxsLWNsb2NrIHRpbWUuIE1heSBvciBtYXkgbm90IHJlZmVyIHRvIGEgdGltZSB1bml0XG4gICAqIChlLmcuIG1pbGxpc2Vjb25kcykuXG4gICAqL1xuICBwdWJsaWMgbm93OiAoKSA9PiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFNjaGVkdWxlcyBhIGZ1bmN0aW9uLCBgd29ya2AsIGZvciBleGVjdXRpb24uIE1heSBoYXBwZW4gYXQgc29tZSBwb2ludCBpblxuICAgKiB0aGUgZnV0dXJlLCBhY2NvcmRpbmcgdG8gdGhlIGBkZWxheWAgcGFyYW1ldGVyLCBpZiBzcGVjaWZpZWQuIE1heSBiZSBwYXNzZWRcbiAgICogc29tZSBjb250ZXh0IG9iamVjdCwgYHN0YXRlYCwgd2hpY2ggd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGB3b3JrYCBmdW5jdGlvbi5cbiAgICpcbiAgICogVGhlIGdpdmVuIGFyZ3VtZW50cyB3aWxsIGJlIHByb2Nlc3NlZCBhbiBzdG9yZWQgYXMgYW4gQWN0aW9uIG9iamVjdCBpbiBhXG4gICAqIHF1ZXVlIG9mIGFjdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RhdGU6ID9UKTogP1N1YnNjcmlwdGlvbn0gd29yayBBIGZ1bmN0aW9uIHJlcHJlc2VudGluZyBhXG4gICAqIHRhc2ssIG9yIHNvbWUgdW5pdCBvZiB3b3JrIHRvIGJlIGV4ZWN1dGVkIGJ5IHRoZSBTY2hlZHVsZXIuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbZGVsYXldIFRpbWUgdG8gd2FpdCBiZWZvcmUgZXhlY3V0aW5nIHRoZSB3b3JrLCB3aGVyZSB0aGVcbiAgICogdGltZSB1bml0IGlzIGltcGxpY2l0IGFuZCBkZWZpbmVkIGJ5IHRoZSBTY2hlZHVsZXIgaXRzZWxmLlxuICAgKiBAcGFyYW0ge1R9IFtzdGF0ZV0gU29tZSBjb250ZXh0dWFsIGRhdGEgdGhhdCB0aGUgYHdvcmtgIGZ1bmN0aW9uIHVzZXMgd2hlblxuICAgKiBjYWxsZWQgYnkgdGhlIFNjaGVkdWxlci5cbiAgICogQHJldHVybiB7U3Vic2NyaXB0aW9ufSBBIHN1YnNjcmlwdGlvbiBpbiBvcmRlciB0byBiZSBhYmxlIHRvIHVuc3Vic2NyaWJlXG4gICAqIHRoZSBzY2hlZHVsZWQgd29yay5cbiAgICovXG4gIHB1YmxpYyBzY2hlZHVsZTxUPih3b3JrOiAodGhpczogU2NoZWR1bGVyQWN0aW9uPFQ+LCBzdGF0ZT86IFQpID0+IHZvaWQsIGRlbGF5OiBudW1iZXIgPSAwLCBzdGF0ZT86IFQpOiBTdWJzY3JpcHRpb24ge1xuICAgIHJldHVybiBuZXcgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yPFQ+KHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBTY2hlZHVsZXIgfSBmcm9tICcuLi9TY2hlZHVsZXInO1xuaW1wb3J0IHsgQWN0aW9uIH0gZnJvbSAnLi9BY3Rpb24nO1xuaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcbmltcG9ydCB7IFRpbWVySGFuZGxlIH0gZnJvbSAnLi90aW1lckhhbmRsZSc7XG5cbmV4cG9ydCBjbGFzcyBBc3luY1NjaGVkdWxlciBleHRlbmRzIFNjaGVkdWxlciB7XG4gIHB1YmxpYyBhY3Rpb25zOiBBcnJheTxBc3luY0FjdGlvbjxhbnk+PiA9IFtdO1xuICAvKipcbiAgICogQSBmbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgdGhlIFNjaGVkdWxlciBpcyBjdXJyZW50bHkgZXhlY3V0aW5nIGEgYmF0Y2ggb2ZcbiAgICogcXVldWVkIGFjdGlvbnMuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHB1YmxpYyBfYWN0aXZlOiBib29sZWFuID0gZmFsc2U7XG4gIC8qKlxuICAgKiBBbiBpbnRlcm5hbCBJRCB1c2VkIHRvIHRyYWNrIHRoZSBsYXRlc3QgYXN5bmNocm9ub3VzIHRhc2sgc3VjaCBhcyB0aG9zZVxuICAgKiBjb21pbmcgZnJvbSBgc2V0VGltZW91dGAsIGBzZXRJbnRlcnZhbGAsIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgLCBhbmRcbiAgICogb3RoZXJzLlxuICAgKiBAdHlwZSB7YW55fVxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHB1YmxpYyBfc2NoZWR1bGVkOiBUaW1lckhhbmRsZSB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihTY2hlZHVsZXJBY3Rpb246IHR5cGVvZiBBY3Rpb24sIG5vdzogKCkgPT4gbnVtYmVyID0gU2NoZWR1bGVyLm5vdykge1xuICAgIHN1cGVyKFNjaGVkdWxlckFjdGlvbiwgbm93KTtcbiAgfVxuXG4gIHB1YmxpYyBmbHVzaChhY3Rpb246IEFzeW5jQWN0aW9uPGFueT4pOiB2b2lkIHtcbiAgICBjb25zdCB7IGFjdGlvbnMgfSA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICBhY3Rpb25zLnB1c2goYWN0aW9uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZXJyb3I6IGFueTtcbiAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuXG4gICAgZG8ge1xuICAgICAgaWYgKChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSEpKTsgLy8gZXhoYXVzdCB0aGUgc2NoZWR1bGVyIHF1ZXVlXG5cbiAgICB0aGlzLl9hY3RpdmUgPSBmYWxzZTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgd2hpbGUgKChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkhKSkge1xuICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuXG4vKipcbiAqXG4gKiBBc3luYyBTY2hlZHVsZXJcbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+U2NoZWR1bGUgdGFzayBhcyBpZiB5b3UgdXNlZCBzZXRUaW1lb3V0KHRhc2ssIGR1cmF0aW9uKTwvc3Bhbj5cbiAqXG4gKiBgYXN5bmNgIHNjaGVkdWxlciBzY2hlZHVsZXMgdGFza3MgYXN5bmNocm9ub3VzbHksIGJ5IHB1dHRpbmcgdGhlbSBvbiB0aGUgSmF2YVNjcmlwdFxuICogZXZlbnQgbG9vcCBxdWV1ZS4gSXQgaXMgYmVzdCB1c2VkIHRvIGRlbGF5IHRhc2tzIGluIHRpbWUgb3IgdG8gc2NoZWR1bGUgdGFza3MgcmVwZWF0aW5nXG4gKiBpbiBpbnRlcnZhbHMuXG4gKlxuICogSWYgeW91IGp1c3Qgd2FudCB0byBcImRlZmVyXCIgdGFzaywgdGhhdCBpcyB0byBwZXJmb3JtIGl0IHJpZ2h0IGFmdGVyIGN1cnJlbnRseVxuICogZXhlY3V0aW5nIHN5bmNocm9ub3VzIGNvZGUgZW5kcyAoY29tbW9ubHkgYWNoaWV2ZWQgYnkgYHNldFRpbWVvdXQoZGVmZXJyZWRUYXNrLCAwKWApLFxuICogYmV0dGVyIGNob2ljZSB3aWxsIGJlIHRoZSB7QGxpbmsgYXNhcFNjaGVkdWxlcn0gc2NoZWR1bGVyLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKiBVc2UgYXN5bmMgc2NoZWR1bGVyIHRvIGRlbGF5IHRhc2tcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBhc3luY1NjaGVkdWxlciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHRhc2sgPSAoKSA9PiBjb25zb2xlLmxvZygnaXQgd29ya3MhJyk7XG4gKlxuICogYXN5bmNTY2hlZHVsZXIuc2NoZWR1bGUodGFzaywgMjAwMCk7XG4gKlxuICogLy8gQWZ0ZXIgMiBzZWNvbmRzIGxvZ3M6XG4gKiAvLyBcIml0IHdvcmtzIVwiXG4gKiBgYGBcbiAqXG4gKiBVc2UgYXN5bmMgc2NoZWR1bGVyIHRvIHJlcGVhdCB0YXNrIGluIGludGVydmFsc1xuICogYGBgdHNcbiAqIGltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogZnVuY3Rpb24gdGFzayhzdGF0ZSkge1xuICogICBjb25zb2xlLmxvZyhzdGF0ZSk7XG4gKiAgIHRoaXMuc2NoZWR1bGUoc3RhdGUgKyAxLCAxMDAwKTsgLy8gYHRoaXNgIHJlZmVyZW5jZXMgY3VycmVudGx5IGV4ZWN1dGluZyBBY3Rpb24sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpY2ggd2UgcmVzY2hlZHVsZSB3aXRoIG5ldyBzdGF0ZSBhbmQgZGVsYXlcbiAqIH1cbiAqXG4gKiBhc3luY1NjaGVkdWxlci5zY2hlZHVsZSh0YXNrLCAzMDAwLCAwKTtcbiAqXG4gKiAvLyBMb2dzOlxuICogLy8gMCBhZnRlciAzc1xuICogLy8gMSBhZnRlciA0c1xuICogLy8gMiBhZnRlciA1c1xuICogLy8gMyBhZnRlciA2c1xuICogYGBgXG4gKi9cblxuZXhwb3J0IGNvbnN0IGFzeW5jU2NoZWR1bGVyID0gbmV3IEFzeW5jU2NoZWR1bGVyKEFzeW5jQWN0aW9uKTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBSZW5hbWVkIHRvIHtAbGluayBhc3luY1NjaGVkdWxlcn0uIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGNvbnN0IGFzeW5jID0gYXN5bmNTY2hlZHVsZXI7XG4iLCAiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKiBBIHNpbXBsZSBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgbm8gaXRlbXMgdG8gdGhlIE9ic2VydmVyIGFuZCBpbW1lZGlhdGVseVxuICogZW1pdHMgYSBjb21wbGV0ZSBub3RpZmljYXRpb24uXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkp1c3QgZW1pdHMgJ2NvbXBsZXRlJywgYW5kIG5vdGhpbmcgZWxzZS48L3NwYW4+XG4gKlxuICogIVtdKGVtcHR5LnBuZylcbiAqXG4gKiBBIHNpbXBsZSBPYnNlcnZhYmxlIHRoYXQgb25seSBlbWl0cyB0aGUgY29tcGxldGUgbm90aWZpY2F0aW9uLiBJdCBjYW4gYmUgdXNlZFxuICogZm9yIGNvbXBvc2luZyB3aXRoIG90aGVyIE9ic2VydmFibGVzLCBzdWNoIGFzIGluIGEge0BsaW5rIG1lcmdlTWFwfS5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIExvZyBjb21wbGV0ZSBub3RpZmljYXRpb25cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgRU1QVFkgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBFTVBUWS5zdWJzY3JpYmUoe1xuICogICBuZXh0OiAoKSA9PiBjb25zb2xlLmxvZygnTmV4dCcpLFxuICogICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ0NvbXBsZXRlIScpXG4gKiB9KTtcbiAqXG4gKiAvLyBPdXRwdXRzXG4gKiAvLyBDb21wbGV0ZSFcbiAqIGBgYFxuICpcbiAqIEVtaXQgdGhlIG51bWJlciA3LCB0aGVuIGNvbXBsZXRlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IEVNUFRZLCBzdGFydFdpdGggfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCByZXN1bHQgPSBFTVBUWS5waXBlKHN0YXJ0V2l0aCg3KSk7XG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vIDdcbiAqIGBgYFxuICpcbiAqIE1hcCBhbmQgZmxhdHRlbiBvbmx5IG9kZCBudW1iZXJzIHRvIHRoZSBzZXF1ZW5jZSBgJ2EnYCwgYCdiJ2AsIGAnYydgXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCBtZXJnZU1hcCwgb2YsIEVNUFRZIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgaW50ZXJ2YWwkID0gaW50ZXJ2YWwoMTAwMCk7XG4gKiBjb25zdCByZXN1bHQgPSBpbnRlcnZhbCQucGlwZShcbiAqICAgbWVyZ2VNYXAoeCA9PiB4ICUgMiA9PT0gMSA/IG9mKCdhJywgJ2InLCAnYycpIDogRU1QVFkpLFxuICogKTtcbiAqIHJlc3VsdC5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nIHRvIHRoZSBjb25zb2xlOlxuICogLy8geCBpcyBlcXVhbCB0byB0aGUgY291bnQgb24gdGhlIGludGVydmFsLCBlLmcuICgwLCAxLCAyLCAzLCAuLi4pXG4gKiAvLyB4IHdpbGwgb2NjdXIgZXZlcnkgMTAwMG1zXG4gKiAvLyBpZiB4ICUgMiBpcyBlcXVhbCB0byAxLCBwcmludCBhLCBiLCBjIChlYWNoIG9uIGl0cyBvd24pXG4gKiAvLyBpZiB4ICUgMiBpcyBub3QgZXF1YWwgdG8gMSwgbm90aGluZyB3aWxsIGJlIG91dHB1dFxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgT2JzZXJ2YWJsZX1cbiAqIEBzZWUge0BsaW5rIE5FVkVSfVxuICogQHNlZSB7QGxpbmsgb2Z9XG4gKiBAc2VlIHtAbGluayB0aHJvd0Vycm9yfVxuICovXG5leHBvcnQgY29uc3QgRU1QVFkgPSBuZXcgT2JzZXJ2YWJsZTxuZXZlcj4oKHN1YnNjcmliZXIpID0+IHN1YnNjcmliZXIuY29tcGxldGUoKSk7XG5cbi8qKlxuICogQHBhcmFtIHNjaGVkdWxlciBBIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byB1c2UgZm9yIHNjaGVkdWxpbmdcbiAqIHRoZSBlbWlzc2lvbiBvZiB0aGUgY29tcGxldGUgbm90aWZpY2F0aW9uLlxuICogQGRlcHJlY2F0ZWQgUmVwbGFjZWQgd2l0aCB0aGUge0BsaW5rIEVNUFRZfSBjb25zdGFudCBvciB7QGxpbmsgc2NoZWR1bGVkfSAoZS5nLiBgc2NoZWR1bGVkKFtdLCBzY2hlZHVsZXIpYCkuIFdpbGwgYmUgcmVtb3ZlZCBpbiB2OC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KHNjaGVkdWxlcj86IFNjaGVkdWxlckxpa2UpIHtcbiAgcmV0dXJuIHNjaGVkdWxlciA/IGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikgOiBFTVBUWTtcbn1cblxuZnVuY3Rpb24gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlKSB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxuZXZlcj4oKHN1YnNjcmliZXIpID0+IHNjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiBzdWJzY3JpYmVyLmNvbXBsZXRlKCkpKTtcbn1cbiIsICJpbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZTogYW55KTogdmFsdWUgaXMgU2NoZWR1bGVyTGlrZSB7XG4gIHJldHVybiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnNjaGVkdWxlKTtcbn1cbiIsICJpbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4vaXNTY2hlZHVsZXInO1xuXG5mdW5jdGlvbiBsYXN0PFQ+KGFycjogVFtdKTogVCB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBhcnJbYXJyLmxlbmd0aCAtIDFdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcG9wUmVzdWx0U2VsZWN0b3IoYXJnczogYW55W10pOiAoKC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdW5rbm93bikgfCB1bmRlZmluZWQge1xuICByZXR1cm4gaXNGdW5jdGlvbihsYXN0KGFyZ3MpKSA/IGFyZ3MucG9wKCkgOiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3BTY2hlZHVsZXIoYXJnczogYW55W10pOiBTY2hlZHVsZXJMaWtlIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIGlzU2NoZWR1bGVyKGxhc3QoYXJncykpID8gYXJncy5wb3AoKSA6IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvcE51bWJlcihhcmdzOiBhbnlbXSwgZGVmYXVsdFZhbHVlOiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gdHlwZW9mIGxhc3QoYXJncykgPT09ICdudW1iZXInID8gYXJncy5wb3AoKSEgOiBkZWZhdWx0VmFsdWU7XG59XG4iLCAiZXhwb3J0IGNvbnN0IGlzQXJyYXlMaWtlID0gKDxUPih4OiBhbnkpOiB4IGlzIEFycmF5TGlrZTxUPiA9PiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHggIT09ICdmdW5jdGlvbicpOyIsICJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSBcIi4vaXNGdW5jdGlvblwiO1xuXG4vKipcbiAqIFRlc3RzIHRvIHNlZSBpZiB0aGUgb2JqZWN0IGlzIFwidGhlbm5hYmxlXCIuXG4gKiBAcGFyYW0gdmFsdWUgdGhlIG9iamVjdCB0byB0ZXN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2UodmFsdWU6IGFueSk6IHZhbHVlIGlzIFByb21pc2VMaWtlPGFueT4ge1xuICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZT8udGhlbik7XG59XG4iLCAiaW1wb3J0IHsgSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5cbi8qKiBJZGVudGlmaWVzIGFuIGlucHV0IGFzIGJlaW5nIE9ic2VydmFibGUgKGJ1dCBub3QgbmVjZXNzYXJ5IGFuIFJ4IE9ic2VydmFibGUpICovXG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dDogYW55KTogaW5wdXQgaXMgSW50ZXJvcE9ic2VydmFibGU8YW55PiB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKGlucHV0W1N5bWJvbF9vYnNlcnZhYmxlXSk7XG59XG4iLCAiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FzeW5jSXRlcmFibGU8VD4ob2JqOiBhbnkpOiBvYmogaXMgQXN5bmNJdGVyYWJsZTxUPiB7XG4gIHJldHVybiBTeW1ib2wuYXN5bmNJdGVyYXRvciAmJiBpc0Z1bmN0aW9uKG9iaj8uW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSk7XG59XG4iLCAiLyoqXG4gKiBDcmVhdGVzIHRoZSBUeXBlRXJyb3IgdG8gdGhyb3cgaWYgYW4gaW52YWxpZCBvYmplY3QgaXMgcGFzc2VkIHRvIGBmcm9tYCBvciBgc2NoZWR1bGVkYC5cbiAqIEBwYXJhbSBpbnB1dCBUaGUgb2JqZWN0IHRoYXQgd2FzIHBhc3NlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yKGlucHV0OiBhbnkpIHtcbiAgLy8gVE9ETzogV2Ugc2hvdWxkIGNyZWF0ZSBlcnJvciBjb2RlcyB0aGF0IGNhbiBiZSBsb29rZWQgdXAsIHNvIHRoaXMgY2FuIGJlIGxlc3MgdmVyYm9zZS5cbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXG4gICAgYFlvdSBwcm92aWRlZCAke1xuICAgICAgaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyA/ICdhbiBpbnZhbGlkIG9iamVjdCcgOiBgJyR7aW5wdXR9J2BcbiAgICB9IHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIFJlYWRhYmxlU3RyZWFtLCBBcnJheSwgQXN5bmNJdGVyYWJsZSwgb3IgSXRlcmFibGUuYFxuICApO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBnZXRTeW1ib2xJdGVyYXRvcigpOiBzeW1ib2wge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCAhU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgcmV0dXJuICdAQGl0ZXJhdG9yJyBhcyBhbnk7XG4gIH1cblxuICByZXR1cm4gU3ltYm9sLml0ZXJhdG9yO1xufVxuXG5leHBvcnQgY29uc3QgaXRlcmF0b3IgPSBnZXRTeW1ib2xJdGVyYXRvcigpO1xuIiwgImltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcblxuLyoqIElkZW50aWZpZXMgYW4gaW5wdXQgYXMgYmVpbmcgYW4gSXRlcmFibGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0l0ZXJhYmxlKGlucHV0OiBhbnkpOiBpbnB1dCBpcyBJdGVyYWJsZTxhbnk+IHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24oaW5wdXQ/LltTeW1ib2xfaXRlcmF0b3JdKTtcbn1cbiIsICJpbXBvcnQgeyBSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uKiByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yPFQ+KHJlYWRhYmxlU3RyZWFtOiBSZWFkYWJsZVN0cmVhbUxpa2U8VD4pOiBBc3luY0dlbmVyYXRvcjxUPiB7XG4gIGNvbnN0IHJlYWRlciA9IHJlYWRhYmxlU3RyZWFtLmdldFJlYWRlcigpO1xuICB0cnkge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgeWllbGQgdmFsdWUhO1xuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSZWFkYWJsZVN0cmVhbUxpa2U8VD4ob2JqOiBhbnkpOiBvYmogaXMgUmVhZGFibGVTdHJlYW1MaWtlPFQ+IHtcbiAgLy8gV2UgZG9uJ3Qgd2FudCB0byB1c2UgaW5zdGFuY2VvZiBjaGVja3MgYmVjYXVzZSB0aGV5IHdvdWxkIHJldHVyblxuICAvLyBmYWxzZSBmb3IgaW5zdGFuY2VzIGZyb20gYW5vdGhlciBSZWFsbSwgbGlrZSBhbiA8aWZyYW1lPi5cbiAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqPy5nZXRSZWFkZXIpO1xufVxuIiwgImltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9ic2VydmVkVmFsdWVPZiwgUmVhZGFibGVTdHJlYW1MaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FzeW5jSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzQXN5bmNJdGVyYWJsZSc7XG5pbXBvcnQgeyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciB9IGZyb20gJy4uL3V0aWwvdGhyb3dVbm9ic2VydmFibGVFcnJvcic7XG5pbXBvcnQgeyBpc0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0l0ZXJhYmxlJztcbmltcG9ydCB7IGlzUmVhZGFibGVTdHJlYW1MaWtlLCByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yIH0gZnJvbSAnLi4vdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IHJlcG9ydFVuaGFuZGxlZEVycm9yIH0gZnJvbSAnLi4vdXRpbC9yZXBvcnRVbmhhbmRsZWRFcnJvcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5uZXJGcm9tPE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oaW5wdXQ6IE8pOiBPYnNlcnZhYmxlPE9ic2VydmVkVmFsdWVPZjxPPj47XG5leHBvcnQgZnVuY3Rpb24gaW5uZXJGcm9tPFQ+KGlucHV0OiBPYnNlcnZhYmxlSW5wdXQ8VD4pOiBPYnNlcnZhYmxlPFQ+IHtcbiAgaWYgKGlucHV0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSkge1xuICAgIHJldHVybiBpbnB1dDtcbiAgfVxuICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgIGlmIChpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCk7XG4gICAgfVxuICAgIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBmcm9tQXJyYXlMaWtlKGlucHV0KTtcbiAgICB9XG4gICAgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBmcm9tUHJvbWlzZShpbnB1dCk7XG4gICAgfVxuICAgIGlmIChpc0FzeW5jSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICByZXR1cm4gZnJvbUFzeW5jSXRlcmFibGUoaW5wdXQpO1xuICAgIH1cbiAgICBpZiAoaXNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBmcm9tSXRlcmFibGUoaW5wdXQpO1xuICAgIH1cbiAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICByZXR1cm4gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCk7XG4gICAgfVxuICB9XG5cbiAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gUnhKUyBPYnNlcnZhYmxlIGZyb20gYW4gb2JqZWN0IHRoYXQgaW1wbGVtZW50cyBgU3ltYm9sLm9ic2VydmFibGVgLlxuICogQHBhcmFtIG9iaiBBbiBvYmplY3QgdGhhdCBwcm9wZXJseSBpbXBsZW1lbnRzIGBTeW1ib2wub2JzZXJ2YWJsZWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tSW50ZXJvcE9ic2VydmFibGU8VD4ob2JqOiBhbnkpIHtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KSA9PiB7XG4gICAgY29uc3Qgb2JzID0gb2JqW1N5bWJvbF9vYnNlcnZhYmxlXSgpO1xuICAgIGlmIChpc0Z1bmN0aW9uKG9icy5zdWJzY3JpYmUpKSB7XG4gICAgICByZXR1cm4gb2JzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgLy8gU2hvdWxkIGJlIGNhdWdodCBieSBvYnNlcnZhYmxlIHN1YnNjcmliZSBmdW5jdGlvbiBlcnJvciBoYW5kbGluZy5cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZScpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBTeW5jaHJvbm91c2x5IGVtaXRzIHRoZSB2YWx1ZXMgb2YgYW4gYXJyYXkgbGlrZSBhbmQgY29tcGxldGVzLlxuICogVGhpcyBpcyBleHBvcnRlZCBiZWNhdXNlIHRoZXJlIGFyZSBjcmVhdGlvbiBmdW5jdGlvbnMgYW5kIG9wZXJhdG9ycyB0aGF0IG5lZWQgdG9cbiAqIG1ha2UgZGlyZWN0IHVzZSBvZiB0aGUgc2FtZSBsb2dpYywgYW5kIHRoZXJlJ3Mgbm8gcmVhc29uIHRvIG1ha2UgdGhlbSBydW4gdGhyb3VnaFxuICogYGZyb21gIGNvbmRpdGlvbmFscyBiZWNhdXNlIHdlICprbm93KiB0aGV5J3JlIGRlYWxpbmcgd2l0aCBhbiBhcnJheS5cbiAqIEBwYXJhbSBhcnJheSBUaGUgYXJyYXkgdG8gZW1pdCB2YWx1ZXMgZnJvbVxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUFycmF5TGlrZTxUPihhcnJheTogQXJyYXlMaWtlPFQ+KSB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPikgPT4ge1xuICAgIC8vIExvb3Agb3ZlciB0aGUgYXJyYXkgYW5kIGVtaXQgZWFjaCB2YWx1ZS4gTm90ZSB0d28gdGhpbmdzIGhlcmU6XG4gICAgLy8gMS4gV2UncmUgbWFraW5nIHN1cmUgdGhhdCB0aGUgc3Vic2NyaWJlciBpcyBub3QgY2xvc2VkIG9uIGVhY2ggbG9vcC5cbiAgICAvLyAgICBUaGlzIGlzIHNvIHdlIGRvbid0IGNvbnRpbnVlIGxvb3Bpbmcgb3ZlciBhIHZlcnkgbGFyZ2UgYXJyYXkgYWZ0ZXJcbiAgICAvLyAgICBzb21ldGhpbmcgbGlrZSBhIGB0YWtlYCwgYHRha2VXaGlsZWAsIG9yIG90aGVyIHN5bmNocm9ub3VzIHVuc3Vic2NyaXB0aW9uXG4gICAgLy8gICAgaGFzIGFscmVhZHkgdW5zdWJzY3JpYmVkLlxuICAgIC8vIDIuIEluIHRoaXMgZm9ybSwgcmVlbnRyYW50IGNvZGUgY2FuIGFsdGVyIHRoYXQgYXJyYXkgd2UncmUgbG9vcGluZyBvdmVyLlxuICAgIC8vICAgIFRoaXMgaXMgYSBrbm93biBpc3N1ZSwgYnV0IGNvbnNpZGVyZWQgYW4gZWRnZSBjYXNlLiBUaGUgYWx0ZXJuYXRpdmUgd291bGRcbiAgICAvLyAgICBiZSB0byBjb3B5IHRoZSBhcnJheSBiZWZvcmUgZXhlY3V0aW5nIHRoZSBsb29wLCBidXQgdGhpcyBoYXNcbiAgICAvLyAgICBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGggJiYgIXN1YnNjcmliZXIuY2xvc2VkOyBpKyspIHtcbiAgICAgIHN1YnNjcmliZXIubmV4dChhcnJheVtpXSk7XG4gICAgfVxuICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUHJvbWlzZTxUPihwcm9taXNlOiBQcm9taXNlTGlrZTxUPikge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGUoKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pID0+IHtcbiAgICBwcm9taXNlXG4gICAgICAudGhlbihcbiAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIChlcnI6IGFueSkgPT4gc3Vic2NyaWJlci5lcnJvcihlcnIpXG4gICAgICApXG4gICAgICAudGhlbihudWxsLCByZXBvcnRVbmhhbmRsZWRFcnJvcik7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnJvbUl0ZXJhYmxlPFQ+KGl0ZXJhYmxlOiBJdGVyYWJsZTxUPikge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGUoKHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pID0+IHtcbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGl0ZXJhYmxlKSB7XG4gICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21Bc3luY0l0ZXJhYmxlPFQ+KGFzeW5jSXRlcmFibGU6IEFzeW5jSXRlcmFibGU8VD4pIHtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyPFQ+KSA9PiB7XG4gICAgcHJvY2Vzcyhhc3luY0l0ZXJhYmxlLCBzdWJzY3JpYmVyKS5jYXRjaCgoZXJyKSA9PiBzdWJzY3JpYmVyLmVycm9yKGVycikpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21SZWFkYWJsZVN0cmVhbUxpa2U8VD4ocmVhZGFibGVTdHJlYW06IFJlYWRhYmxlU3RyZWFtTGlrZTxUPikge1xuICByZXR1cm4gZnJvbUFzeW5jSXRlcmFibGUocmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihyZWFkYWJsZVN0cmVhbSkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzPFQ+KGFzeW5jSXRlcmFibGU6IEFzeW5jSXRlcmFibGU8VD4sIHN1YnNjcmliZXI6IFN1YnNjcmliZXI8VD4pIHtcbiAgZm9yIGF3YWl0IChjb25zdCB2YWx1ZSBvZiBhc3luY0l0ZXJhYmxlKSB7XG4gICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAvLyBBIHNpZGUtZWZmZWN0IG1heSBoYXZlIGNsb3NlZCBvdXIgc3Vic2NyaWJlcixcbiAgICAvLyBjaGVjayBiZWZvcmUgdGhlIG5leHQgaXRlcmF0aW9uLlxuICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG59XG4iLCAiaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IFNjaGVkdWxlckFjdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVTY2hlZHVsZShcbiAgcGFyZW50U3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24sXG4gIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSxcbiAgd29yazogKCkgPT4gdm9pZCxcbiAgZGVsYXk6IG51bWJlcixcbiAgcmVwZWF0OiB0cnVlXG4pOiB2b2lkO1xuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVTY2hlZHVsZShcbiAgcGFyZW50U3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24sXG4gIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSxcbiAgd29yazogKCkgPT4gdm9pZCxcbiAgZGVsYXk/OiBudW1iZXIsXG4gIHJlcGVhdD86IGZhbHNlXG4pOiBTdWJzY3JpcHRpb247XG5cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlU2NoZWR1bGUoXG4gIHBhcmVudFN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uLFxuICBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UsXG4gIHdvcms6ICgpID0+IHZvaWQsXG4gIGRlbGF5ID0gMCxcbiAgcmVwZWF0ID0gZmFsc2Vcbik6IFN1YnNjcmlwdGlvbiB8IHZvaWQge1xuICBjb25zdCBzY2hlZHVsZVN1YnNjcmlwdGlvbiA9IHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAodGhpczogU2NoZWR1bGVyQWN0aW9uPGFueT4pIHtcbiAgICB3b3JrKCk7XG4gICAgaWYgKHJlcGVhdCkge1xuICAgICAgcGFyZW50U3Vic2NyaXB0aW9uLmFkZCh0aGlzLnNjaGVkdWxlKG51bGwsIGRlbGF5KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gIH0sIGRlbGF5KTtcblxuICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHNjaGVkdWxlU3Vic2NyaXB0aW9uKTtcblxuICBpZiAoIXJlcGVhdCkge1xuICAgIC8vIEJlY2F1c2UgdXNlci1sYW5kIHNjaGVkdWxlciBpbXBsZW1lbnRhdGlvbnMgYXJlIHVubGlrZWx5IHRvIHByb3Blcmx5IHJldXNlXG4gICAgLy8gQWN0aW9ucyBmb3IgcmVwZWF0IHNjaGVkdWxpbmcsIHdlIGNhbid0IHRydXN0IHRoYXQgdGhlIHJldHVybmVkIHN1YnNjcmlwdGlvblxuICAgIC8vIHdpbGwgY29udHJvbCByZXBlYXQgc3Vic2NyaXB0aW9uIHNjZW5hcmlvcy4gU28gd2UncmUgdHJ5aW5nIHRvIGF2b2lkIHVzaW5nIHRoZW1cbiAgICAvLyBpbmNvcnJlY3RseSB3aXRoaW4gdGhpcyBsaWJyYXJ5LlxuICAgIHJldHVybiBzY2hlZHVsZVN1YnNjcmlwdGlvbjtcbiAgfVxufVxuIiwgIi8qKiBAcHJldHRpZXIgKi9cbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIFJlLWVtaXRzIGFsbCBub3RpZmljYXRpb25zIGZyb20gc291cmNlIE9ic2VydmFibGUgd2l0aCBzcGVjaWZpZWQgc2NoZWR1bGVyLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5FbnN1cmUgYSBzcGVjaWZpYyBzY2hlZHVsZXIgaXMgdXNlZCwgZnJvbSBvdXRzaWRlIG9mIGFuIE9ic2VydmFibGUuPC9zcGFuPlxuICpcbiAqIGBvYnNlcnZlT25gIGlzIGFuIG9wZXJhdG9yIHRoYXQgYWNjZXB0cyBhIHNjaGVkdWxlciBhcyBhIGZpcnN0IHBhcmFtZXRlciwgd2hpY2ggd2lsbCBiZSB1c2VkIHRvIHJlc2NoZWR1bGVcbiAqIG5vdGlmaWNhdGlvbnMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuIEl0IG1pZ2h0IGJlIHVzZWZ1bCwgaWYgeW91IGRvIG5vdCBoYXZlIGNvbnRyb2wgb3ZlclxuICogaW50ZXJuYWwgc2NoZWR1bGVyIG9mIGEgZ2l2ZW4gT2JzZXJ2YWJsZSwgYnV0IHdhbnQgdG8gY29udHJvbCB3aGVuIGl0cyB2YWx1ZXMgYXJlIGVtaXR0ZWQgbmV2ZXJ0aGVsZXNzLlxuICpcbiAqIFJldHVybmVkIE9ic2VydmFibGUgZW1pdHMgdGhlIHNhbWUgbm90aWZpY2F0aW9ucyAobmV4dGVkIHZhbHVlcywgY29tcGxldGUgYW5kIGVycm9yIGV2ZW50cykgYXMgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLFxuICogYnV0IHJlc2NoZWR1bGVkIHdpdGggcHJvdmlkZWQgc2NoZWR1bGVyLiBOb3RlIHRoYXQgdGhpcyBkb2Vzbid0IG1lYW4gdGhhdCBzb3VyY2UgT2JzZXJ2YWJsZXMgaW50ZXJuYWxcbiAqIHNjaGVkdWxlciB3aWxsIGJlIHJlcGxhY2VkIGluIGFueSB3YXkuIE9yaWdpbmFsIHNjaGVkdWxlciBzdGlsbCB3aWxsIGJlIHVzZWQsIGJ1dCB3aGVuIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBlbWl0c1xuICogbm90aWZpY2F0aW9uLCBpdCB3aWxsIGJlIGltbWVkaWF0ZWx5IHNjaGVkdWxlZCBhZ2FpbiAtIHRoaXMgdGltZSB3aXRoIHNjaGVkdWxlciBwYXNzZWQgdG8gYG9ic2VydmVPbmAuXG4gKiBBbiBhbnRpLXBhdHRlcm4gd291bGQgYmUgY2FsbGluZyBgb2JzZXJ2ZU9uYCBvbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgbG90cyBvZiB2YWx1ZXMgc3luY2hyb25vdXNseSwgdG8gc3BsaXRcbiAqIHRoYXQgZW1pc3Npb25zIGludG8gYXN5bmNocm9ub3VzIGNodW5rcy4gRm9yIHRoaXMgdG8gaGFwcGVuLCBzY2hlZHVsZXIgd291bGQgaGF2ZSB0byBiZSBwYXNzZWQgaW50byB0aGUgc291cmNlXG4gKiBPYnNlcnZhYmxlIGRpcmVjdGx5ICh1c3VhbGx5IGludG8gdGhlIG9wZXJhdG9yIHRoYXQgY3JlYXRlcyBpdCkuIGBvYnNlcnZlT25gIHNpbXBseSBkZWxheXMgbm90aWZpY2F0aW9ucyBhXG4gKiBsaXR0bGUgYml0IG1vcmUsIHRvIGVuc3VyZSB0aGF0IHRoZXkgYXJlIGVtaXR0ZWQgYXQgZXhwZWN0ZWQgbW9tZW50cy5cbiAqXG4gKiBBcyBhIG1hdHRlciBvZiBmYWN0LCBgb2JzZXJ2ZU9uYCBhY2NlcHRzIHNlY29uZCBwYXJhbWV0ZXIsIHdoaWNoIHNwZWNpZmllcyBpbiBtaWxsaXNlY29uZHMgd2l0aCB3aGF0IGRlbGF5IG5vdGlmaWNhdGlvbnNcbiAqIHdpbGwgYmUgZW1pdHRlZC4gVGhlIG1haW4gZGlmZmVyZW5jZSBiZXR3ZWVuIHtAbGluayBkZWxheX0gb3BlcmF0b3IgYW5kIGBvYnNlcnZlT25gIGlzIHRoYXQgYG9ic2VydmVPbmBcbiAqIHdpbGwgZGVsYXkgYWxsIG5vdGlmaWNhdGlvbnMgLSBpbmNsdWRpbmcgZXJyb3Igbm90aWZpY2F0aW9ucyAtIHdoaWxlIGBkZWxheWAgd2lsbCBwYXNzIHRocm91Z2ggZXJyb3JcbiAqIGZyb20gc291cmNlIE9ic2VydmFibGUgaW1tZWRpYXRlbHkgd2hlbiBpdCBpcyBlbWl0dGVkLiBJbiBnZW5lcmFsIGl0IGlzIGhpZ2hseSByZWNvbW1lbmRlZCB0byB1c2UgYGRlbGF5YCBvcGVyYXRvclxuICogZm9yIGFueSBraW5kIG9mIGRlbGF5aW5nIG9mIHZhbHVlcyBpbiB0aGUgc3RyZWFtLCB3aGlsZSB1c2luZyBgb2JzZXJ2ZU9uYCB0byBzcGVjaWZ5IHdoaWNoIHNjaGVkdWxlciBzaG91bGQgYmUgdXNlZFxuICogZm9yIG5vdGlmaWNhdGlvbiBlbWlzc2lvbnMgaW4gZ2VuZXJhbC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRW5zdXJlIHZhbHVlcyBpbiBzdWJzY3JpYmUgYXJlIGNhbGxlZCBqdXN0IGJlZm9yZSBicm93c2VyIHJlcGFpbnRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIG9ic2VydmVPbiwgYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb21lRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gKiBzb21lRGl2LnN0eWxlLmNzc1RleHQgPSAnd2lkdGg6IDIwMHB4O2JhY2tncm91bmQ6ICMwOWMnO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzb21lRGl2KTtcbiAqIGNvbnN0IGludGVydmFscyA9IGludGVydmFsKDEwKTsgICAgICAvLyBJbnRlcnZhbHMgYXJlIHNjaGVkdWxlZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpdGggYXN5bmMgc2NoZWR1bGVyIGJ5IGRlZmF1bHQuLi5cbiAqIGludGVydmFscy5waXBlKFxuICogICBvYnNlcnZlT24oYW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIpIC8vIC4uLmJ1dCB3ZSB3aWxsIG9ic2VydmUgb24gYW5pbWF0aW9uRnJhbWVcbiAqICkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzY2hlZHVsZXIgdG8gZW5zdXJlIHNtb290aCBhbmltYXRpb24uXG4gKiAuc3Vic2NyaWJlKHZhbCA9PiB7XG4gKiAgIHNvbWVEaXYuc3R5bGUuaGVpZ2h0ID0gdmFsICsgJ3B4JztcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgZGVsYXl9XG4gKlxuICogQHBhcmFtIHNjaGVkdWxlciBTY2hlZHVsZXIgdGhhdCB3aWxsIGJlIHVzZWQgdG8gcmVzY2hlZHVsZSBub3RpZmljYXRpb25zIGZyb20gc291cmNlIE9ic2VydmFibGUuXG4gKiBAcGFyYW0gZGVsYXkgTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IHN0YXRlcyB3aXRoIHdoYXQgZGVsYXkgZXZlcnkgbm90aWZpY2F0aW9uIHNob3VsZCBiZSByZXNjaGVkdWxlZC5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBzYW1lXG4gKiBub3RpZmljYXRpb25zIGFzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgYnV0IHdpdGggcHJvdmlkZWQgc2NoZWR1bGVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gb2JzZXJ2ZU9uPFQ+KHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSwgZGVsYXkgPSAwKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICh2YWx1ZSkgPT4gZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgKCkgPT4gc3Vic2NyaWJlci5uZXh0KHZhbHVlKSwgZGVsYXkpLFxuICAgICAgICAoKSA9PiBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCAoKSA9PiBzdWJzY3JpYmVyLmNvbXBsZXRlKCksIGRlbGF5KSxcbiAgICAgICAgKGVycikgPT4gZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgKCkgPT4gc3Vic2NyaWJlci5lcnJvcihlcnIpLCBkZWxheSlcbiAgICAgIClcbiAgICApO1xuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb24sIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcblxuLyoqXG4gKiBBc3luY2hyb25vdXNseSBzdWJzY3JpYmVzIE9ic2VydmVycyB0byB0aGlzIE9ic2VydmFibGUgb24gdGhlIHNwZWNpZmllZCB7QGxpbmsgU2NoZWR1bGVyTGlrZX0uXG4gKlxuICogV2l0aCBgc3Vic2NyaWJlT25gIHlvdSBjYW4gZGVjaWRlIHdoYXQgdHlwZSBvZiBzY2hlZHVsZXIgYSBzcGVjaWZpYyBPYnNlcnZhYmxlIHdpbGwgYmUgdXNpbmcgd2hlbiBpdCBpcyBzdWJzY3JpYmVkIHRvLlxuICpcbiAqIFNjaGVkdWxlcnMgY29udHJvbCB0aGUgc3BlZWQgYW5kIG9yZGVyIG9mIGVtaXNzaW9ucyB0byBvYnNlcnZlcnMgZnJvbSBhbiBPYnNlcnZhYmxlIHN0cmVhbS5cbiAqXG4gKiAhW10oc3Vic2NyaWJlT24ucG5nKVxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBHaXZlbiB0aGUgZm9sbG93aW5nIGNvZGU6XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBtZXJnZSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGEgPSBvZigxLCAyLCAzKTtcbiAqIGNvbnN0IGIgPSBvZig0LCA1LCA2KTtcbiAqXG4gKiBtZXJnZShhLCBiKS5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDNcbiAqIC8vIDRcbiAqIC8vIDVcbiAqIC8vIDZcbiAqIGBgYFxuICpcbiAqIEJvdGggT2JzZXJ2YWJsZSBgYWAgYW5kIGBiYCB3aWxsIGVtaXQgdGhlaXIgdmFsdWVzIGRpcmVjdGx5IGFuZCBzeW5jaHJvbm91c2x5IG9uY2UgdGhleSBhcmUgc3Vic2NyaWJlZCB0by5cbiAqXG4gKiBJZiB3ZSBpbnN0ZWFkIHVzZSB0aGUgYHN1YnNjcmliZU9uYCBvcGVyYXRvciBkZWNsYXJpbmcgdGhhdCB3ZSB3YW50IHRvIHVzZSB0aGUge0BsaW5rIGFzeW5jU2NoZWR1bGVyfSBmb3IgdmFsdWVzIGVtaXR0ZWQgYnkgT2JzZXJ2YWJsZSBgYWA6XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCBzdWJzY3JpYmVPbiwgYXN5bmNTY2hlZHVsZXIsIG1lcmdlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgYSA9IG9mKDEsIDIsIDMpLnBpcGUoc3Vic2NyaWJlT24oYXN5bmNTY2hlZHVsZXIpKTtcbiAqIGNvbnN0IGIgPSBvZig0LCA1LCA2KTtcbiAqXG4gKiBtZXJnZShhLCBiKS5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICpcbiAqIC8vIE91dHB1dHNcbiAqIC8vIDRcbiAqIC8vIDVcbiAqIC8vIDZcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDNcbiAqIGBgYFxuICpcbiAqIFRoZSByZWFzb24gZm9yIHRoaXMgaXMgdGhhdCBPYnNlcnZhYmxlIGBiYCBlbWl0cyBpdHMgdmFsdWVzIGRpcmVjdGx5IGFuZCBzeW5jaHJvbm91c2x5IGxpa2UgYmVmb3JlXG4gKiBidXQgdGhlIGVtaXNzaW9ucyBmcm9tIGBhYCBhcmUgc2NoZWR1bGVkIG9uIHRoZSBldmVudCBsb29wIGJlY2F1c2Ugd2UgYXJlIG5vdyB1c2luZyB0aGUge0BsaW5rIGFzeW5jU2NoZWR1bGVyfSBmb3IgdGhhdCBzcGVjaWZpYyBPYnNlcnZhYmxlLlxuICpcbiAqIEBwYXJhbSBzY2hlZHVsZXIgVGhlIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byBwZXJmb3JtIHN1YnNjcmlwdGlvbiBhY3Rpb25zIG9uLlxuICogQHBhcmFtIGRlbGF5IEEgZGVsYXkgdG8gcGFzcyB0byB0aGUgc2NoZWR1bGVyIHRvIGRlbGF5IHN1YnNjcmlwdGlvbnNcbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSBtb2RpZmllZCBzbyB0aGF0IGl0c1xuICogc3Vic2NyaXB0aW9ucyBoYXBwZW4gb24gdGhlIHNwZWNpZmllZCB7QGxpbmsgU2NoZWR1bGVyTGlrZX0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmVPbjxUPihzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UsIGRlbGF5OiBudW1iZXIgPSAwKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpLCBkZWxheSkpO1xuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvYnNlcnZlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvb2JzZXJ2ZU9uJztcbmltcG9ydCB7IHN1YnNjcmliZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uJztcbmltcG9ydCB7IEludGVyb3BPYnNlcnZhYmxlLCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVPYnNlcnZhYmxlPFQ+KGlucHV0OiBJbnRlcm9wT2JzZXJ2YWJsZTxUPiwgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlKSB7XG4gIHJldHVybiBpbm5lckZyb20oaW5wdXQpLnBpcGUoc3Vic2NyaWJlT24oc2NoZWR1bGVyKSwgb2JzZXJ2ZU9uKHNjaGVkdWxlcikpO1xufVxuIiwgImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9ic2VydmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuaW1wb3J0IHsgc3Vic2NyaWJlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvc3Vic2NyaWJlT24nO1xuaW1wb3J0IHsgU2NoZWR1bGVyTGlrZSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlUHJvbWlzZTxUPihpbnB1dDogUHJvbWlzZUxpa2U8VD4sIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSkge1xuICByZXR1cm4gaW5uZXJGcm9tKGlucHV0KS5waXBlKHN1YnNjcmliZU9uKHNjaGVkdWxlciksIG9ic2VydmVPbihzY2hlZHVsZXIpKTtcbn1cbiIsICJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBcnJheTxUPihpbnB1dDogQXJyYXlMaWtlPFQ+LCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UpIHtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPFQ+KChzdWJzY3JpYmVyKSA9PiB7XG4gICAgLy8gVGhlIGN1cnJlbnQgYXJyYXkgaW5kZXguXG4gICAgbGV0IGkgPSAwO1xuICAgIC8vIFN0YXJ0IGl0ZXJhdGluZyBvdmVyIHRoZSBhcnJheSBsaWtlIG9uIGEgc2NoZWR1bGUuXG4gICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaSA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIC8vIElmIHdlIGhhdmUgaGl0IHRoZSBlbmQgb2YgdGhlIGFycmF5IGxpa2UgaW4gdGhlXG4gICAgICAgIC8vIHByZXZpb3VzIGpvYiwgd2UgY2FuIGNvbXBsZXRlLlxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UgbGV0J3MgbmV4dCB0aGUgdmFsdWUgYXQgdGhlIGN1cnJlbnQgaW5kZXgsXG4gICAgICAgIC8vIHRoZW4gaW5jcmVtZW50IG91ciBpbmRleC5cbiAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlucHV0W2krK10pO1xuICAgICAgICAvLyBJZiB0aGUgbGFzdCBlbWlzc2lvbiBkaWRuJ3QgY2F1c2UgdXMgdG8gY2xvc2UgdGhlIHN1YnNjcmliZXJcbiAgICAgICAgLy8gKHZpYSB0YWtlIG9yIHNvbWUgc2lkZSBlZmZlY3QpLCByZXNjaGVkdWxlIHRoZSBqb2IgYW5kIHdlJ2xsXG4gICAgICAgIC8vIG1ha2UgYW5vdGhlciBwYXNzLlxuICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuIiwgImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5cbi8qKlxuICogVXNlZCBpbiB7QGxpbmsgc2NoZWR1bGVkfSB0byBjcmVhdGUgYW4gb2JzZXJ2YWJsZSBmcm9tIGFuIEl0ZXJhYmxlLlxuICogQHBhcmFtIGlucHV0IFRoZSBpdGVyYWJsZSB0byBjcmVhdGUgYW4gb2JzZXJ2YWJsZSBmcm9tXG4gKiBAcGFyYW0gc2NoZWR1bGVyIFRoZSBzY2hlZHVsZXIgdG8gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUl0ZXJhYmxlPFQ+KGlucHV0OiBJdGVyYWJsZTxUPiwgc2NoZWR1bGVyOiBTY2hlZHVsZXJMaWtlKSB7XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxUPigoc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBpdGVyYXRvcjogSXRlcmF0b3I8VCwgVD47XG5cbiAgICAvLyBTY2hlZHVsZSB0aGUgaW5pdGlhbCBjcmVhdGlvbiBvZiB0aGUgaXRlcmF0b3IgZnJvbVxuICAgIC8vIHRoZSBpdGVyYWJsZS4gVGhpcyBpcyBzbyB0aGUgY29kZSBpbiB0aGUgaXRlcmFibGUgaXNcbiAgICAvLyBub3QgY2FsbGVkIHVudGlsIHRoZSBzY2hlZHVsZWQgam9iIGZpcmVzLlxuICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSB0aGUgaXRlcmF0b3IuXG4gICAgICBpdGVyYXRvciA9IChpbnB1dCBhcyBhbnkpW1N5bWJvbF9pdGVyYXRvcl0oKTtcblxuICAgICAgZXhlY3V0ZVNjaGVkdWxlKFxuICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICBzY2hlZHVsZXIsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBsZXQgdmFsdWU6IFQ7XG4gICAgICAgICAgbGV0IGRvbmU6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFB1bGwgdGhlIHZhbHVlIG91dCBvZiB0aGUgaXRlcmF0b3JcbiAgICAgICAgICAgICh7IHZhbHVlLCBkb25lIH0gPSBpdGVyYXRvci5uZXh0KCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgLy8gV2UgZ290IGFuIGVycm9yIHdoaWxlIHB1bGxpbmcgZnJvbSB0aGUgaXRlcmF0b3JcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgLy8gSWYgaXQgaXMgXCJkb25lXCIgd2UganVzdCBjb21wbGV0ZS4gVGhpcyBtaW1pY3MgdGhlXG4gICAgICAgICAgICAvLyBiZWhhdmlvciBvZiBKYXZhU2NyaXB0J3MgYGZvci4ub2ZgIGNvbnN1bXB0aW9uIG9mXG4gICAgICAgICAgICAvLyBpdGVyYWJsZXMsIHdoaWNoIHdpbGwgbm90IGVtaXQgdGhlIHZhbHVlIGZyb20gYW4gaXRlcmF0b3JcbiAgICAgICAgICAgIC8vIHJlc3VsdCBvZiBgeyBkb25lOiB0cnVlOiB2YWx1ZTogJ2hlcmUnIH1gLlxuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGUgaXRlcmFibGUgaXMgbm90IGRvbmUsIGVtaXQgdGhlIHZhbHVlLlxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIDAsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICAvLyBEdXJpbmcgZmluYWxpemF0aW9uLCBpZiB3ZSBzZWUgdGhpcyBpdGVyYXRvciBoYXMgYSBgcmV0dXJuYCBtZXRob2QsXG4gICAgLy8gdGhlbiB3ZSBrbm93IGl0IGlzIGEgR2VuZXJhdG9yLCBhbmQgbm90IGp1c3QgYW4gSXRlcmF0b3IuIFNvIHdlIGNhbGxcbiAgICAvLyB0aGUgYHJldHVybigpYCBmdW5jdGlvbi4gVGhpcyB3aWxsIGVuc3VyZSB0aGF0IGFueSBgZmluYWxseSB7IH1gIGJsb2Nrc1xuICAgIC8vIGluc2lkZSBvZiB0aGUgZ2VuZXJhdG9yIHdlIGNhbiBoaXQgd2lsbCBiZSBoaXQgcHJvcGVybHkuXG4gICAgcmV0dXJuICgpID0+IGlzRnVuY3Rpb24oaXRlcmF0b3I/LnJldHVybikgJiYgaXRlcmF0b3IucmV0dXJuKCk7XG4gIH0pO1xufVxuIiwgImltcG9ydCB7IFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUFzeW5jSXRlcmFibGU8VD4oaW5wdXQ6IEFzeW5jSXRlcmFibGU8VD4sIHNjaGVkdWxlcjogU2NoZWR1bGVyTGlrZSkge1xuICBpZiAoIWlucHV0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJdGVyYWJsZSBjYW5ub3QgYmUgbnVsbCcpO1xuICB9XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxUPigoc3Vic2NyaWJlcikgPT4ge1xuICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsICgpID0+IHtcbiAgICAgIGNvbnN0IGl0ZXJhdG9yID0gaW5wdXRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICBleGVjdXRlU2NoZWR1bGUoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgIHNjaGVkdWxlcixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGl0ZXJhdG9yLm5leHQoKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgcmVtb3ZlIHRoZSBzdWJzY3JpcHRpb25zIGZyb21cbiAgICAgICAgICAgICAgLy8gdGhlIHBhcmVudCBzdWJzY3JpcHRpb24uXG4gICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICAwLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH0pO1xuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBTY2hlZHVsZXJMaWtlLCBSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFzeW5jSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlQXN5bmNJdGVyYWJsZSc7XG5pbXBvcnQgeyByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yIH0gZnJvbSAnLi4vdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZTxUPihpbnB1dDogUmVhZGFibGVTdHJlYW1MaWtlPFQ+LCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKGlucHV0KSwgc2NoZWR1bGVyKTtcbn1cbiIsICJpbXBvcnQgeyBzY2hlZHVsZU9ic2VydmFibGUgfSBmcm9tICcuL3NjaGVkdWxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZVByb21pc2UgfSBmcm9tICcuL3NjaGVkdWxlUHJvbWlzZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi9zY2hlZHVsZUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlSXRlcmFibGUnO1xuaW1wb3J0IHsgc2NoZWR1bGVBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUFzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FzeW5jSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzQXN5bmNJdGVyYWJsZSc7XG5pbXBvcnQgeyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciB9IGZyb20gJy4uL3V0aWwvdGhyb3dVbm9ic2VydmFibGVFcnJvcic7XG5pbXBvcnQgeyBpc1JlYWRhYmxlU3RyZWFtTGlrZSB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xuaW1wb3J0IHsgc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuL3NjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlJztcblxuLyoqXG4gKiBDb252ZXJ0cyBmcm9tIGEgY29tbW9uIHtAbGluayBPYnNlcnZhYmxlSW5wdXR9IHR5cGUgdG8gYW4gb2JzZXJ2YWJsZSB3aGVyZSBzdWJzY3JpcHRpb24gYW5kIGVtaXNzaW9uc1xuICogYXJlIHNjaGVkdWxlZCBvbiB0aGUgcHJvdmlkZWQgc2NoZWR1bGVyLlxuICpcbiAqIEBzZWUge0BsaW5rIGZyb219XG4gKiBAc2VlIHtAbGluayBvZn1cbiAqXG4gKiBAcGFyYW0gaW5wdXQgVGhlIG9ic2VydmFibGUsIGFycmF5LCBwcm9taXNlLCBpdGVyYWJsZSwgZXRjIHlvdSB3b3VsZCBsaWtlIHRvIHNjaGVkdWxlXG4gKiBAcGFyYW0gc2NoZWR1bGVyIFRoZSBzY2hlZHVsZXIgdG8gdXNlIHRvIHNjaGVkdWxlIHRoZSBzdWJzY3JpcHRpb24gYW5kIGVtaXNzaW9ucyBmcm9tXG4gKiB0aGUgcmV0dXJuZWQgb2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlZDxUPihpbnB1dDogT2JzZXJ2YWJsZUlucHV0PFQ+LCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpO1xuICAgIH1cbiAgICBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG4gICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBzY2hlZHVsZUFzeW5jSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIGlmIChpc0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgcmV0dXJuIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIGlmIChpc1JlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCkpIHtcbiAgICAgIHJldHVybiBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG4gIH1cbiAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuIiwgImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgU2NoZWR1bGVyTGlrZSwgT2JzZXJ2ZWRWYWx1ZU9mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgc2NoZWR1bGVkIH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlZCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuL2lubmVyRnJvbSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tPE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oaW5wdXQ6IE8pOiBPYnNlcnZhYmxlPE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGBzY2hlZHVsZXJgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBgc2NoZWR1bGVkYC4gRGV0YWlsczogaHR0cHM6Ly9yeGpzLmRldi9kZXByZWNhdGlvbnMvc2NoZWR1bGVyLWFyZ3VtZW50ICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbTxPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KGlucHV0OiBPLCBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UgfCB1bmRlZmluZWQpOiBPYnNlcnZhYmxlPE9ic2VydmVkVmFsdWVPZjxPPj47XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBPYnNlcnZhYmxlIGZyb20gYW4gQXJyYXksIGFuIGFycmF5LWxpa2Ugb2JqZWN0LCBhIFByb21pc2UsIGFuIGl0ZXJhYmxlIG9iamVjdCwgb3IgYW4gT2JzZXJ2YWJsZS1saWtlIG9iamVjdC5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+Q29udmVydHMgYWxtb3N0IGFueXRoaW5nIHRvIGFuIE9ic2VydmFibGUuPC9zcGFuPlxuICpcbiAqICFbXShmcm9tLnBuZylcbiAqXG4gKiBgZnJvbWAgY29udmVydHMgdmFyaW91cyBvdGhlciBvYmplY3RzIGFuZCBkYXRhIHR5cGVzIGludG8gT2JzZXJ2YWJsZXMuIEl0IGFsc28gY29udmVydHMgYSBQcm9taXNlLCBhbiBhcnJheS1saWtlLCBvciBhblxuICogPGEgaHJlZj1cImh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0l0ZXJhdGlvbl9wcm90b2NvbHMjaXRlcmFibGVcIiB0YXJnZXQ9XCJfYmxhbmtcIj5pdGVyYWJsZTwvYT5cbiAqIG9iamVjdCBpbnRvIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgaXRlbXMgaW4gdGhhdCBwcm9taXNlLCBhcnJheSwgb3IgaXRlcmFibGUuIEEgU3RyaW5nLCBpbiB0aGlzIGNvbnRleHQsIGlzIHRyZWF0ZWRcbiAqIGFzIGFuIGFycmF5IG9mIGNoYXJhY3RlcnMuIE9ic2VydmFibGUtbGlrZSBvYmplY3RzIChjb250YWlucyBhIGZ1bmN0aW9uIG5hbWVkIHdpdGggdGhlIEVTMjAxNSBTeW1ib2wgZm9yIE9ic2VydmFibGUpIGNhbiBhbHNvIGJlXG4gKiBjb252ZXJ0ZWQgdGhyb3VnaCB0aGlzIG9wZXJhdG9yLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogQ29udmVydHMgYW4gYXJyYXkgdG8gYW4gT2JzZXJ2YWJsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBmcm9tIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgYXJyYXkgPSBbMTAsIDIwLCAzMF07XG4gKiBjb25zdCByZXN1bHQgPSBmcm9tKGFycmF5KTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAxMFxuICogLy8gMjBcbiAqIC8vIDMwXG4gKiBgYGBcbiAqXG4gKiBDb252ZXJ0IGFuIGluZmluaXRlIGl0ZXJhYmxlIChmcm9tIGEgZ2VuZXJhdG9yKSB0byBhbiBPYnNlcnZhYmxlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb20sIHRha2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBmdW5jdGlvbiogZ2VuZXJhdGVEb3VibGVzKHNlZWQpIHtcbiAqICAgIGxldCBpID0gc2VlZDtcbiAqICAgIHdoaWxlICh0cnVlKSB7XG4gKiAgICAgIHlpZWxkIGk7XG4gKiAgICAgIGkgPSAyICogaTsgLy8gZG91YmxlIGl0XG4gKiAgICB9XG4gKiB9XG4gKlxuICogY29uc3QgaXRlcmF0b3IgPSBnZW5lcmF0ZURvdWJsZXMoMyk7XG4gKiBjb25zdCByZXN1bHQgPSBmcm9tKGl0ZXJhdG9yKS5waXBlKHRha2UoMTApKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyAzXG4gKiAvLyA2XG4gKiAvLyAxMlxuICogLy8gMjRcbiAqIC8vIDQ4XG4gKiAvLyA5NlxuICogLy8gMTkyXG4gKiAvLyAzODRcbiAqIC8vIDc2OFxuICogLy8gMTUzNlxuICogYGBgXG4gKlxuICogV2l0aCBgYXN5bmNTY2hlZHVsZXJgXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb20sIGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc29sZS5sb2coJ3N0YXJ0Jyk7XG4gKlxuICogY29uc3QgYXJyYXkgPSBbMTAsIDIwLCAzMF07XG4gKiBjb25zdCByZXN1bHQgPSBmcm9tKGFycmF5LCBhc3luY1NjaGVkdWxlcik7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiBjb25zb2xlLmxvZygnZW5kJyk7XG4gKlxuICogLy8gTG9nczpcbiAqIC8vICdzdGFydCdcbiAqIC8vICdlbmQnXG4gKiAvLyAxMFxuICogLy8gMjBcbiAqIC8vIDMwXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBmcm9tRXZlbnR9XG4gKiBAc2VlIHtAbGluayBmcm9tRXZlbnRQYXR0ZXJufVxuICpcbiAqIEBwYXJhbSB7T2JzZXJ2YWJsZUlucHV0PFQ+fSBBIHN1YnNjcmlwdGlvbiBvYmplY3QsIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZS1saWtlLFxuICogYW4gQXJyYXksIGFuIGl0ZXJhYmxlLCBvciBhbiBhcnJheS1saWtlIG9iamVjdCB0byBiZSBjb252ZXJ0ZWQuXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IEFuIG9wdGlvbmFsIHtAbGluayBTY2hlZHVsZXJMaWtlfSBvbiB3aGljaCB0byBzY2hlZHVsZSB0aGUgZW1pc3Npb24gb2YgdmFsdWVzLlxuICogQHJldHVybiB7T2JzZXJ2YWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb208VD4oaW5wdXQ6IE9ic2VydmFibGVJbnB1dDxUPiwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE9ic2VydmFibGU8VD4ge1xuICByZXR1cm4gc2NoZWR1bGVyID8gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIDogaW5uZXJGcm9tKGlucHV0KTtcbn1cbiIsICIvKipcbiAqIENoZWNrcyB0byBzZWUgaWYgYSB2YWx1ZSBpcyBub3Qgb25seSBhIGBEYXRlYCBvYmplY3QsXG4gKiBidXQgYSAqdmFsaWQqIGBEYXRlYCBvYmplY3QgdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIGFcbiAqIG51bWJlci4gRm9yIGV4YW1wbGUsIGBuZXcgRGF0ZSgnYmxhaCcpYCBpcyBpbmRlZWQgYW5cbiAqIGBpbnN0YW5jZW9mIERhdGVgLCBob3dldmVyIGl0IGNhbm5vdCBiZSBjb252ZXJ0ZWQgdG8gYVxuICogbnVtYmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZERhdGUodmFsdWU6IGFueSk6IHZhbHVlIGlzIERhdGUge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlICYmICFpc05hTih2YWx1ZSBhcyBhbnkpO1xufVxuIiwgImltcG9ydCB7IE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcblxuZXhwb3J0IGZ1bmN0aW9uIG1hcDxULCBSPihwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IFIpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSBhIGNsb3N1cmUgaW5zdGVhZCBvZiBhIGB0aGlzQXJnYC4gU2lnbmF0dXJlcyBhY2NlcHRpbmcgYSBgdGhpc0FyZ2Agd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcDxULCBSLCBBPihwcm9qZWN0OiAodGhpczogQSwgdmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IFIsIHRoaXNBcmc6IEEpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+O1xuXG4vKipcbiAqIEFwcGxpZXMgYSBnaXZlbiBgcHJvamVjdGAgZnVuY3Rpb24gdG8gZWFjaCB2YWx1ZSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUsIGFuZCBlbWl0cyB0aGUgcmVzdWx0aW5nIHZhbHVlcyBhcyBhbiBPYnNlcnZhYmxlLlxuICpcbiAqIDxzcGFuIGNsYXNzPVwiaW5mb3JtYWxcIj5MaWtlIFtBcnJheS5wcm90b3R5cGUubWFwKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L21hcCksXG4gKiBpdCBwYXNzZXMgZWFjaCBzb3VyY2UgdmFsdWUgdGhyb3VnaCBhIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9uIHRvIGdldFxuICogY29ycmVzcG9uZGluZyBvdXRwdXQgdmFsdWVzLjwvc3Bhbj5cbiAqXG4gKiAhW10obWFwLnBuZylcbiAqXG4gKiBTaW1pbGFyIHRvIHRoZSB3ZWxsIGtub3duIGBBcnJheS5wcm90b3R5cGUubWFwYCBmdW5jdGlvbiwgdGhpcyBvcGVyYXRvclxuICogYXBwbGllcyBhIHByb2plY3Rpb24gdG8gZWFjaCB2YWx1ZSBhbmQgZW1pdHMgdGhhdCBwcm9qZWN0aW9uIGluIHRoZSBvdXRwdXRcbiAqIE9ic2VydmFibGUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIE1hcCBldmVyeSBjbGljayB0byB0aGUgYGNsaWVudFhgIHBvc2l0aW9uIG9mIHRoYXQgY2xpY2tcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBtYXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQ8UG9pbnRlckV2ZW50Pihkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBwb3NpdGlvbnMgPSBjbGlja3MucGlwZShtYXAoZXYgPT4gZXYuY2xpZW50WCkpO1xuICpcbiAqIHBvc2l0aW9ucy5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBtYXBUb31cbiAqIEBzZWUge0BsaW5rIHBsdWNrfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odmFsdWU6IFQsIGluZGV4OiBudW1iZXIpOiBSfSBwcm9qZWN0IFRoZSBmdW5jdGlvbiB0byBhcHBseVxuICogdG8gZWFjaCBgdmFsdWVgIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLiBUaGUgYGluZGV4YCBwYXJhbWV0ZXIgaXNcbiAqIHRoZSBudW1iZXIgYGlgIGZvciB0aGUgaS10aCBlbWlzc2lvbiB0aGF0IGhhcyBoYXBwZW5lZCBzaW5jZSB0aGVcbiAqIHN1YnNjcmlwdGlvbiwgc3RhcnRpbmcgZnJvbSB0aGUgbnVtYmVyIGAwYC5cbiAqIEBwYXJhbSB7YW55fSBbdGhpc0FyZ10gQW4gb3B0aW9uYWwgYXJndW1lbnQgdG8gZGVmaW5lIHdoYXQgYHRoaXNgIGlzIGluIHRoZVxuICogYHByb2plY3RgIGZ1bmN0aW9uLlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIHZhbHVlcyBmcm9tIHRoZVxuICogc291cmNlIE9ic2VydmFibGUgdHJhbnNmb3JtZWQgYnkgdGhlIGdpdmVuIGBwcm9qZWN0YCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcDxULCBSPihwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IFIsIHRoaXNBcmc/OiBhbnkpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgdmFsdWUgZnJvbSB0aGUgc291cmNlLiBVc2VkIHdpdGggcHJvamVjdGlvbi5cbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIC8vIFN1YnNjcmliZSB0byB0aGUgc291cmNlLCBhbGwgZXJyb3JzIGFuZCBjb21wbGV0aW9ucyBhcmUgc2VudCBhbG9uZ1xuICAgIC8vIHRvIHRoZSBjb25zdW1lci5cbiAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsICh2YWx1ZTogVCkgPT4ge1xuICAgICAgICAvLyBDYWxsIHRoZSBwcm9qZWN0aW9uIGZ1bmN0aW9uIHdpdGggdGhlIGFwcHJvcHJpYXRlIHRoaXMgY29udGV4dCxcbiAgICAgICAgLy8gYW5kIHNlbmQgdGhlIHJlc3VsdGluZyB2YWx1ZSB0byB0aGUgY29uc3VtZXIuXG4gICAgICAgIHN1YnNjcmliZXIubmV4dChwcm9qZWN0LmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KyspKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfSk7XG59XG4iLCAiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBTY2hlZHVsZXJMaWtlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKipcbiAqIEEgcHJvY2VzcyBlbWJvZHlpbmcgdGhlIGdlbmVyYWwgXCJtZXJnZVwiIHN0cmF0ZWd5LiBUaGlzIGlzIHVzZWQgaW5cbiAqIGBtZXJnZU1hcGAgYW5kIGBtZXJnZVNjYW5gIGJlY2F1c2UgdGhlIGxvZ2ljIGlzIG90aGVyd2lzZSBuZWFybHkgaWRlbnRpY2FsLlxuICogQHBhcmFtIHNvdXJjZSBUaGUgb3JpZ2luYWwgc291cmNlIG9ic2VydmFibGVcbiAqIEBwYXJhbSBzdWJzY3JpYmVyIFRoZSBjb25zdW1lciBzdWJzY3JpYmVyXG4gKiBAcGFyYW0gcHJvamVjdCBUaGUgcHJvamVjdGlvbiBmdW5jdGlvbiB0byBnZXQgb3VyIGlubmVyIHNvdXJjZXNcbiAqIEBwYXJhbSBjb25jdXJyZW50IFRoZSBudW1iZXIgb2YgY29uY3VycmVudCBpbm5lciBzdWJzY3JpcHRpb25zXG4gKiBAcGFyYW0gb25CZWZvcmVOZXh0IEFkZGl0aW9uYWwgbG9naWMgdG8gYXBwbHkgYmVmb3JlIG5leHRpbmcgdG8gb3VyIGNvbnN1bWVyXG4gKiBAcGFyYW0gZXhwYW5kIElmIGB0cnVlYCB0aGlzIHdpbGwgcGVyZm9ybSBhbiBcImV4cGFuZFwiIHN0cmF0ZWd5LCB3aGljaCBkaWZmZXJzIG9ubHlcbiAqIGluIHRoYXQgaXQgcmVjdXJzZXMsIGFuZCB0aGUgaW5uZXIgc3Vic2NyaXB0aW9uIG11c3QgYmUgc2NoZWR1bGUtYWJsZS5cbiAqIEBwYXJhbSBpbm5lclN1YlNjaGVkdWxlciBBIHNjaGVkdWxlciB0byB1c2UgdG8gc2NoZWR1bGUgaW5uZXIgc3Vic2NyaXB0aW9ucyxcbiAqIHRoaXMgaXMgdG8gc3VwcG9ydCB0aGUgZXhwYW5kIHN0cmF0ZWd5LCBtb3N0bHksIGFuZCBzaG91bGQgYmUgZGVwcmVjYXRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VJbnRlcm5hbHM8VCwgUj4oXG4gIHNvdXJjZTogT2JzZXJ2YWJsZTxUPixcbiAgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxSPixcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPYnNlcnZhYmxlSW5wdXQ8Uj4sXG4gIGNvbmN1cnJlbnQ6IG51bWJlcixcbiAgb25CZWZvcmVOZXh0PzogKGlubmVyVmFsdWU6IFIpID0+IHZvaWQsXG4gIGV4cGFuZD86IGJvb2xlYW4sXG4gIGlubmVyU3ViU2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSxcbiAgYWRkaXRpb25hbEZpbmFsaXplcj86ICgpID0+IHZvaWRcbikge1xuICAvLyBCdWZmZXJlZCB2YWx1ZXMsIGluIHRoZSBldmVudCBvZiBnb2luZyBvdmVyIG91ciBjb25jdXJyZW5jeSBsaW1pdFxuICBjb25zdCBidWZmZXI6IFRbXSA9IFtdO1xuICAvLyBUaGUgbnVtYmVyIG9mIGFjdGl2ZSBpbm5lciBzdWJzY3JpcHRpb25zLlxuICBsZXQgYWN0aXZlID0gMDtcbiAgLy8gQW4gaW5kZXggdG8gcGFzcyB0byBvdXIgYWNjdW11bGF0b3IgZnVuY3Rpb25cbiAgbGV0IGluZGV4ID0gMDtcbiAgLy8gV2hldGhlciBvciBub3QgdGhlIG91dGVyIHNvdXJjZSBoYXMgY29tcGxldGVkLlxuICBsZXQgaXNDb21wbGV0ZSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBDaGVja3MgdG8gc2VlIGlmIHdlIGNhbiBjb21wbGV0ZSBvdXIgcmVzdWx0IG9yIG5vdC5cbiAgICovXG4gIGNvbnN0IGNoZWNrQ29tcGxldGUgPSAoKSA9PiB7XG4gICAgLy8gSWYgdGhlIG91dGVyIGhhcyBjb21wbGV0ZWQsIGFuZCBub3RoaW5nIGlzIGxlZnQgaW4gdGhlIGJ1ZmZlcixcbiAgICAvLyBhbmQgd2UgZG9uJ3QgaGF2ZSBhbnkgYWN0aXZlIGlubmVyIHN1YnNjcmlwdGlvbnMsIHRoZW4gd2UgY2FuXG4gICAgLy8gRW1pdCB0aGUgc3RhdGUgYW5kIGNvbXBsZXRlLlxuICAgIGlmIChpc0NvbXBsZXRlICYmICFidWZmZXIubGVuZ3RoICYmICFhY3RpdmUpIHtcbiAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSWYgd2UncmUgdW5kZXIgb3VyIGNvbmN1cnJlbmN5IGxpbWl0LCBqdXN0IHN0YXJ0IHRoZSBpbm5lciBzdWJzY3JpcHRpb24sIG90aGVyd2lzZSBidWZmZXIgYW5kIHdhaXQuXG4gIGNvbnN0IG91dGVyTmV4dCA9ICh2YWx1ZTogVCkgPT4gKGFjdGl2ZSA8IGNvbmN1cnJlbnQgPyBkb0lubmVyU3ViKHZhbHVlKSA6IGJ1ZmZlci5wdXNoKHZhbHVlKSk7XG5cbiAgY29uc3QgZG9Jbm5lclN1YiA9ICh2YWx1ZTogVCkgPT4ge1xuICAgIC8vIElmIHdlJ3JlIGV4cGFuZGluZywgd2UgbmVlZCB0byBlbWl0IHRoZSBvdXRlciB2YWx1ZXMgYW5kIHRoZSBpbm5lciB2YWx1ZXNcbiAgICAvLyBhcyB0aGUgaW5uZXJzIHdpbGwgXCJiZWNvbWUgb3V0ZXJzXCIgaW4gYSB3YXkgYXMgdGhleSBhcmUgcmVjdXJzaXZlbHkgZmVkXG4gICAgLy8gYmFjayB0byB0aGUgcHJvamVjdGlvbiBtZWNoYW5pc20uXG4gICAgZXhwYW5kICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSBhcyBhbnkpO1xuXG4gICAgLy8gSW5jcmVtZW50IHRoZSBudW1iZXIgb2YgYWN0aXZlIHN1YnNjcmlwdGlvbnMgc28gd2UgY2FuIHRyYWNrIGl0XG4gICAgLy8gYWdhaW5zdCBvdXIgY29uY3VycmVuY3kgbGltaXQgbGF0ZXIuXG4gICAgYWN0aXZlKys7XG5cbiAgICAvLyBBIGZsYWcgdXNlZCB0byBzaG93IHRoYXQgdGhlIGlubmVyIG9ic2VydmFibGUgY29tcGxldGVkLlxuICAgIC8vIFRoaXMgaXMgY2hlY2tlZCBkdXJpbmcgZmluYWxpemF0aW9uIHRvIHNlZSBpZiB3ZSBzaG91bGRcbiAgICAvLyBtb3ZlIHRvIHRoZSBuZXh0IGl0ZW0gaW4gdGhlIGJ1ZmZlciwgaWYgdGhlcmUgaXMgb24uXG4gICAgbGV0IGlubmVyQ29tcGxldGUgPSBmYWxzZTtcblxuICAgIC8vIFN0YXJ0IG91ciBpbm5lciBzdWJzY3JpcHRpb24uXG4gICAgaW5uZXJGcm9tKHByb2plY3QodmFsdWUsIGluZGV4KyspKS5zdWJzY3JpYmUoXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoXG4gICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgIChpbm5lclZhbHVlKSA9PiB7XG4gICAgICAgICAgLy8gYG1lcmdlU2NhbmAgaGFzIGFkZGl0aW9uYWwgaGFuZGxpbmcgaGVyZS4gRm9yIGV4YW1wbGVcbiAgICAgICAgICAvLyB0YWtpbmcgdGhlIGlubmVyIHZhbHVlIGFuZCB1cGRhdGluZyBzdGF0ZS5cbiAgICAgICAgICBvbkJlZm9yZU5leHQ/Lihpbm5lclZhbHVlKTtcblxuICAgICAgICAgIGlmIChleHBhbmQpIHtcbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIGV4cGFuZGluZywgdGhlbiBqdXN0IHJlY3Vyc2UgYmFjayB0byBvdXIgb3V0ZXJcbiAgICAgICAgICAgIC8vIGhhbmRsZXIuIEl0IHdpbGwgZW1pdCB0aGUgdmFsdWUgZmlyc3QgdGhpbmcuXG4gICAgICAgICAgICBvdXRlck5leHQoaW5uZXJWYWx1ZSBhcyBhbnkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIGVtaXQgdGhlIGlubmVyIHZhbHVlLlxuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIC8vIEZsYWcgdGhhdCB3ZSBoYXZlIGNvbXBsZXRlZCwgc28gd2Uga25vdyB0byBjaGVjayB0aGUgYnVmZmVyXG4gICAgICAgICAgLy8gZHVyaW5nIGZpbmFsaXphdGlvbi5cbiAgICAgICAgICBpbm5lckNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gRXJyb3JzIGFyZSBwYXNzZWQgdG8gdGhlIGRlc3RpbmF0aW9uLlxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAvLyBEdXJpbmcgZmluYWxpemF0aW9uLCBpZiB0aGUgaW5uZXIgY29tcGxldGVkIChpdCB3YXNuJ3QgZXJyb3JlZCBvclxuICAgICAgICAgIC8vIGNhbmNlbGxlZCksIHRoZW4gd2Ugd2FudCB0byB0cnkgdGhlIG5leHQgaXRlbSBpbiB0aGUgYnVmZmVyIGlmXG4gICAgICAgICAgLy8gdGhlcmUgaXMgb25lLlxuICAgICAgICAgIGlmIChpbm5lckNvbXBsZXRlKSB7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIHRvIHdyYXAgdGhpcyBpbiBhIHRyeS9jYXRjaCBiZWNhdXNlIGl0IGhhcHBlbnMgZHVyaW5nXG4gICAgICAgICAgICAvLyBmaW5hbGl6YXRpb24sIHBvc3NpYmx5IGFzeW5jaHJvbm91c2x5LCBhbmQgd2Ugd2FudCB0byBwYXNzXG4gICAgICAgICAgICAvLyBhbnkgZXJyb3JzIHRoYXQgaGFwcGVuIChsaWtlIGluIGEgcHJvamVjdGlvbiBmdW5jdGlvbikgdG9cbiAgICAgICAgICAgIC8vIHRoZSBvdXRlciBTdWJzY3JpYmVyLlxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gSU5ORVIgU09VUkNFIENPTVBMRVRFXG4gICAgICAgICAgICAgIC8vIERlY3JlbWVudCB0aGUgYWN0aXZlIGNvdW50IHRvIGVuc3VyZSB0aGF0IHRoZSBuZXh0IHRpbWVcbiAgICAgICAgICAgICAgLy8gd2UgdHJ5IHRvIGNhbGwgYGRvSW5uZXJTdWJgLCB0aGUgbnVtYmVyIGlzIGFjY3VyYXRlLlxuICAgICAgICAgICAgICBhY3RpdmUtLTtcbiAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBtb3JlIHZhbHVlcyBpbiB0aGUgYnVmZmVyLCB0cnkgdG8gcHJvY2VzcyB0aG9zZVxuICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhpcyBjYWxsIHdpbGwgaW5jcmVtZW50IGBhY3RpdmVgIGFoZWFkIG9mIHRoZVxuICAgICAgICAgICAgICAvLyBuZXh0IGNvbmRpdGlvbmFsLCBpZiB0aGVyZSB3ZXJlIGFueSBtb3JlIGlubmVyIHN1YnNjcmlwdGlvbnNcbiAgICAgICAgICAgICAgLy8gdG8gc3RhcnQuXG4gICAgICAgICAgICAgIHdoaWxlIChidWZmZXIubGVuZ3RoICYmIGFjdGl2ZSA8IGNvbmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBidWZmZXJlZFZhbHVlID0gYnVmZmVyLnNoaWZ0KCkhO1xuICAgICAgICAgICAgICAgIC8vIFBhcnRpY3VsYXJseSBmb3IgYGV4cGFuZGAsIHdlIG5lZWQgdG8gY2hlY2sgdG8gc2VlIGlmIGEgc2NoZWR1bGVyIHdhcyBwcm92aWRlZFxuICAgICAgICAgICAgICAgIC8vIGZvciB3aGVuIHdlIHdhbnQgdG8gc3RhcnQgb3VyIGlubmVyIHN1YnNjcmlwdGlvbi4gT3RoZXJ3aXNlLCB3ZSBqdXN0IHN0YXJ0XG4gICAgICAgICAgICAgICAgLy8gYXJlIG5leHQgaW5uZXIgc3Vic2NyaXB0aW9uLlxuICAgICAgICAgICAgICAgIGlmIChpbm5lclN1YlNjaGVkdWxlcikge1xuICAgICAgICAgICAgICAgICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIGlubmVyU3ViU2NoZWR1bGVyLCAoKSA9PiBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZG9Jbm5lclN1YihidWZmZXJlZFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIGNhbiBjb21wbGV0ZSwgYW5kIGNvbXBsZXRlIGlmIHNvLlxuICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgLy8gU3Vic2NyaWJlIHRvIG91ciBzb3VyY2Ugb2JzZXJ2YWJsZS5cbiAgc291cmNlLnN1YnNjcmliZShcbiAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgb3V0ZXJOZXh0LCAoKSA9PiB7XG4gICAgICAvLyBPdXRlciBjb21wbGV0ZWQsIG1ha2UgYSBub3RlIG9mIGl0LCBhbmQgY2hlY2sgdG8gc2VlIGlmIHdlIGNhbiBjb21wbGV0ZSBldmVyeXRoaW5nLlxuICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgfSlcbiAgKTtcblxuICAvLyBBZGRpdGlvbmFsIGZpbmFsaXphdGlvbiAoZm9yIHdoZW4gdGhlIGRlc3RpbmF0aW9uIGlzIHRvcm4gZG93bikuXG4gIC8vIE90aGVyIGZpbmFsaXphdGlvbiBpcyBhZGRlZCBpbXBsaWNpdGx5IHZpYSBzdWJzY3JpcHRpb24gYWJvdmUuXG4gIHJldHVybiAoKSA9PiB7XG4gICAgYWRkaXRpb25hbEZpbmFsaXplcj8uKCk7XG4gIH07XG59XG4iLCAiaW1wb3J0IHsgT2JzZXJ2YWJsZUlucHV0LCBPcGVyYXRvckZ1bmN0aW9uLCBPYnNlcnZlZFZhbHVlT2YgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IG1lcmdlSW50ZXJuYWxzIH0gZnJvbSAnLi9tZXJnZUludGVybmFscyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcblxuLyogdHNsaW50OmRpc2FibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VNYXA8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICBjb25jdXJyZW50PzogbnVtYmVyXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGByZXN1bHRTZWxlY3RvcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGFuIGlubmVyIGBtYXBgIGluc3RlYWQuIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3Jlc3VsdFNlbGVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VNYXA8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICByZXN1bHRTZWxlY3RvcjogdW5kZWZpbmVkLFxuICBjb25jdXJyZW50PzogbnVtYmVyXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGByZXN1bHRTZWxlY3RvcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGFuIGlubmVyIGBtYXBgIGluc3RlYWQuIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3Jlc3VsdFNlbGVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VNYXA8VCwgUiwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICByZXN1bHRTZWxlY3RvcjogKG91dGVyVmFsdWU6IFQsIGlubmVyVmFsdWU6IE9ic2VydmVkVmFsdWVPZjxPPiwgb3V0ZXJJbmRleDogbnVtYmVyLCBpbm5lckluZGV4OiBudW1iZXIpID0+IFIsXG4gIGNvbmN1cnJlbnQ/OiBudW1iZXJcbik6IE9wZXJhdG9yRnVuY3Rpb248VCwgUj47XG4vKiB0c2xpbnQ6ZW5hYmxlOm1heC1saW5lLWxlbmd0aCAqL1xuXG4vKipcbiAqIFByb2plY3RzIGVhY2ggc291cmNlIHZhbHVlIHRvIGFuIE9ic2VydmFibGUgd2hpY2ggaXMgbWVyZ2VkIGluIHRoZSBvdXRwdXRcbiAqIE9ic2VydmFibGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPk1hcHMgZWFjaCB2YWx1ZSB0byBhbiBPYnNlcnZhYmxlLCB0aGVuIGZsYXR0ZW5zIGFsbCBvZlxuICogdGhlc2UgaW5uZXIgT2JzZXJ2YWJsZXMgdXNpbmcge0BsaW5rIG1lcmdlQWxsfS48L3NwYW4+XG4gKlxuICogIVtdKG1lcmdlTWFwLnBuZylcbiAqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtcyBiYXNlZCBvbiBhcHBseWluZyBhIGZ1bmN0aW9uIHRoYXQgeW91XG4gKiBzdXBwbHkgdG8gZWFjaCBpdGVtIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlLCB3aGVyZSB0aGF0IGZ1bmN0aW9uXG4gKiByZXR1cm5zIGFuIE9ic2VydmFibGUsIGFuZCB0aGVuIG1lcmdpbmcgdGhvc2UgcmVzdWx0aW5nIE9ic2VydmFibGVzIGFuZFxuICogZW1pdHRpbmcgdGhlIHJlc3VsdHMgb2YgdGhpcyBtZXJnZXIuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIE1hcCBhbmQgZmxhdHRlbiBlYWNoIGxldHRlciB0byBhbiBPYnNlcnZhYmxlIHRpY2tpbmcgZXZlcnkgMSBzZWNvbmRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIG1lcmdlTWFwLCBpbnRlcnZhbCwgbWFwIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgbGV0dGVycyA9IG9mKCdhJywgJ2InLCAnYycpO1xuICogY29uc3QgcmVzdWx0ID0gbGV0dGVycy5waXBlKFxuICogICBtZXJnZU1hcCh4ID0+IGludGVydmFsKDEwMDApLnBpcGUobWFwKGkgPT4geCArIGkpKSlcbiAqICk7XG4gKlxuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBSZXN1bHRzIGluIHRoZSBmb2xsb3dpbmc6XG4gKiAvLyBhMFxuICogLy8gYjBcbiAqIC8vIGMwXG4gKiAvLyBhMVxuICogLy8gYjFcbiAqIC8vIGMxXG4gKiAvLyBjb250aW51ZXMgdG8gbGlzdCBhLCBiLCBjIGV2ZXJ5IHNlY29uZCB3aXRoIHJlc3BlY3RpdmUgYXNjZW5kaW5nIGludGVnZXJzXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBjb25jYXRNYXB9XG4gKiBAc2VlIHtAbGluayBleGhhdXN0TWFwfVxuICogQHNlZSB7QGxpbmsgbWVyZ2V9XG4gKiBAc2VlIHtAbGluayBtZXJnZUFsbH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlTWFwVG99XG4gKiBAc2VlIHtAbGluayBtZXJnZVNjYW59XG4gKiBAc2VlIHtAbGluayBzd2l0Y2hNYXB9XG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbih2YWx1ZTogVCwgP2luZGV4OiBudW1iZXIpOiBPYnNlcnZhYmxlSW5wdXR9IHByb2plY3QgQSBmdW5jdGlvblxuICogdGhhdCwgd2hlbiBhcHBsaWVkIHRvIGFuIGl0ZW0gZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUsIHJldHVybnMgYW5cbiAqIE9ic2VydmFibGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbnQ9SW5maW5pdHldIE1heGltdW0gbnVtYmVyIG9mIGlucHV0XG4gKiBPYnNlcnZhYmxlcyBiZWluZyBzdWJzY3JpYmVkIHRvIGNvbmN1cnJlbnRseS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSByZXN1bHQgb2ZcbiAqIGFwcGx5aW5nIHRoZSBwcm9qZWN0aW9uIGZ1bmN0aW9uIChhbmQgdGhlIG9wdGlvbmFsIGRlcHJlY2F0ZWRcbiAqIGByZXN1bHRTZWxlY3RvcmApIHRvIGVhY2ggaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBhbmQgbWVyZ2luZ1xuICogdGhlIHJlc3VsdHMgb2YgdGhlIE9ic2VydmFibGVzIG9idGFpbmVkIGZyb20gdGhpcyB0cmFuc2Zvcm1hdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwPFQsIFIsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gTyxcbiAgcmVzdWx0U2VsZWN0b3I/OiAoKG91dGVyVmFsdWU6IFQsIGlubmVyVmFsdWU6IE9ic2VydmVkVmFsdWVPZjxPPiwgb3V0ZXJJbmRleDogbnVtYmVyLCBpbm5lckluZGV4OiBudW1iZXIpID0+IFIpIHwgbnVtYmVyLFxuICBjb25jdXJyZW50OiBudW1iZXIgPSBJbmZpbml0eVxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4gfCBSPiB7XG4gIGlmIChpc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgIC8vIERFUFJFQ0FURUQgUEFUSFxuICAgIHJldHVybiBtZXJnZU1hcCgoYSwgaSkgPT4gbWFwKChiOiBhbnksIGlpOiBudW1iZXIpID0+IHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKSkoaW5uZXJGcm9tKHByb2plY3QoYSwgaSkpKSwgY29uY3VycmVudCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnbnVtYmVyJykge1xuICAgIGNvbmN1cnJlbnQgPSByZXN1bHRTZWxlY3RvcjtcbiAgfVxuXG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IG1lcmdlSW50ZXJuYWxzKHNvdXJjZSwgc3Vic2NyaWJlciwgcHJvamVjdCwgY29uY3VycmVudCkpO1xufVxuIiwgImltcG9ydCB7IG1lcmdlTWFwIH0gZnJvbSAnLi9tZXJnZU1hcCc7XG5pbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4uL3V0aWwvaWRlbnRpdHknO1xuaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0LCBPYnNlcnZlZFZhbHVlT2YgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogQ29udmVydHMgYSBoaWdoZXItb3JkZXIgT2JzZXJ2YWJsZSBpbnRvIGEgZmlyc3Qtb3JkZXIgT2JzZXJ2YWJsZSB3aGljaFxuICogY29uY3VycmVudGx5IGRlbGl2ZXJzIGFsbCB2YWx1ZXMgdGhhdCBhcmUgZW1pdHRlZCBvbiB0aGUgaW5uZXIgT2JzZXJ2YWJsZXMuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkZsYXR0ZW5zIGFuIE9ic2VydmFibGUtb2YtT2JzZXJ2YWJsZXMuPC9zcGFuPlxuICpcbiAqICFbXShtZXJnZUFsbC5wbmcpXG4gKlxuICogYG1lcmdlQWxsYCBzdWJzY3JpYmVzIHRvIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBPYnNlcnZhYmxlcywgYWxzbyBrbm93biBhc1xuICogYSBoaWdoZXItb3JkZXIgT2JzZXJ2YWJsZS4gRWFjaCB0aW1lIGl0IG9ic2VydmVzIG9uZSBvZiB0aGVzZSBlbWl0dGVkIGlubmVyXG4gKiBPYnNlcnZhYmxlcywgaXQgc3Vic2NyaWJlcyB0byB0aGF0IGFuZCBkZWxpdmVycyBhbGwgdGhlIHZhbHVlcyBmcm9tIHRoZVxuICogaW5uZXIgT2JzZXJ2YWJsZSBvbiB0aGUgb3V0cHV0IE9ic2VydmFibGUuIFRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBvbmx5XG4gKiBjb21wbGV0ZXMgb25jZSBhbGwgaW5uZXIgT2JzZXJ2YWJsZXMgaGF2ZSBjb21wbGV0ZWQuIEFueSBlcnJvciBkZWxpdmVyZWQgYnlcbiAqIGEgaW5uZXIgT2JzZXJ2YWJsZSB3aWxsIGJlIGltbWVkaWF0ZWx5IGVtaXR0ZWQgb24gdGhlIG91dHB1dCBPYnNlcnZhYmxlLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogU3Bhd24gYSBuZXcgaW50ZXJ2YWwgT2JzZXJ2YWJsZSBmb3IgZWFjaCBjbGljayBldmVudCwgYW5kIGJsZW5kIHRoZWlyIG91dHB1dHMgYXMgb25lIE9ic2VydmFibGVcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBtYXAsIGludGVydmFsLCBtZXJnZUFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBoaWdoZXJPcmRlciA9IGNsaWNrcy5waXBlKG1hcCgoKSA9PiBpbnRlcnZhbCgxMDAwKSkpO1xuICogY29uc3QgZmlyc3RPcmRlciA9IGhpZ2hlck9yZGVyLnBpcGUobWVyZ2VBbGwoKSk7XG4gKlxuICogZmlyc3RPcmRlci5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKiBgYGBcbiAqXG4gKiBDb3VudCBmcm9tIDAgdG8gOSBldmVyeSBzZWNvbmQgZm9yIGVhY2ggY2xpY2ssIGJ1dCBvbmx5IGFsbG93IDIgY29uY3VycmVudCB0aW1lcnNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBtYXAsIGludGVydmFsLCB0YWtlLCBtZXJnZUFsbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCBoaWdoZXJPcmRlciA9IGNsaWNrcy5waXBlKFxuICogICBtYXAoKCkgPT4gaW50ZXJ2YWwoMTAwMCkucGlwZSh0YWtlKDEwKSkpXG4gKiApO1xuICogY29uc3QgZmlyc3RPcmRlciA9IGhpZ2hlck9yZGVyLnBpcGUobWVyZ2VBbGwoMikpO1xuICpcbiAqIGZpcnN0T3JkZXIuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coeCkpO1xuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgY29tYmluZUxhdGVzdEFsbH1cbiAqIEBzZWUge0BsaW5rIGNvbmNhdEFsbH1cbiAqIEBzZWUge0BsaW5rIGV4aGF1c3RBbGx9XG4gKiBAc2VlIHtAbGluayBtZXJnZX1cbiAqIEBzZWUge0BsaW5rIG1lcmdlTWFwfVxuICogQHNlZSB7QGxpbmsgbWVyZ2VNYXBUb31cbiAqIEBzZWUge0BsaW5rIG1lcmdlU2Nhbn1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaEFsbH1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaE1hcH1cbiAqIEBzZWUge0BsaW5rIHppcEFsbH1cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbnQ9SW5maW5pdHldIE1heGltdW0gbnVtYmVyIG9mIGlubmVyXG4gKiBPYnNlcnZhYmxlcyBiZWluZyBzdWJzY3JpYmVkIHRvIGNvbmN1cnJlbnRseS5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHZhbHVlcyBjb21pbmcgZnJvbVxuICogYWxsIHRoZSBpbm5lciBPYnNlcnZhYmxlcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQWxsPE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oY29uY3VycmVudDogbnVtYmVyID0gSW5maW5pdHkpOiBPcGVyYXRvckZ1bmN0aW9uPE8sIE9ic2VydmVkVmFsdWVPZjxPPj4ge1xuICByZXR1cm4gbWVyZ2VNYXAoaWRlbnRpdHksIGNvbmN1cnJlbnQpO1xufVxuIiwgImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBhc3luYyBhcyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgaXNWYWxpZERhdGUgfSBmcm9tICcuLi91dGlsL2lzRGF0ZSc7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvYnNlcnZhYmxlIHRoYXQgd2lsbCB3YWl0IGZvciBhIHNwZWNpZmllZCB0aW1lIHBlcmlvZCwgb3IgZXhhY3QgZGF0ZSwgYmVmb3JlXG4gKiBlbWl0dGluZyB0aGUgbnVtYmVyIDAuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPlVzZWQgdG8gZW1pdCBhIG5vdGlmaWNhdGlvbiBhZnRlciBhIGRlbGF5Ljwvc3Bhbj5cbiAqXG4gKiBUaGlzIG9ic2VydmFibGUgaXMgdXNlZnVsIGZvciBjcmVhdGluZyBkZWxheXMgaW4gY29kZSwgb3IgcmFjaW5nIGFnYWluc3Qgb3RoZXIgdmFsdWVzXG4gKiBmb3IgYWQtaG9jIHRpbWVvdXRzLlxuICpcbiAqIFRoZSBgZGVsYXlgIGlzIHNwZWNpZmllZCBieSBkZWZhdWx0IGluIG1pbGxpc2Vjb25kcywgaG93ZXZlciBwcm92aWRpbmcgYSBjdXN0b20gc2NoZWR1bGVyIGNvdWxkXG4gKiBjcmVhdGUgYSBkaWZmZXJlbnQgYmVoYXZpb3IuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBXYWl0IDMgc2Vjb25kcyBhbmQgc3RhcnQgYW5vdGhlciBvYnNlcnZhYmxlXG4gKlxuICogWW91IG1pZ2h0IHdhbnQgdG8gdXNlIGB0aW1lcmAgdG8gZGVsYXkgc3Vic2NyaXB0aW9uIHRvIGFuXG4gKiBvYnNlcnZhYmxlIGJ5IGEgc2V0IGFtb3VudCBvZiB0aW1lLiBIZXJlIHdlIHVzZSBhIHRpbWVyIHdpdGhcbiAqIHtAbGluayBjb25jYXRNYXBUb30gb3Ige0BsaW5rIGNvbmNhdE1hcH0gaW4gb3JkZXIgdG8gd2FpdFxuICogYSBmZXcgc2Vjb25kcyBhbmQgc3RhcnQgYSBzdWJzY3JpcHRpb24gdG8gYSBzb3VyY2UuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCB0aW1lciwgY29uY2F0TWFwIH0gZnJvbSAncnhqcyc7XG4gKlxuICogLy8gVGhpcyBjb3VsZCBiZSBhbnkgb2JzZXJ2YWJsZVxuICogY29uc3Qgc291cmNlID0gb2YoMSwgMiwgMyk7XG4gKlxuICogdGltZXIoMzAwMClcbiAqICAgLnBpcGUoY29uY2F0TWFwKCgpID0+IHNvdXJjZSkpXG4gKiAgIC5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICogYGBgXG4gKlxuICogVGFrZSBhbGwgdmFsdWVzIHVudGlsIHRoZSBzdGFydCBvZiB0aGUgbmV4dCBtaW51dGVcbiAqXG4gKiBVc2luZyBhIGBEYXRlYCBhcyB0aGUgdHJpZ2dlciBmb3IgdGhlIGZpcnN0IGVtaXNzaW9uLCB5b3UgY2FuXG4gKiBkbyB0aGluZ3MgbGlrZSB3YWl0IHVudGlsIG1pZG5pZ2h0IHRvIGZpcmUgYW4gZXZlbnQsIG9yIGluIHRoaXMgY2FzZSxcbiAqIHdhaXQgdW50aWwgYSBuZXcgbWludXRlIHN0YXJ0cyAoY2hvc2VuIHNvIHRoZSBleGFtcGxlIHdvdWxkbid0IHRha2VcbiAqIHRvbyBsb25nIHRvIHJ1bikgaW4gb3JkZXIgdG8gc3RvcCB3YXRjaGluZyBhIHN0cmVhbS4gTGV2ZXJhZ2luZ1xuICoge0BsaW5rIHRha2VVbnRpbH0uXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0YWtlVW50aWwsIHRpbWVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogLy8gQnVpbGQgYSBEYXRlIG9iamVjdCB0aGF0IG1hcmtzIHRoZVxuICogLy8gbmV4dCBtaW51dGUuXG4gKiBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XG4gKiBjb25zdCBzdGFydE9mTmV4dE1pbnV0ZSA9IG5ldyBEYXRlKFxuICogICBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpLFxuICogICBjdXJyZW50RGF0ZS5nZXRNb250aCgpLFxuICogICBjdXJyZW50RGF0ZS5nZXREYXRlKCksXG4gKiAgIGN1cnJlbnREYXRlLmdldEhvdXJzKCksXG4gKiAgIGN1cnJlbnREYXRlLmdldE1pbnV0ZXMoKSArIDFcbiAqICk7XG4gKlxuICogLy8gVGhpcyBjb3VsZCBiZSBhbnkgb2JzZXJ2YWJsZSBzdHJlYW1cbiAqIGNvbnN0IHNvdXJjZSA9IGludGVydmFsKDEwMDApO1xuICpcbiAqIGNvbnN0IHJlc3VsdCA9IHNvdXJjZS5waXBlKFxuICogICB0YWtlVW50aWwodGltZXIoc3RhcnRPZk5leHRNaW51dGUpKVxuICogKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKGNvbnNvbGUubG9nKTtcbiAqIGBgYFxuICpcbiAqICMjIyBLbm93biBMaW1pdGF0aW9uc1xuICpcbiAqIC0gVGhlIHtAbGluayBhc3luY1NjaGVkdWxlcn0gdXNlcyBgc2V0VGltZW91dGAgd2hpY2ggaGFzIGxpbWl0YXRpb25zIGZvciBob3cgZmFyIGluIHRoZSBmdXR1cmUgaXQgY2FuIGJlIHNjaGVkdWxlZC5cbiAqXG4gKiAtIElmIGEgYHNjaGVkdWxlcmAgaXMgcHJvdmlkZWQgdGhhdCByZXR1cm5zIGEgdGltZXN0YW1wIG90aGVyIHRoYW4gYW4gZXBvY2ggZnJvbSBgbm93KClgLCBhbmRcbiAqIGEgYERhdGVgIG9iamVjdCBpcyBwYXNzZWQgdG8gdGhlIGBkdWVUaW1lYCBhcmd1bWVudCwgdGhlIGNhbGN1bGF0aW9uIGZvciB3aGVuIHRoZSBmaXJzdCBlbWlzc2lvblxuICogc2hvdWxkIG9jY3VyIHdpbGwgYmUgaW5jb3JyZWN0LiBJbiB0aGlzIGNhc2UsIGl0IHdvdWxkIGJlIGJlc3QgdG8gZG8geW91ciBvd24gY2FsY3VsYXRpb25zXG4gKiBhaGVhZCBvZiB0aW1lLCBhbmQgcGFzcyBhIGBudW1iZXJgIGluIGFzIHRoZSBgZHVlVGltZWAuXG4gKlxuICogQHBhcmFtIGR1ZSBJZiBhIGBudW1iZXJgLCB0aGUgYW1vdW50IG9mIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIGVtaXR0aW5nLlxuICogSWYgYSBgRGF0ZWAsIHRoZSBleGFjdCB0aW1lIGF0IHdoaWNoIHRvIGVtaXQuXG4gKiBAcGFyYW0gc2NoZWR1bGVyIFRoZSBzY2hlZHVsZXIgdG8gdXNlIHRvIHNjaGVkdWxlIHRoZSBkZWxheS4gRGVmYXVsdHMgdG8ge0BsaW5rIGFzeW5jU2NoZWR1bGVyfS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyKGR1ZTogbnVtYmVyIHwgRGF0ZSwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE9ic2VydmFibGU8MD47XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvYnNlcnZhYmxlIHRoYXQgc3RhcnRzIGFuIGludGVydmFsIGFmdGVyIGEgc3BlY2lmaWVkIGRlbGF5LCBlbWl0dGluZyBpbmNyZW1lbnRpbmcgbnVtYmVycyAtLSBzdGFydGluZyBhdCBgMGAgLS1cbiAqIG9uIGVhY2ggaW50ZXJ2YWwgYWZ0ZXIgd29yZHMuXG4gKlxuICogVGhlIGBkZWxheWAgYW5kIGBpbnRlcnZhbER1cmF0aW9uYCBhcmUgc3BlY2lmaWVkIGJ5IGRlZmF1bHQgaW4gbWlsbGlzZWNvbmRzLCBob3dldmVyIHByb3ZpZGluZyBhIGN1c3RvbSBzY2hlZHVsZXIgY291bGRcbiAqIGNyZWF0ZSBhIGRpZmZlcmVudCBiZWhhdmlvci5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogIyMjIFN0YXJ0IGFuIGludGVydmFsIHRoYXQgc3RhcnRzIHJpZ2h0IGF3YXlcbiAqXG4gKiBTaW5jZSB7QGxpbmsgaW50ZXJ2YWx9IHdhaXRzIGZvciB0aGUgcGFzc2VkIGRlbGF5IGJlZm9yZSBzdGFydGluZyxcbiAqIHNvbWV0aW1lcyB0aGF0J3Mgbm90IGlkZWFsLiBZb3UgbWF5IHdhbnQgdG8gc3RhcnQgYW4gaW50ZXJ2YWwgaW1tZWRpYXRlbHkuXG4gKiBgdGltZXJgIHdvcmtzIHdlbGwgZm9yIHRoaXMuIEhlcmUgd2UgaGF2ZSBib3RoIHNpZGUtYnktc2lkZSBzbyB5b3UgY2FuXG4gKiBzZWUgdGhlbSBpbiBjb21wYXJpc29uLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIG9ic2VydmFibGUgd2lsbCBuZXZlciBjb21wbGV0ZS5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgdGltZXIsIGludGVydmFsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogdGltZXIoMCwgMTAwMCkuc3Vic2NyaWJlKG4gPT4gY29uc29sZS5sb2coJ3RpbWVyJywgbikpO1xuICogaW50ZXJ2YWwoMTAwMCkuc3Vic2NyaWJlKG4gPT4gY29uc29sZS5sb2coJ2ludGVydmFsJywgbikpO1xuICogYGBgXG4gKlxuICogIyMjIEtub3duIExpbWl0YXRpb25zXG4gKlxuICogLSBUaGUge0BsaW5rIGFzeW5jU2NoZWR1bGVyfSB1c2VzIGBzZXRUaW1lb3V0YCB3aGljaCBoYXMgbGltaXRhdGlvbnMgZm9yIGhvdyBmYXIgaW4gdGhlIGZ1dHVyZSBpdCBjYW4gYmUgc2NoZWR1bGVkLlxuICpcbiAqIC0gSWYgYSBgc2NoZWR1bGVyYCBpcyBwcm92aWRlZCB0aGF0IHJldHVybnMgYSB0aW1lc3RhbXAgb3RoZXIgdGhhbiBhbiBlcG9jaCBmcm9tIGBub3coKWAsIGFuZFxuICogYSBgRGF0ZWAgb2JqZWN0IGlzIHBhc3NlZCB0byB0aGUgYGR1ZVRpbWVgIGFyZ3VtZW50LCB0aGUgY2FsY3VsYXRpb24gZm9yIHdoZW4gdGhlIGZpcnN0IGVtaXNzaW9uXG4gKiBzaG91bGQgb2NjdXIgd2lsbCBiZSBpbmNvcnJlY3QuIEluIHRoaXMgY2FzZSwgaXQgd291bGQgYmUgYmVzdCB0byBkbyB5b3VyIG93biBjYWxjdWxhdGlvbnNcbiAqIGFoZWFkIG9mIHRpbWUsIGFuZCBwYXNzIGEgYG51bWJlcmAgaW4gYXMgdGhlIGBzdGFydER1ZWAuXG4gKiBAcGFyYW0gc3RhcnREdWUgSWYgYSBgbnVtYmVyYCwgaXMgdGhlIHRpbWUgdG8gd2FpdCBiZWZvcmUgc3RhcnRpbmcgdGhlIGludGVydmFsLlxuICogSWYgYSBgRGF0ZWAsIGlzIHRoZSBleGFjdCB0aW1lIGF0IHdoaWNoIHRvIHN0YXJ0IHRoZSBpbnRlcnZhbC5cbiAqIEBwYXJhbSBpbnRlcnZhbER1cmF0aW9uIFRoZSBkZWxheSBiZXR3ZWVuIGVhY2ggdmFsdWUgZW1pdHRlZCBpbiB0aGUgaW50ZXJ2YWwuIFBhc3NpbmcgYVxuICogbmVnYXRpdmUgbnVtYmVyIGhlcmUgd2lsbCByZXN1bHQgaW4gaW1tZWRpYXRlIGNvbXBsZXRpb24gYWZ0ZXIgdGhlIGZpcnN0IHZhbHVlIGlzIGVtaXR0ZWQsIGFzIHRob3VnaFxuICogbm8gYGludGVydmFsRHVyYXRpb25gIHdhcyBwYXNzZWQgYXQgYWxsLlxuICogQHBhcmFtIHNjaGVkdWxlciBUaGUgc2NoZWR1bGVyIHRvIHVzZSB0byBzY2hlZHVsZSB0aGUgZGVsYXkuIERlZmF1bHRzIHRvIHtAbGluayBhc3luY1NjaGVkdWxlcn0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihzdGFydER1ZTogbnVtYmVyIHwgRGF0ZSwgaW50ZXJ2YWxEdXJhdGlvbjogbnVtYmVyLCBzY2hlZHVsZXI/OiBTY2hlZHVsZXJMaWtlKTogT2JzZXJ2YWJsZTxudW1iZXI+O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFRoZSBzaWduYXR1cmUgYWxsb3dpbmcgYHVuZGVmaW5lZGAgdG8gYmUgcGFzc2VkIGZvciBgaW50ZXJ2YWxEdXJhdGlvbmAgd2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2UgdGhlIGB0aW1lcihkdWVUaW1lLCBzY2hlZHVsZXI/KWAgc2lnbmF0dXJlIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihkdWVUaW1lOiBudW1iZXIgfCBEYXRlLCB1bnVzZWQ6IHVuZGVmaW5lZCwgc2NoZWR1bGVyPzogU2NoZWR1bGVyTGlrZSk6IE9ic2VydmFibGU8MD47XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihcbiAgZHVlVGltZTogbnVtYmVyIHwgRGF0ZSA9IDAsXG4gIGludGVydmFsT3JTY2hlZHVsZXI/OiBudW1iZXIgfCBTY2hlZHVsZXJMaWtlLFxuICBzY2hlZHVsZXI6IFNjaGVkdWxlckxpa2UgPSBhc3luY1NjaGVkdWxlclxuKTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcbiAgLy8gU2luY2UgbmVnYXRpdmUgaW50ZXJ2YWxEdXJhdGlvbiBpcyB0cmVhdGVkIGFzIHRob3VnaCBub1xuICAvLyBpbnRlcnZhbCB3YXMgc3BlY2lmaWVkIGF0IGFsbCwgd2Ugc3RhcnQgd2l0aCBhIG5lZ2F0aXZlIG51bWJlci5cbiAgbGV0IGludGVydmFsRHVyYXRpb24gPSAtMTtcblxuICBpZiAoaW50ZXJ2YWxPclNjaGVkdWxlciAhPSBudWxsKSB7XG4gICAgLy8gSWYgd2UgaGF2ZSBhIHNlY29uZCBhcmd1bWVudCwgYW5kIGl0J3MgYSBzY2hlZHVsZXIsXG4gICAgLy8gb3ZlcnJpZGUgdGhlIHNjaGVkdWxlciB3ZSBoYWQgZGVmYXVsdGVkLiBPdGhlcndpc2UsXG4gICAgLy8gaXQgbXVzdCBiZSBhbiBpbnRlcnZhbC5cbiAgICBpZiAoaXNTY2hlZHVsZXIoaW50ZXJ2YWxPclNjaGVkdWxlcikpIHtcbiAgICAgIHNjaGVkdWxlciA9IGludGVydmFsT3JTY2hlZHVsZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vdGUgdGhhdCB0aGlzICpjb3VsZCogYmUgbmVnYXRpdmUsIGluIHdoaWNoIGNhc2VcbiAgICAgIC8vIGl0J3MgbGlrZSBub3QgcGFzc2luZyBhbiBpbnRlcnZhbER1cmF0aW9uIGF0IGFsbC5cbiAgICAgIGludGVydmFsRHVyYXRpb24gPSBpbnRlcnZhbE9yU2NoZWR1bGVyO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgoc3Vic2NyaWJlcikgPT4ge1xuICAgIC8vIElmIGEgdmFsaWQgZGF0ZSBpcyBwYXNzZWQsIGNhbGN1bGF0ZSBob3cgbG9uZyB0byB3YWl0IGJlZm9yZVxuICAgIC8vIGV4ZWN1dGluZyB0aGUgZmlyc3QgdmFsdWUuLi4gb3RoZXJ3aXNlLCBpZiBpdCdzIGEgbnVtYmVyIGp1c3Qgc2NoZWR1bGVcbiAgICAvLyB0aGF0IG1hbnkgbWlsbGlzZWNvbmRzIChvciBzY2hlZHVsZXItc3BlY2lmaWVkIHVuaXQgc2l6ZSkgaW4gdGhlIGZ1dHVyZS5cbiAgICBsZXQgZHVlID0gaXNWYWxpZERhdGUoZHVlVGltZSkgPyArZHVlVGltZSAtIHNjaGVkdWxlciEubm93KCkgOiBkdWVUaW1lO1xuXG4gICAgaWYgKGR1ZSA8IDApIHtcbiAgICAgIC8vIEVuc3VyZSB3ZSBkb24ndCBzY2hlZHVsZSBpbiB0aGUgZnV0dXJlLlxuICAgICAgZHVlID0gMDtcbiAgICB9XG5cbiAgICAvLyBUaGUgaW5jcmVtZW50aW5nIHZhbHVlIHdlIGVtaXQuXG4gICAgbGV0IG4gPSAwO1xuXG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyLlxuICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAvLyBFbWl0IHRoZSBuZXh0IHZhbHVlIGFuZCBpbmNyZW1lbnQuXG4gICAgICAgIHN1YnNjcmliZXIubmV4dChuKyspO1xuXG4gICAgICAgIGlmICgwIDw9IGludGVydmFsRHVyYXRpb24pIHtcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgaW50ZXJ2YWwgYWZ0ZXIgdGhlIGluaXRpYWwgdGltZXIsXG4gICAgICAgICAgLy8gcmVzY2hlZHVsZSB3aXRoIHRoZSBwZXJpb2QuXG4gICAgICAgICAgdGhpcy5zY2hlZHVsZSh1bmRlZmluZWQsIGludGVydmFsRHVyYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFdlIGRpZG4ndCBoYXZlIGFuIGludGVydmFsLiBTbyBqdXN0IGNvbXBsZXRlLlxuICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIGR1ZSk7XG4gIH0pO1xufVxuIiwgImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IE9ic2VydmFibGVJbnB1dCwgT2JzZXJ2YWJsZUlucHV0VHVwbGUsIFNjaGVkdWxlckxpa2UgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBtZXJnZUFsbCB9IGZyb20gJy4uL29wZXJhdG9ycy9tZXJnZUFsbCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4vZW1wdHknO1xuaW1wb3J0IHsgcG9wTnVtYmVyLCBwb3BTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZTxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPiguLi5zb3VyY2VzOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT5dKTogT2JzZXJ2YWJsZTxBW251bWJlcl0+O1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlPEEgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10+KC4uLnNvdXJjZXNBbmRDb25jdXJyZW5jeTogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+LCBudW1iZXI/XSk6IE9ic2VydmFibGU8QVtudW1iZXJdPjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHNjaGVkdWxlcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGBzY2hlZHVsZWRgIGFuZCBgbWVyZ2VBbGxgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZTxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4uc291cmNlc0FuZFNjaGVkdWxlcjogWy4uLk9ic2VydmFibGVJbnB1dFR1cGxlPEE+LCBTY2hlZHVsZXJMaWtlP11cbik6IE9ic2VydmFibGU8QVtudW1iZXJdPjtcbi8qKiBAZGVwcmVjYXRlZCBUaGUgYHNjaGVkdWxlcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGBzY2hlZHVsZWRgIGFuZCBgbWVyZ2VBbGxgLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9zY2hlZHVsZXItYXJndW1lbnQgKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZTxBIGV4dGVuZHMgcmVhZG9ubHkgdW5rbm93bltdPihcbiAgLi4uc291cmNlc0FuZENvbmN1cnJlbmN5QW5kU2NoZWR1bGVyOiBbLi4uT2JzZXJ2YWJsZUlucHV0VHVwbGU8QT4sIG51bWJlcj8sIFNjaGVkdWxlckxpa2U/XVxuKTogT2JzZXJ2YWJsZTxBW251bWJlcl0+O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gb3V0cHV0IE9ic2VydmFibGUgd2hpY2ggY29uY3VycmVudGx5IGVtaXRzIGFsbCB2YWx1ZXMgZnJvbSBldmVyeVxuICogZ2l2ZW4gaW5wdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+RmxhdHRlbnMgbXVsdGlwbGUgT2JzZXJ2YWJsZXMgdG9nZXRoZXIgYnkgYmxlbmRpbmdcbiAqIHRoZWlyIHZhbHVlcyBpbnRvIG9uZSBPYnNlcnZhYmxlLjwvc3Bhbj5cbiAqXG4gKiAhW10obWVyZ2UucG5nKVxuICpcbiAqIGBtZXJnZWAgc3Vic2NyaWJlcyB0byBlYWNoIGdpdmVuIGlucHV0IE9ic2VydmFibGUgKGFzIGFyZ3VtZW50cyksIGFuZCBzaW1wbHlcbiAqIGZvcndhcmRzICh3aXRob3V0IGRvaW5nIGFueSB0cmFuc2Zvcm1hdGlvbikgYWxsIHRoZSB2YWx1ZXMgZnJvbSBhbGwgdGhlIGlucHV0XG4gKiBPYnNlcnZhYmxlcyB0byB0aGUgb3V0cHV0IE9ic2VydmFibGUuIFRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBvbmx5IGNvbXBsZXRlc1xuICogb25jZSBhbGwgaW5wdXQgT2JzZXJ2YWJsZXMgaGF2ZSBjb21wbGV0ZWQuIEFueSBlcnJvciBkZWxpdmVyZWQgYnkgYW4gaW5wdXRcbiAqIE9ic2VydmFibGUgd2lsbCBiZSBpbW1lZGlhdGVseSBlbWl0dGVkIG9uIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZS5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIE1lcmdlIHRvZ2V0aGVyIHR3byBPYnNlcnZhYmxlczogMXMgaW50ZXJ2YWwgYW5kIGNsaWNrc1xuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBtZXJnZSwgZnJvbUV2ZW50LCBpbnRlcnZhbCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IGNsaWNrcyA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCB0aW1lciA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgY2xpY2tzT3JUaW1lciA9IG1lcmdlKGNsaWNrcywgdGltZXIpO1xuICogY2xpY2tzT3JUaW1lci5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZyh4KSk7XG4gKlxuICogLy8gUmVzdWx0cyBpbiB0aGUgZm9sbG93aW5nOlxuICogLy8gdGltZXIgd2lsbCBlbWl0IGFzY2VuZGluZyB2YWx1ZXMsIG9uZSBldmVyeSBzZWNvbmQoMTAwMG1zKSB0byBjb25zb2xlXG4gKiAvLyBjbGlja3MgbG9ncyBNb3VzZUV2ZW50cyB0byBjb25zb2xlIGV2ZXJ5IHRpbWUgdGhlIFwiZG9jdW1lbnRcIiBpcyBjbGlja2VkXG4gKiAvLyBTaW5jZSB0aGUgdHdvIHN0cmVhbXMgYXJlIG1lcmdlZCB5b3Ugc2VlIHRoZXNlIGhhcHBlbmluZ1xuICogLy8gYXMgdGhleSBvY2N1ci5cbiAqIGBgYFxuICpcbiAqIE1lcmdlIHRvZ2V0aGVyIDMgT2JzZXJ2YWJsZXMsIGJ1dCBydW4gb25seSAyIGNvbmN1cnJlbnRseVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgdGFrZSwgbWVyZ2UgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCB0aW1lcjEgPSBpbnRlcnZhbCgxMDAwKS5waXBlKHRha2UoMTApKTtcbiAqIGNvbnN0IHRpbWVyMiA9IGludGVydmFsKDIwMDApLnBpcGUodGFrZSg2KSk7XG4gKiBjb25zdCB0aW1lcjMgPSBpbnRlcnZhbCg1MDApLnBpcGUodGFrZSgxMCkpO1xuICpcbiAqIGNvbnN0IGNvbmN1cnJlbnQgPSAyOyAvLyB0aGUgYXJndW1lbnRcbiAqIGNvbnN0IG1lcmdlZCA9IG1lcmdlKHRpbWVyMSwgdGltZXIyLCB0aW1lcjMsIGNvbmN1cnJlbnQpO1xuICogbWVyZ2VkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqXG4gKiAvLyBSZXN1bHRzIGluIHRoZSBmb2xsb3dpbmc6XG4gKiAvLyAtIEZpcnN0IHRpbWVyMSBhbmQgdGltZXIyIHdpbGwgcnVuIGNvbmN1cnJlbnRseVxuICogLy8gLSB0aW1lcjEgd2lsbCBlbWl0IGEgdmFsdWUgZXZlcnkgMTAwMG1zIGZvciAxMCBpdGVyYXRpb25zXG4gKiAvLyAtIHRpbWVyMiB3aWxsIGVtaXQgYSB2YWx1ZSBldmVyeSAyMDAwbXMgZm9yIDYgaXRlcmF0aW9uc1xuICogLy8gLSBhZnRlciB0aW1lcjEgaGl0cyBpdHMgbWF4IGl0ZXJhdGlvbiwgdGltZXIyIHdpbGxcbiAqIC8vICAgY29udGludWUsIGFuZCB0aW1lcjMgd2lsbCBzdGFydCB0byBydW4gY29uY3VycmVudGx5IHdpdGggdGltZXIyXG4gKiAvLyAtIHdoZW4gdGltZXIyIGhpdHMgaXRzIG1heCBpdGVyYXRpb24gaXQgdGVybWluYXRlcywgYW5kXG4gKiAvLyAgIHRpbWVyMyB3aWxsIGNvbnRpbnVlIHRvIGVtaXQgYSB2YWx1ZSBldmVyeSA1MDBtcyB1bnRpbCBpdCBpcyBjb21wbGV0ZVxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgbWVyZ2VBbGx9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcH1cbiAqIEBzZWUge0BsaW5rIG1lcmdlTWFwVG99XG4gKiBAc2VlIHtAbGluayBtZXJnZVNjYW59XG4gKlxuICogQHBhcmFtIHsuLi5PYnNlcnZhYmxlSW5wdXR9IG9ic2VydmFibGVzIElucHV0IE9ic2VydmFibGVzIHRvIG1lcmdlIHRvZ2V0aGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW50PUluZmluaXR5XSBNYXhpbXVtIG51bWJlciBvZiBpbnB1dFxuICogT2JzZXJ2YWJsZXMgYmVpbmcgc3Vic2NyaWJlZCB0byBjb25jdXJyZW50bHkuXG4gKiBAcGFyYW0ge1NjaGVkdWxlckxpa2V9IFtzY2hlZHVsZXI9bnVsbF0gVGhlIHtAbGluayBTY2hlZHVsZXJMaWtlfSB0byB1c2UgZm9yIG1hbmFnaW5nXG4gKiBjb25jdXJyZW5jeSBvZiBpbnB1dCBPYnNlcnZhYmxlcy5cbiAqIEByZXR1cm4ge09ic2VydmFibGV9IGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBpdGVtcyB0aGF0IGFyZSB0aGUgcmVzdWx0IG9mXG4gKiBldmVyeSBpbnB1dCBPYnNlcnZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoLi4uYXJnczogKE9ic2VydmFibGVJbnB1dDx1bmtub3duPiB8IG51bWJlciB8IFNjaGVkdWxlckxpa2UpW10pOiBPYnNlcnZhYmxlPHVua25vd24+IHtcbiAgY29uc3Qgc2NoZWR1bGVyID0gcG9wU2NoZWR1bGVyKGFyZ3MpO1xuICBjb25zdCBjb25jdXJyZW50ID0gcG9wTnVtYmVyKGFyZ3MsIEluZmluaXR5KTtcbiAgY29uc3Qgc291cmNlcyA9IGFyZ3MgYXMgT2JzZXJ2YWJsZUlucHV0PHVua25vd24+W107XG4gIHJldHVybiAhc291cmNlcy5sZW5ndGhcbiAgICA/IC8vIE5vIHNvdXJjZSBwcm92aWRlZFxuICAgICAgRU1QVFlcbiAgICA6IHNvdXJjZXMubGVuZ3RoID09PSAxXG4gICAgPyAvLyBPbmUgc291cmNlPyBKdXN0IHJldHVybiBpdC5cbiAgICAgIGlubmVyRnJvbShzb3VyY2VzWzBdKVxuICAgIDogLy8gTWVyZ2UgYWxsIHNvdXJjZXNcbiAgICAgIG1lcmdlQWxsKGNvbmN1cnJlbnQpKGZyb20oc291cmNlcywgc2NoZWR1bGVyKSk7XG59XG4iLCAiaW1wb3J0IHsgT3BlcmF0b3JGdW5jdGlvbiwgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLCBUcnV0aHlUeXBlc09mIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5cbi8qKiBAZGVwcmVjYXRlZCBVc2UgYSBjbG9zdXJlIGluc3RlYWQgb2YgYSBgdGhpc0FyZ2AuIFNpZ25hdHVyZXMgYWNjZXB0aW5nIGEgYHRoaXNBcmdgIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXI8VCwgUyBleHRlbmRzIFQsIEE+KHByZWRpY2F0ZTogKHRoaXM6IEEsIHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiB2YWx1ZSBpcyBTLCB0aGlzQXJnOiBBKTogT3BlcmF0b3JGdW5jdGlvbjxULCBTPjtcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXI8VCwgUyBleHRlbmRzIFQ+KHByZWRpY2F0ZTogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiB2YWx1ZSBpcyBTKTogT3BlcmF0b3JGdW5jdGlvbjxULCBTPjtcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXI8VD4ocHJlZGljYXRlOiBCb29sZWFuQ29uc3RydWN0b3IpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFRydXRoeVR5cGVzT2Y8VD4+O1xuLyoqIEBkZXByZWNhdGVkIFVzZSBhIGNsb3N1cmUgaW5zdGVhZCBvZiBhIGB0aGlzQXJnYC4gU2lnbmF0dXJlcyBhY2NlcHRpbmcgYSBgdGhpc0FyZ2Agd2lsbCBiZSByZW1vdmVkIGluIHY4LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcjxULCBBPihwcmVkaWNhdGU6ICh0aGlzOiBBLCB2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiwgdGhpc0FyZzogQSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXI8VD4ocHJlZGljYXRlOiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IGJvb2xlYW4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5cbi8qKlxuICogRmlsdGVyIGl0ZW1zIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIGJ5IG9ubHkgZW1pdHRpbmcgdGhvc2UgdGhhdFxuICogc2F0aXNmeSBhIHNwZWNpZmllZCBwcmVkaWNhdGUuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPkxpa2VcbiAqIFtBcnJheS5wcm90b3R5cGUuZmlsdGVyKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZpbHRlciksXG4gKiBpdCBvbmx5IGVtaXRzIGEgdmFsdWUgZnJvbSB0aGUgc291cmNlIGlmIGl0IHBhc3NlcyBhIGNyaXRlcmlvbiBmdW5jdGlvbi48L3NwYW4+XG4gKlxuICogIVtdKGZpbHRlci5wbmcpXG4gKlxuICogU2ltaWxhciB0byB0aGUgd2VsbC1rbm93biBgQXJyYXkucHJvdG90eXBlLmZpbHRlcmAgbWV0aG9kLCB0aGlzIG9wZXJhdG9yXG4gKiB0YWtlcyB2YWx1ZXMgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUsIHBhc3NlcyB0aGVtIHRocm91Z2ggYSBgcHJlZGljYXRlYFxuICogZnVuY3Rpb24gYW5kIG9ubHkgZW1pdHMgdGhvc2UgdmFsdWVzIHRoYXQgeWllbGRlZCBgdHJ1ZWAuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEVtaXQgb25seSBjbGljayBldmVudHMgd2hvc2UgdGFyZ2V0IHdhcyBhIERJViBlbGVtZW50XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgZmlsdGVyIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gKiBkaXYuc3R5bGUuY3NzVGV4dCA9ICd3aWR0aDogMjAwcHg7IGhlaWdodDogMjAwcHg7IGJhY2tncm91bmQ6ICMwOWM7JztcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbiAqXG4gKiBjb25zdCBjbGlja3MgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycpO1xuICogY29uc3QgY2xpY2tzT25EaXZzID0gY2xpY2tzLnBpcGUoZmlsdGVyKGV2ID0+ICg8SFRNTEVsZW1lbnQ+ZXYudGFyZ2V0KS50YWdOYW1lID09PSAnRElWJykpO1xuICogY2xpY2tzT25EaXZzLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGRpc3RpbmN0fVxuICogQHNlZSB7QGxpbmsgZGlzdGluY3RVbnRpbENoYW5nZWR9XG4gKiBAc2VlIHtAbGluayBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZH1cbiAqIEBzZWUge0BsaW5rIGlnbm9yZUVsZW1lbnRzfVxuICogQHNlZSB7QGxpbmsgcGFydGl0aW9ufVxuICogQHNlZSB7QGxpbmsgc2tpcH1cbiAqXG4gKiBAcGFyYW0gcHJlZGljYXRlIEEgZnVuY3Rpb24gdGhhdFxuICogZXZhbHVhdGVzIGVhY2ggdmFsdWUgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUuIElmIGl0IHJldHVybnMgYHRydWVgLFxuICogdGhlIHZhbHVlIGlzIGVtaXR0ZWQsIGlmIGBmYWxzZWAgdGhlIHZhbHVlIGlzIG5vdCBwYXNzZWQgdG8gdGhlIG91dHB1dFxuICogT2JzZXJ2YWJsZS4gVGhlIGBpbmRleGAgcGFyYW1ldGVyIGlzIHRoZSBudW1iZXIgYGlgIGZvciB0aGUgaS10aCBzb3VyY2VcbiAqIGVtaXNzaW9uIHRoYXQgaGFzIGhhcHBlbmVkIHNpbmNlIHRoZSBzdWJzY3JpcHRpb24sIHN0YXJ0aW5nIGZyb20gdGhlIG51bWJlclxuICogYDBgLlxuICogQHBhcmFtIHRoaXNBcmcgQW4gb3B0aW9uYWwgYXJndW1lbnQgdG8gZGV0ZXJtaW5lIHRoZSB2YWx1ZSBvZiBgdGhpc2BcbiAqIGluIHRoZSBgcHJlZGljYXRlYCBmdW5jdGlvbi5cbiAqIEByZXR1cm4gQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIGl0ZW1zIGZyb20gdGhlXG4gKiBzb3VyY2UgT2JzZXJ2YWJsZSB0aGF0IHNhdGlzZnkgdGhlIHNwZWNpZmllZCBgcHJlZGljYXRlYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcjxUPihwcmVkaWNhdGU6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbiwgdGhpc0FyZz86IGFueSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAvLyBBbiBpbmRleCBwYXNzZWQgdG8gb3VyIHByZWRpY2F0ZSBmdW5jdGlvbiBvbiBlYWNoIGNhbGwuXG4gICAgbGV0IGluZGV4ID0gMDtcblxuICAgIC8vIFN1YnNjcmliZSB0byB0aGUgc291cmNlLCBhbGwgZXJyb3JzIGFuZCBjb21wbGV0aW9ucyBhcmVcbiAgICAvLyBmb3J3YXJkZWQgdG8gdGhlIGNvbnN1bWVyLlxuICAgIHNvdXJjZS5zdWJzY3JpYmUoXG4gICAgICAvLyBDYWxsIHRoZSBwcmVkaWNhdGUgd2l0aCB0aGUgYXBwcm9wcmlhdGUgYHRoaXNgIGNvbnRleHQsXG4gICAgICAvLyBpZiB0aGUgcHJlZGljYXRlIHJldHVybnMgYHRydWVgLCB0aGVuIHNlbmQgdGhlIHZhbHVlXG4gICAgICAvLyB0byB0aGUgY29uc3VtZXIuXG4gICAgICBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgKHZhbHVlKSA9PiBwcmVkaWNhdGUuY2FsbCh0aGlzQXJnLCB2YWx1ZSwgaW5kZXgrKykgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKSlcbiAgICApO1xuICB9KTtcbn1cbiIsICJpbXBvcnQgeyBPcGVyYXRvckZ1bmN0aW9uIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcblxuLyoqXG4gKiBJZ25vcmVzIGFsbCBpdGVtcyBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBhbmQgb25seSBwYXNzZXMgY2FsbHMgb2YgYGNvbXBsZXRlYCBvciBgZXJyb3JgLlxuICpcbiAqICFbXShpZ25vcmVFbGVtZW50cy5wbmcpXG4gKlxuICogVGhlIGBpZ25vcmVFbGVtZW50c2Agb3BlcmF0b3Igc3VwcHJlc3NlcyBhbGwgaXRlbXMgZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUsXG4gKiBidXQgYWxsb3dzIGl0cyB0ZXJtaW5hdGlvbiBub3RpZmljYXRpb24gKGVpdGhlciBgZXJyb3JgIG9yIGBjb21wbGV0ZWApIHRvIHBhc3MgdGhyb3VnaCB1bmNoYW5nZWQuXG4gKlxuICogSWYgeW91IGRvIG5vdCBjYXJlIGFib3V0IHRoZSBpdGVtcyBiZWluZyBlbWl0dGVkIGJ5IGFuIE9ic2VydmFibGUsIGJ1dCB5b3UgZG8gd2FudCB0byBiZSBub3RpZmllZFxuICogd2hlbiBpdCBjb21wbGV0ZXMgb3Igd2hlbiBpdCB0ZXJtaW5hdGVzIHdpdGggYW4gZXJyb3IsIHlvdSBjYW4gYXBwbHkgdGhlIGBpZ25vcmVFbGVtZW50c2Agb3BlcmF0b3JcbiAqIHRvIHRoZSBPYnNlcnZhYmxlLCB3aGljaCB3aWxsIGVuc3VyZSB0aGF0IGl0IHdpbGwgbmV2ZXIgY2FsbCBpdHMgb2JzZXJ2ZXJzXHUyMDE5IGBuZXh0YCBoYW5kbGVycy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogSWdub3JlIGFsbCBgbmV4dGAgZW1pc3Npb25zIGZyb20gdGhlIHNvdXJjZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgaWdub3JlRWxlbWVudHMgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZigneW91JywgJ3RhbGtpbmcnLCAndG8nLCAnbWUnKVxuICogICAucGlwZShpZ25vcmVFbGVtZW50cygpKVxuICogICAuc3Vic2NyaWJlKHtcbiAqICAgICBuZXh0OiB3b3JkID0+IGNvbnNvbGUubG9nKHdvcmQpLFxuICogICAgIGVycm9yOiBlcnIgPT4gY29uc29sZS5sb2coJ2Vycm9yOicsIGVyciksXG4gKiAgICAgY29tcGxldGU6ICgpID0+IGNvbnNvbGUubG9nKCd0aGUgZW5kJyksXG4gKiAgIH0pO1xuICpcbiAqIC8vIHJlc3VsdDpcbiAqIC8vICd0aGUgZW5kJ1xuICogYGBgXG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBlbXB0eSBPYnNlcnZhYmxlIHRoYXQgb25seSBjYWxsc1xuICogYGNvbXBsZXRlYCBvciBgZXJyb3JgLCBiYXNlZCBvbiB3aGljaCBvbmUgaXMgY2FsbGVkIGJ5IHRoZSBzb3VyY2VcbiAqIE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpZ25vcmVFbGVtZW50cygpOiBPcGVyYXRvckZ1bmN0aW9uPHVua25vd24sIG5ldmVyPiB7XG4gIHJldHVybiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBub29wKSk7XG4gIH0pO1xufVxuIiwgImltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZUlucHV0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcbmltcG9ydCB7IHRpbWVyIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS90aW1lcic7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5cbi8qKlxuICogVGhlIHtAbGluayByZXRyeX0gb3BlcmF0b3IgY29uZmlndXJhdGlvbiBvYmplY3QuIGByZXRyeWAgZWl0aGVyIGFjY2VwdHMgYSBgbnVtYmVyYFxuICogb3IgYW4gb2JqZWN0IGRlc2NyaWJlZCBieSB0aGlzIGludGVyZmFjZS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXRyeUNvbmZpZyB7XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgdG8gcmV0cnkuIElmIGBjb3VudGAgaXMgb21pdHRlZCwgYHJldHJ5YCB3aWxsIHRyeSB0b1xuICAgKiByZXN1YnNjcmliZSBvbiBlcnJvcnMgaW5maW5pdGUgbnVtYmVyIG9mIHRpbWVzLlxuICAgKi9cbiAgY291bnQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBiZWZvcmUgcmV0cnlpbmcsIE9SIGEgZnVuY3Rpb24gdG9cbiAgICogcmV0dXJuIGEgbm90aWZpZXIgZm9yIGRlbGF5aW5nLiBJZiBhIGZ1bmN0aW9uIGlzIGdpdmVuLCB0aGF0IGZ1bmN0aW9uIHNob3VsZFxuICAgKiByZXR1cm4gYSBub3RpZmllciB0aGF0LCB3aGVuIGl0IGVtaXRzIHdpbGwgcmV0cnkgdGhlIHNvdXJjZS4gSWYgdGhlIG5vdGlmaWVyXG4gICAqIGNvbXBsZXRlcyBfd2l0aG91dF8gZW1pdHRpbmcsIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB3aWxsIGNvbXBsZXRlIHdpdGhvdXQgZXJyb3IsXG4gICAqIGlmIHRoZSBub3RpZmllciBlcnJvcnMsIHRoZSBlcnJvciB3aWxsIGJlIHB1c2hlZCB0byB0aGUgcmVzdWx0LlxuICAgKi9cbiAgZGVsYXk/OiBudW1iZXIgfCAoKGVycm9yOiBhbnksIHJldHJ5Q291bnQ6IG51bWJlcikgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pO1xuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdG8gcmVzZXQgdGhlIHJldHJ5IGNvdW50ZXIgd2hlbiB0aGUgcmV0cmllZCBzdWJzY3JpcHRpb25cbiAgICogZW1pdHMgaXRzIGZpcnN0IHZhbHVlLlxuICAgKi9cbiAgcmVzZXRPblN1Y2Nlc3M/OiBib29sZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmV0cnk8VD4oY291bnQ/OiBudW1iZXIpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5leHBvcnQgZnVuY3Rpb24gcmV0cnk8VD4oY29uZmlnOiBSZXRyeUNvbmZpZyk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBtaXJyb3JzIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSB3aXRoIHRoZSBleGNlcHRpb24gb2YgYW4gYGVycm9yYC5cbiAqXG4gKiBJZiB0aGUgc291cmNlIE9ic2VydmFibGUgY2FsbHMgYGVycm9yYCwgdGhpcyBtZXRob2Qgd2lsbCByZXN1YnNjcmliZSB0byB0aGUgc291cmNlIE9ic2VydmFibGUgZm9yIGEgbWF4aW11bSBvZlxuICogYGNvdW50YCByZXN1YnNjcmlwdGlvbnMgcmF0aGVyIHRoYW4gcHJvcGFnYXRpbmcgdGhlIGBlcnJvcmAgY2FsbC5cbiAqXG4gKiAhW10ocmV0cnkucG5nKVxuICpcbiAqIFRoZSBudW1iZXIgb2YgcmV0cmllcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBgY291bnRgIHBhcmFtZXRlci4gSXQgY2FuIGJlIHNldCBlaXRoZXIgYnkgcGFzc2luZyBhIG51bWJlciB0b1xuICogYHJldHJ5YCBmdW5jdGlvbiBvciBieSBzZXR0aW5nIGBjb3VudGAgcHJvcGVydHkgd2hlbiBgcmV0cnlgIGlzIGNvbmZpZ3VyZWQgdXNpbmcge0BsaW5rIFJldHJ5Q29uZmlnfS4gSWZcbiAqIGBjb3VudGAgaXMgb21pdHRlZCwgYHJldHJ5YCB3aWxsIHRyeSB0byByZXN1YnNjcmliZSBvbiBlcnJvcnMgaW5maW5pdGUgbnVtYmVyIG9mIHRpbWVzLlxuICpcbiAqIEFueSBhbmQgYWxsIGl0ZW1zIGVtaXR0ZWQgYnkgdGhlIHNvdXJjZSBPYnNlcnZhYmxlIHdpbGwgYmUgZW1pdHRlZCBieSB0aGUgcmVzdWx0aW5nIE9ic2VydmFibGUsIGV2ZW4gdGhvc2VcbiAqIGVtaXR0ZWQgZHVyaW5nIGZhaWxlZCBzdWJzY3JpcHRpb25zLiBGb3IgZXhhbXBsZSwgaWYgYW4gT2JzZXJ2YWJsZSBmYWlscyBhdCBmaXJzdCBidXQgZW1pdHMgYFsxLCAyXWAgdGhlblxuICogc3VjY2VlZHMgdGhlIHNlY29uZCB0aW1lIGFuZCBlbWl0czogYFsxLCAyLCAzLCA0LCA1LCBjb21wbGV0ZV1gIHRoZW4gdGhlIGNvbXBsZXRlIHN0cmVhbSBvZiBlbWlzc2lvbnMgYW5kXG4gKiBub3RpZmljYXRpb25zIHdvdWxkIGJlOiBgWzEsIDIsIDEsIDIsIDMsIDQsIDUsIGNvbXBsZXRlXWAuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBpbnRlcnZhbCwgbWVyZ2VNYXAsIHRocm93RXJyb3IsIG9mLCByZXRyeSB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IGludGVydmFsKDEwMDApO1xuICogY29uc3QgcmVzdWx0ID0gc291cmNlLnBpcGUoXG4gKiAgIG1lcmdlTWFwKHZhbCA9PiB2YWwgPiA1ID8gdGhyb3dFcnJvcigoKSA9PiAnRXJyb3IhJykgOiBvZih2YWwpKSxcbiAqICAgcmV0cnkoMikgLy8gcmV0cnkgMiB0aW1lcyBvbiBlcnJvclxuICogKTtcbiAqXG4gKiByZXN1bHQuc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogdmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpLFxuICogICBlcnJvcjogZXJyID0+IGNvbnNvbGUubG9nKGAkeyBlcnIgfTogUmV0cmllZCAyIHRpbWVzIHRoZW4gcXVpdCFgKVxuICogfSk7XG4gKlxuICogLy8gT3V0cHV0OlxuICogLy8gMC4uMS4uMi4uMy4uNC4uNS4uXG4gKiAvLyAwLi4xLi4yLi4zLi40Li41Li5cbiAqIC8vIDAuLjEuLjIuLjMuLjQuLjUuLlxuICogLy8gJ0Vycm9yITogUmV0cmllZCAyIHRpbWVzIHRoZW4gcXVpdCEnXG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayByZXRyeVdoZW59XG4gKlxuICogQHBhcmFtIGNvbmZpZ09yQ291bnQgLSBFaXRoZXIgbnVtYmVyIG9mIHJldHJ5IGF0dGVtcHRzIGJlZm9yZSBmYWlsaW5nIG9yIGEge0BsaW5rIFJldHJ5Q29uZmlnfSBvYmplY3QuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCB3aWxsIHJlc3Vic2NyaWJlIHRvIHRoZVxuICogc291cmNlIHN0cmVhbSB3aGVuIHRoZSBzb3VyY2Ugc3RyZWFtIGVycm9ycywgYXQgbW9zdCBgY291bnRgIHRpbWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmV0cnk8VD4oY29uZmlnT3JDb3VudDogbnVtYmVyIHwgUmV0cnlDb25maWcgPSBJbmZpbml0eSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIGxldCBjb25maWc6IFJldHJ5Q29uZmlnO1xuICBpZiAoY29uZmlnT3JDb3VudCAmJiB0eXBlb2YgY29uZmlnT3JDb3VudCA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25maWcgPSBjb25maWdPckNvdW50O1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZyA9IHtcbiAgICAgIGNvdW50OiBjb25maWdPckNvdW50IGFzIG51bWJlcixcbiAgICB9O1xuICB9XG4gIGNvbnN0IHsgY291bnQgPSBJbmZpbml0eSwgZGVsYXksIHJlc2V0T25TdWNjZXNzOiByZXNldE9uU3VjY2VzcyA9IGZhbHNlIH0gPSBjb25maWc7XG5cbiAgcmV0dXJuIGNvdW50IDw9IDBcbiAgICA/IGlkZW50aXR5XG4gICAgOiBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAgICAgbGV0IHNvRmFyID0gMDtcbiAgICAgICAgbGV0IGlubmVyU3ViOiBTdWJzY3JpcHRpb24gfCBudWxsO1xuICAgICAgICBjb25zdCBzdWJzY3JpYmVGb3JSZXRyeSA9ICgpID0+IHtcbiAgICAgICAgICBsZXQgc3luY1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgaW5uZXJTdWIgPSBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgICAgICAgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSByZXNldHRpbmcgb24gc3VjY2Vzc1xuICAgICAgICAgICAgICAgIGlmIChyZXNldE9uU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgc29GYXIgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAvLyBDb21wbGV0aW9ucyBhcmUgcGFzc2VkIHRocm91Z2ggdG8gY29uc3VtZXIuXG4gICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzb0ZhcisrIDwgY291bnQpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBzdGlsbCB1bmRlciBvdXIgcmV0cnkgY291bnRcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3ViID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJTdWIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIGlubmVyU3ViID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVGb3JSZXRyeSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHN5bmNVbnN1YiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgIGlmIChkZWxheSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIHNwZWNpZmllZCBhIHJldHJ5IGRlbGF5LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGV5IGdhdmUgdXMgYSBudW1iZXIsIHVzZSBhIHRpbWVyLCBvdGhlcndpc2UsIGl0J3MgYSBmdW5jdGlvbixcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHdlJ3JlIGdvaW5nIHRvIGNhbGwgaXQgdG8gZ2V0IGEgbm90aWZpZXIuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmaWVyID0gdHlwZW9mIGRlbGF5ID09PSAnbnVtYmVyJyA/IHRpbWVyKGRlbGF5KSA6IGlubmVyRnJvbShkZWxheShlcnIsIHNvRmFyKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmaWVyU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIHdlIGdldCB0aGUgZmlyc3Qgbm90aWZpY2F0aW9uLCB3ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdW5zdWJzY3JpYmUgZnJvbSB0aGUgbm90aWZpZXIsIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCBhbnltb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgd2UgcmVzdWJzY3JpYmUgdG8gdGhlIHNvdXJjZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGlmaWVyU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWIoKTtcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBub3RpZmllciBjb21wbGV0ZWQgd2l0aG91dCBlbWl0dGluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBhdXRob3IgaXMgdGVsbGluZyB1cyB0aGV5IHdhbnQgdG8gY29tcGxldGUuXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBub3RpZmllci5zdWJzY3JpYmUobm90aWZpZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIHdhcyBubyBub3RpZmllciBnaXZlbi4gSnVzdCByZXN1YiBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgICAgICAgICAgcmVzdWIoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gV2UncmUgcGFzdCBvdXIgbWF4aW11bSBudW1iZXIgb2YgcmV0cmllcy5cbiAgICAgICAgICAgICAgICAgIC8vIEp1c3Qgc2VuZCBhbG9uZyB0aGUgZXJyb3IuXG4gICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoc3luY1Vuc3ViKSB7XG4gICAgICAgICAgICBpbm5lclN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaW5uZXJTdWIgPSBudWxsO1xuICAgICAgICAgICAgc3Vic2NyaWJlRm9yUmV0cnkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHN1YnNjcmliZUZvclJldHJ5KCk7XG4gICAgICB9KTtcbn1cbiIsICJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi4vU3ViamVjdCc7XG5pbXBvcnQgeyBTYWZlU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgU3ViamVjdExpa2UsIE9ic2VydmFibGVJbnB1dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNoYXJlQ29uZmlnPFQ+IHtcbiAgLyoqXG4gICAqIFRoZSBmYWN0b3J5IHVzZWQgdG8gY3JlYXRlIHRoZSBzdWJqZWN0IHRoYXQgd2lsbCBjb25uZWN0IHRoZSBzb3VyY2Ugb2JzZXJ2YWJsZSB0b1xuICAgKiBtdWx0aWNhc3QgY29uc3VtZXJzLlxuICAgKi9cbiAgY29ubmVjdG9yPzogKCkgPT4gU3ViamVjdExpa2U8VD47XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB3aWxsIHJlc2V0IGludGVybmFsIHN0YXRlIG9uIGVycm9yIGZyb20gc291cmNlIGFuZCByZXR1cm4gdG8gYSBcImNvbGRcIiBzdGF0ZS4gVGhpc1xuICAgKiBhbGxvd3MgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHRvIGJlIFwicmV0cmllZFwiIGluIHRoZSBldmVudCBvZiBhbiBlcnJvci5cbiAgICogSWYgYGZhbHNlYCwgd2hlbiBhbiBlcnJvciBjb21lcyBmcm9tIHRoZSBzb3VyY2UgaXQgd2lsbCBwdXNoIHRoZSBlcnJvciBpbnRvIHRoZSBjb25uZWN0aW5nIHN1YmplY3QsIGFuZCB0aGUgc3ViamVjdFxuICAgKiB3aWxsIHJlbWFpbiB0aGUgY29ubmVjdGluZyBzdWJqZWN0LCBtZWFuaW5nIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSB3aWxsIG5vdCBnbyBcImNvbGRcIiBhZ2FpbiwgYW5kIHN1YnNlcXVlbnQgcmV0cmllc1xuICAgKiBvciByZXN1YnNjcmlwdGlvbnMgd2lsbCByZXN1YnNjcmliZSB0byB0aGF0IHNhbWUgc3ViamVjdC4gSW4gYWxsIGNhc2VzLCBSeEpTIHN1YmplY3RzIHdpbGwgZW1pdCB0aGUgc2FtZSBlcnJvciBhZ2FpbiwgaG93ZXZlclxuICAgKiB7QGxpbmsgUmVwbGF5U3ViamVjdH0gd2lsbCBhbHNvIHB1c2ggaXRzIGJ1ZmZlcmVkIHZhbHVlcyBiZWZvcmUgcHVzaGluZyB0aGUgZXJyb3IuXG4gICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gcGFzcyBhIG5vdGlmaWVyIGZhY3RvcnkgcmV0dXJuaW5nIGFuIGBPYnNlcnZhYmxlSW5wdXRgIGluc3RlYWQgd2hpY2ggZ3JhbnRzIG1vcmUgZmluZS1ncmFpbmVkXG4gICAqIGNvbnRyb2wgb3ZlciBob3cgYW5kIHdoZW4gdGhlIHJlc2V0IHNob3VsZCBoYXBwZW4uIFRoaXMgYWxsb3dzIGJlaGF2aW9ycyBsaWtlIGNvbmRpdGlvbmFsIG9yIGRlbGF5ZWQgcmVzZXRzLlxuICAgKi9cbiAgcmVzZXRPbkVycm9yPzogYm9vbGVhbiB8ICgoZXJyb3I6IGFueSkgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pO1xuICAvKipcbiAgICogSWYgYHRydWVgLCB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgd2lsbCByZXNldCBpbnRlcm5hbCBzdGF0ZSBvbiBjb21wbGV0aW9uIGZyb20gc291cmNlIGFuZCByZXR1cm4gdG8gYSBcImNvbGRcIiBzdGF0ZS4gVGhpc1xuICAgKiBhbGxvd3MgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHRvIGJlIFwicmVwZWF0ZWRcIiBhZnRlciBpdCBpcyBkb25lLlxuICAgKiBJZiBgZmFsc2VgLCB3aGVuIHRoZSBzb3VyY2UgY29tcGxldGVzLCBpdCB3aWxsIHB1c2ggdGhlIGNvbXBsZXRpb24gdGhyb3VnaCB0aGUgY29ubmVjdGluZyBzdWJqZWN0LCBhbmQgdGhlIHN1YmplY3RcbiAgICogd2lsbCByZW1haW4gdGhlIGNvbm5lY3Rpbmcgc3ViamVjdCwgbWVhbmluZyB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgd2lsbCBub3QgZ28gXCJjb2xkXCIgYWdhaW4sIGFuZCBzdWJzZXF1ZW50IHJlcGVhdHNcbiAgICogb3IgcmVzdWJzY3JpcHRpb25zIHdpbGwgcmVzdWJzY3JpYmUgdG8gdGhhdCBzYW1lIHN1YmplY3QuXG4gICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gcGFzcyBhIG5vdGlmaWVyIGZhY3RvcnkgcmV0dXJuaW5nIGFuIGBPYnNlcnZhYmxlSW5wdXRgIGluc3RlYWQgd2hpY2ggZ3JhbnRzIG1vcmUgZmluZS1ncmFpbmVkXG4gICAqIGNvbnRyb2wgb3ZlciBob3cgYW5kIHdoZW4gdGhlIHJlc2V0IHNob3VsZCBoYXBwZW4uIFRoaXMgYWxsb3dzIGJlaGF2aW9ycyBsaWtlIGNvbmRpdGlvbmFsIG9yIGRlbGF5ZWQgcmVzZXRzLlxuICAgKi9cbiAgcmVzZXRPbkNvbXBsZXRlPzogYm9vbGVhbiB8ICgoKSA9PiBPYnNlcnZhYmxlSW5wdXQ8YW55Pik7XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHdoZW4gdGhlIG51bWJlciBvZiBzdWJzY3JpYmVycyB0byB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgcmVhY2hlcyB6ZXJvIGR1ZSB0byB0aG9zZSBzdWJzY3JpYmVycyB1bnN1YnNjcmliaW5nLCB0aGVcbiAgICogaW50ZXJuYWwgc3RhdGUgd2lsbCBiZSByZXNldCBhbmQgdGhlIHJlc3VsdGluZyBvYnNlcnZhYmxlIHdpbGwgcmV0dXJuIHRvIGEgXCJjb2xkXCIgc3RhdGUuIFRoaXMgbWVhbnMgdGhhdCB0aGUgbmV4dFxuICAgKiB0aW1lIHRoZSByZXN1bHRpbmcgb2JzZXJ2YWJsZSBpcyBzdWJzY3JpYmVkIHRvLCBhIG5ldyBzdWJqZWN0IHdpbGwgYmUgY3JlYXRlZCBhbmQgdGhlIHNvdXJjZSB3aWxsIGJlIHN1YnNjcmliZWQgdG9cbiAgICogYWdhaW4uXG4gICAqIElmIGBmYWxzZWAsIHdoZW4gdGhlIG51bWJlciBvZiBzdWJzY3JpYmVycyB0byB0aGUgcmVzdWx0aW5nIG9ic2VydmFibGUgcmVhY2hlcyB6ZXJvIGR1ZSB0byB1bnN1YnNjcmlwdGlvbiwgdGhlIHN1YmplY3RcbiAgICogd2lsbCByZW1haW4gY29ubmVjdGVkIHRvIHRoZSBzb3VyY2UsIGFuZCBuZXcgc3Vic2NyaXB0aW9ucyB0byB0aGUgcmVzdWx0IHdpbGwgYmUgY29ubmVjdGVkIHRocm91Z2ggdGhhdCBzYW1lIHN1YmplY3QuXG4gICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gcGFzcyBhIG5vdGlmaWVyIGZhY3RvcnkgcmV0dXJuaW5nIGFuIGBPYnNlcnZhYmxlSW5wdXRgIGluc3RlYWQgd2hpY2ggZ3JhbnRzIG1vcmUgZmluZS1ncmFpbmVkXG4gICAqIGNvbnRyb2wgb3ZlciBob3cgYW5kIHdoZW4gdGhlIHJlc2V0IHNob3VsZCBoYXBwZW4uIFRoaXMgYWxsb3dzIGJlaGF2aW9ycyBsaWtlIGNvbmRpdGlvbmFsIG9yIGRlbGF5ZWQgcmVzZXRzLlxuICAgKi9cbiAgcmVzZXRPblJlZkNvdW50WmVybz86IGJvb2xlYW4gfCAoKCkgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcmU8VD4oKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuXG5leHBvcnQgZnVuY3Rpb24gc2hhcmU8VD4ob3B0aW9uczogU2hhcmVDb25maWc8VD4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD47XG5cbi8qKlxuICogUmV0dXJucyBhIG5ldyBPYnNlcnZhYmxlIHRoYXQgbXVsdGljYXN0cyAoc2hhcmVzKSB0aGUgb3JpZ2luYWwgT2JzZXJ2YWJsZS4gQXMgbG9uZyBhcyB0aGVyZSBpcyBhdCBsZWFzdCBvbmVcbiAqIFN1YnNjcmliZXIgdGhpcyBPYnNlcnZhYmxlIHdpbGwgYmUgc3Vic2NyaWJlZCBhbmQgZW1pdHRpbmcgZGF0YS4gV2hlbiBhbGwgc3Vic2NyaWJlcnMgaGF2ZSB1bnN1YnNjcmliZWQgaXQgd2lsbFxuICogdW5zdWJzY3JpYmUgZnJvbSB0aGUgc291cmNlIE9ic2VydmFibGUuIEJlY2F1c2UgdGhlIE9ic2VydmFibGUgaXMgbXVsdGljYXN0aW5nIGl0IG1ha2VzIHRoZSBzdHJlYW0gYGhvdGAuXG4gKiBUaGlzIGlzIGFuIGFsaWFzIGZvciBgbXVsdGljYXN0KCgpID0+IG5ldyBTdWJqZWN0KCkpLCByZWZDb3VudCgpYC5cbiAqXG4gKiBUaGUgc3Vic2NyaXB0aW9uIHRvIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBPYnNlcnZhYmxlIGNhbiBiZSByZXNldCAodW5zdWJzY3JpYmUgYW5kIHJlc3Vic2NyaWJlIGZvciBuZXcgc3Vic2NyaWJlcnMpLFxuICogaWYgdGhlIHN1YnNjcmliZXIgY291bnQgdG8gdGhlIHNoYXJlZCBvYnNlcnZhYmxlIGRyb3BzIHRvIDAsIG9yIGlmIHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSBlcnJvcnMgb3IgY29tcGxldGVzLiBJdCBpc1xuICogcG9zc2libGUgdG8gdXNlIG5vdGlmaWVyIGZhY3RvcmllcyBmb3IgdGhlIHJlc2V0cyB0byBhbGxvdyBmb3IgYmVoYXZpb3JzIGxpa2UgY29uZGl0aW9uYWwgb3IgZGVsYXllZCByZXNldHMuIFBsZWFzZVxuICogbm90ZSB0aGF0IHJlc2V0dGluZyBvbiBlcnJvciBvciBjb21wbGV0ZSBvZiB0aGUgc291cmNlIE9ic2VydmFibGUgZG9lcyBub3QgYmVoYXZlIGxpa2UgYSB0cmFuc3BhcmVudCByZXRyeSBvciByZXN0YXJ0XG4gKiBvZiB0aGUgc291cmNlIGJlY2F1c2UgdGhlIGVycm9yIG9yIGNvbXBsZXRlIHdpbGwgYmUgZm9yd2FyZGVkIHRvIGFsbCBzdWJzY3JpYmVycyBhbmQgdGhlaXIgc3Vic2NyaXB0aW9uIHdpbGwgYmVcbiAqIGNsb3NlZC4gT25seSBuZXcgc3Vic2NyaWJlcnMgYWZ0ZXIgYSByZXNldCBvbiBlcnJvciBvciBjb21wbGV0ZSBoYXBwZW5lZCB3aWxsIGNhdXNlIGEgZnJlc2ggc3Vic2NyaXB0aW9uIHRvIHRoZVxuICogc291cmNlLiBUbyBhY2hpZXZlIHRyYW5zcGFyZW50IHJldHJpZXMgb3IgcmVzdGFydHMgcGlwZSB0aGUgc291cmNlIHRocm91Z2ggYXBwcm9wcmlhdGUgb3BlcmF0b3JzIGJlZm9yZSBzaGFyaW5nLlxuICpcbiAqICFbXShzaGFyZS5wbmcpXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEdlbmVyYXRlIG5ldyBtdWx0aWNhc3QgT2JzZXJ2YWJsZSBmcm9tIHRoZSBgc291cmNlYCBPYnNlcnZhYmxlIHZhbHVlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGludGVydmFsLCB0YXAsIG1hcCwgdGFrZSwgc2hhcmUgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBjb25zdCBzb3VyY2UgPSBpbnRlcnZhbCgxMDAwKS5waXBlKFxuICogICB0YXAoeCA9PiBjb25zb2xlLmxvZygnUHJvY2Vzc2luZzogJywgeCkpLFxuICogICBtYXAoeCA9PiB4ICogeCksXG4gKiAgIHRha2UoNiksXG4gKiAgIHNoYXJlKClcbiAqICk7XG4gKlxuICogc291cmNlLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKCdzdWJzY3JpcHRpb24gMTogJywgeCkpO1xuICogc291cmNlLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKCdzdWJzY3JpcHRpb24gMjogJywgeCkpO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyBQcm9jZXNzaW5nOiAwXG4gKiAvLyBzdWJzY3JpcHRpb24gMTogMFxuICogLy8gc3Vic2NyaXB0aW9uIDI6IDBcbiAqIC8vIFByb2Nlc3Npbmc6IDFcbiAqIC8vIHN1YnNjcmlwdGlvbiAxOiAxXG4gKiAvLyBzdWJzY3JpcHRpb24gMjogMVxuICogLy8gUHJvY2Vzc2luZzogMlxuICogLy8gc3Vic2NyaXB0aW9uIDE6IDRcbiAqIC8vIHN1YnNjcmlwdGlvbiAyOiA0XG4gKiAvLyBQcm9jZXNzaW5nOiAzXG4gKiAvLyBzdWJzY3JpcHRpb24gMTogOVxuICogLy8gc3Vic2NyaXB0aW9uIDI6IDlcbiAqIC8vIFByb2Nlc3Npbmc6IDRcbiAqIC8vIHN1YnNjcmlwdGlvbiAxOiAxNlxuICogLy8gc3Vic2NyaXB0aW9uIDI6IDE2XG4gKiAvLyBQcm9jZXNzaW5nOiA1XG4gKiAvLyBzdWJzY3JpcHRpb24gMTogMjVcbiAqIC8vIHN1YnNjcmlwdGlvbiAyOiAyNVxuICogYGBgXG4gKlxuICogIyMgRXhhbXBsZSB3aXRoIG5vdGlmaWVyIGZhY3Rvcnk6IERlbGF5ZWQgcmVzZXRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgaW50ZXJ2YWwsIHRha2UsIHNoYXJlLCB0aW1lciB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHNvdXJjZSA9IGludGVydmFsKDEwMDApLnBpcGUoXG4gKiAgIHRha2UoMyksXG4gKiAgIHNoYXJlKHtcbiAqICAgICByZXNldE9uUmVmQ291bnRaZXJvOiAoKSA9PiB0aW1lcigxMDAwKVxuICogICB9KVxuICogKTtcbiAqXG4gKiBjb25zdCBzdWJzY3JpcHRpb25PbmUgPSBzb3VyY2Uuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coJ3N1YnNjcmlwdGlvbiAxOiAnLCB4KSk7XG4gKiBzZXRUaW1lb3V0KCgpID0+IHN1YnNjcmlwdGlvbk9uZS51bnN1YnNjcmliZSgpLCAxMzAwKTtcbiAqXG4gKiBzZXRUaW1lb3V0KCgpID0+IHNvdXJjZS5zdWJzY3JpYmUoeCA9PiBjb25zb2xlLmxvZygnc3Vic2NyaXB0aW9uIDI6ICcsIHgpKSwgMTcwMCk7XG4gKlxuICogc2V0VGltZW91dCgoKSA9PiBzb3VyY2Uuc3Vic2NyaWJlKHggPT4gY29uc29sZS5sb2coJ3N1YnNjcmlwdGlvbiAzOiAnLCB4KSksIDUwMDApO1xuICpcbiAqIC8vIExvZ3M6XG4gKiAvLyBzdWJzY3JpcHRpb24gMTogIDBcbiAqIC8vIChzdWJzY3JpcHRpb24gMSB1bnN1YnNjcmliZXMgaGVyZSlcbiAqIC8vIChzdWJzY3JpcHRpb24gMiBzdWJzY3JpYmVzIGhlcmUgfjQwMG1zIGxhdGVyLCBzb3VyY2Ugd2FzIG5vdCByZXNldClcbiAqIC8vIHN1YnNjcmlwdGlvbiAyOiAgMVxuICogLy8gc3Vic2NyaXB0aW9uIDI6ICAyXG4gKiAvLyAoc3Vic2NyaXB0aW9uIDIgdW5zdWJzY3JpYmVzIGhlcmUpXG4gKiAvLyAoc3Vic2NyaXB0aW9uIDMgc3Vic2NyaWJlcyBoZXJlIH4yMDAwbXMgbGF0ZXIsIHNvdXJjZSBkaWQgcmVzZXQgYmVmb3JlKVxuICogLy8gc3Vic2NyaXB0aW9uIDM6ICAwXG4gKiAvLyBzdWJzY3JpcHRpb24gMzogIDFcbiAqIC8vIHN1YnNjcmlwdGlvbiAzOiAgMlxuICogYGBgXG4gKlxuICogQHNlZSB7QGxpbmsgc2hhcmVSZXBsYXl9XG4gKlxuICogQHJldHVybiBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbWlycm9ycyB0aGUgc291cmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhcmU8VD4ob3B0aW9uczogU2hhcmVDb25maWc8VD4gPSB7fSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gIGNvbnN0IHsgY29ubmVjdG9yID0gKCkgPT4gbmV3IFN1YmplY3Q8VD4oKSwgcmVzZXRPbkVycm9yID0gdHJ1ZSwgcmVzZXRPbkNvbXBsZXRlID0gdHJ1ZSwgcmVzZXRPblJlZkNvdW50WmVybyA9IHRydWUgfSA9IG9wdGlvbnM7XG4gIC8vIEl0J3MgbmVjZXNzYXJ5IHRvIHVzZSBhIHdyYXBwZXIgaGVyZSwgYXMgdGhlIF9vcGVyYXRvcl8gbXVzdCBiZVxuICAvLyByZWZlcmVudGlhbGx5IHRyYW5zcGFyZW50LiBPdGhlcndpc2UsIGl0IGNhbm5vdCBiZSB1c2VkIGluIGNhbGxzIHRvIHRoZVxuICAvLyBzdGF0aWMgYHBpcGVgIGZ1bmN0aW9uIC0gdG8gY3JlYXRlIGEgcGFydGlhbCBwaXBlbGluZS5cbiAgLy9cbiAgLy8gVGhlIF9vcGVyYXRvciBmdW5jdGlvbl8gLSB0aGUgZnVuY3Rpb24gcmV0dXJuZWQgYnkgdGhlIF9vcGVyYXRvcl8gLSB3aWxsXG4gIC8vIG5vdCBiZSByZWZlcmVudGlhbGx5IHRyYW5zcGFyZW50IC0gYXMgaXQgc2hhcmVzIGl0cyBzb3VyY2UgLSBidXQgdGhlXG4gIC8vIF9vcGVyYXRvciBmdW5jdGlvbl8gaXMgY2FsbGVkIHdoZW4gdGhlIGNvbXBsZXRlIHBpcGVsaW5lIGlzIGNvbXBvc2VkIHZpYSBhXG4gIC8vIGNhbGwgdG8gYSBzb3VyY2Ugb2JzZXJ2YWJsZSdzIGBwaXBlYCBtZXRob2QgLSBub3Qgd2hlbiB0aGUgc3RhdGljIGBwaXBlYFxuICAvLyBmdW5jdGlvbiBpcyBjYWxsZWQuXG4gIHJldHVybiAod3JhcHBlclNvdXJjZSkgPT4ge1xuICAgIGxldCBjb25uZWN0aW9uOiBTYWZlU3Vic2NyaWJlcjxUPiB8IHVuZGVmaW5lZDtcbiAgICBsZXQgcmVzZXRDb25uZWN0aW9uOiBTdWJzY3JpcHRpb24gfCB1bmRlZmluZWQ7XG4gICAgbGV0IHN1YmplY3Q6IFN1YmplY3RMaWtlPFQ+IHwgdW5kZWZpbmVkO1xuICAgIGxldCByZWZDb3VudCA9IDA7XG4gICAgbGV0IGhhc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgIGxldCBoYXNFcnJvcmVkID0gZmFsc2U7XG5cbiAgICBjb25zdCBjYW5jZWxSZXNldCA9ICgpID0+IHtcbiAgICAgIHJlc2V0Q29ubmVjdGlvbj8udW5zdWJzY3JpYmUoKTtcbiAgICAgIHJlc2V0Q29ubmVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8vIFVzZWQgdG8gcmVzZXQgdGhlIGludGVybmFsIHN0YXRlIHRvIGEgXCJjb2xkXCJcbiAgICAvLyBzdGF0ZSwgYXMgdGhvdWdoIGl0IGhhZCBuZXZlciBiZWVuIHN1YnNjcmliZWQgdG8uXG4gICAgY29uc3QgcmVzZXQgPSAoKSA9PiB7XG4gICAgICBjYW5jZWxSZXNldCgpO1xuICAgICAgY29ubmVjdGlvbiA9IHN1YmplY3QgPSB1bmRlZmluZWQ7XG4gICAgICBoYXNDb21wbGV0ZWQgPSBoYXNFcnJvcmVkID0gZmFsc2U7XG4gICAgfTtcbiAgICBjb25zdCByZXNldEFuZFVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgICAgLy8gV2UgbmVlZCB0byBjYXB0dXJlIHRoZSBjb25uZWN0aW9uIGJlZm9yZVxuICAgICAgLy8gd2UgcmVzZXQgKGlmIHdlIG5lZWQgdG8gcmVzZXQpLlxuICAgICAgY29uc3QgY29ubiA9IGNvbm5lY3Rpb247XG4gICAgICByZXNldCgpO1xuICAgICAgY29ubj8udW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIG9wZXJhdGU8VCwgVD4oKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgICAgcmVmQ291bnQrKztcbiAgICAgIGlmICghaGFzRXJyb3JlZCAmJiAhaGFzQ29tcGxldGVkKSB7XG4gICAgICAgIGNhbmNlbFJlc2V0KCk7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgc3ViamVjdCBpZiB3ZSBkb24ndCBoYXZlIG9uZSB5ZXQuIEdyYWIgYSBsb2NhbCByZWZlcmVuY2UgdG9cbiAgICAgIC8vIGl0IGFzIHdlbGwsIHdoaWNoIGF2b2lkcyBub24tbnVsbCBhc3NlcnRpb25zIHdoZW4gdXNpbmcgaXQgYW5kLCBpZiB3ZVxuICAgICAgLy8gY29ubmVjdCB0byBpdCBub3csIHRoZW4gZXJyb3IvY29tcGxldGUgbmVlZCBhIHJlZmVyZW5jZSBhZnRlciBpdCB3YXNcbiAgICAgIC8vIHJlc2V0LlxuICAgICAgY29uc3QgZGVzdCA9IChzdWJqZWN0ID0gc3ViamVjdCA/PyBjb25uZWN0b3IoKSk7XG5cbiAgICAgIC8vIEFkZCB0aGUgZmluYWxpemF0aW9uIGRpcmVjdGx5IHRvIHRoZSBzdWJzY3JpYmVyIC0gaW5zdGVhZCBvZiByZXR1cm5pbmcgaXQgLVxuICAgICAgLy8gc28gdGhhdCB0aGUgaGFuZGxpbmcgb2YgdGhlIHN1YnNjcmliZXIncyB1bnN1YnNjcmlwdGlvbiB3aWxsIGJlIHdpcmVkXG4gICAgICAvLyB1cCBfYmVmb3JlXyB0aGUgc3Vic2NyaXB0aW9uIHRvIHRoZSBzb3VyY2Ugb2NjdXJzLiBUaGlzIGlzIGRvbmUgc28gdGhhdFxuICAgICAgLy8gdGhlIGFzc2lnbm1lbnQgdG8gdGhlIHNvdXJjZSBjb25uZWN0aW9uJ3MgYGNsb3NlZGAgcHJvcGVydHkgd2lsbCBiZSBzZWVuXG4gICAgICAvLyBieSBzeW5jaHJvbm91cyBmaXJlaG9zZSBzb3VyY2VzLlxuICAgICAgc3Vic2NyaWJlci5hZGQoKCkgPT4ge1xuICAgICAgICByZWZDb3VudC0tO1xuXG4gICAgICAgIC8vIElmIHdlJ3JlIHJlc2V0dGluZyBvbiByZWZDb3VudCA9PT0gMCwgYW5kIGl0J3MgMCwgd2Ugb25seSB3YW50IHRvIGRvXG4gICAgICAgIC8vIHRoYXQgb24gXCJ1bnN1YnNjcmliZVwiLCByZWFsbHkuIFJlc2V0dGluZyBvbiBlcnJvciBvciBjb21wbGV0aW9uIGlzIGEgZGlmZmVyZW50XG4gICAgICAgIC8vIGNvbmZpZ3VyYXRpb24uXG4gICAgICAgIGlmIChyZWZDb3VudCA9PT0gMCAmJiAhaGFzRXJyb3JlZCAmJiAhaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgcmVzZXRDb25uZWN0aW9uID0gaGFuZGxlUmVzZXQocmVzZXRBbmRVbnN1YnNjcmliZSwgcmVzZXRPblJlZkNvdW50WmVybyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGUgZm9sbG93aW5nIGxpbmUgYWRkcyB0aGUgc3Vic2NyaXB0aW9uIHRvIHRoZSBzdWJzY3JpYmVyIHBhc3NlZC5cbiAgICAgIC8vIEJhc2ljYWxseSwgYHN1YnNjcmliZXIgPT09IGRlc3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpYCBpcyBgdHJ1ZWAuXG4gICAgICBkZXN0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcblxuICAgICAgaWYgKFxuICAgICAgICAhY29ubmVjdGlvbiAmJlxuICAgICAgICAvLyBDaGVjayB0aGlzIHNoYXJlUmVwbGF5IGlzIHN0aWxsIGFjdGl2YXRlIC0gaXQgY2FuIGJlIHJlc2V0IHRvIDBcbiAgICAgICAgLy8gYW5kIGJlIFwidW5zdWJzY3JpYmVkXCIgX2JlZm9yZV8gaXQgYWN0dWFsbHkgc3Vic2NyaWJlcy5cbiAgICAgICAgLy8gSWYgd2Ugd2VyZSB0byBzdWJzY3JpYmUgdGhlbiwgaXQnZCBsZWFrIGFuZCBnZXQgc3R1Y2suXG4gICAgICAgIHJlZkNvdW50ID4gMFxuICAgICAgKSB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gY3JlYXRlIGEgc3Vic2NyaWJlciBoZXJlIC0gcmF0aGVyIHRoYW4gcGFzcyBhbiBvYnNlcnZlciBhbmRcbiAgICAgICAgLy8gYXNzaWduIHRoZSByZXR1cm5lZCBzdWJzY3JpcHRpb24gdG8gY29ubmVjdGlvbiAtIGJlY2F1c2UgaXQncyBwb3NzaWJsZVxuICAgICAgICAvLyBmb3IgcmVlbnRyYW50IHN1YnNjcmlwdGlvbnMgdG8gdGhlIHNoYXJlZCBvYnNlcnZhYmxlIHRvIG9jY3VyIGFuZCBpblxuICAgICAgICAvLyB0aG9zZSBzaXR1YXRpb25zIHdlIHdhbnQgY29ubmVjdGlvbiB0byBiZSBhbHJlYWR5LWFzc2lnbmVkIHNvIHRoYXQgd2VcbiAgICAgICAgLy8gZG9uJ3QgY3JlYXRlIGFub3RoZXIgY29ubmVjdGlvbiB0byB0aGUgc291cmNlLlxuICAgICAgICBjb25uZWN0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKHtcbiAgICAgICAgICBuZXh0OiAodmFsdWUpID0+IGRlc3QubmV4dCh2YWx1ZSksXG4gICAgICAgICAgZXJyb3I6IChlcnIpID0+IHtcbiAgICAgICAgICAgIGhhc0Vycm9yZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2FuY2VsUmVzZXQoKTtcbiAgICAgICAgICAgIHJlc2V0Q29ubmVjdGlvbiA9IGhhbmRsZVJlc2V0KHJlc2V0LCByZXNldE9uRXJyb3IsIGVycik7XG4gICAgICAgICAgICBkZXN0LmVycm9yKGVycik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgaGFzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNhbmNlbFJlc2V0KCk7XG4gICAgICAgICAgICByZXNldENvbm5lY3Rpb24gPSBoYW5kbGVSZXNldChyZXNldCwgcmVzZXRPbkNvbXBsZXRlKTtcbiAgICAgICAgICAgIGRlc3QuY29tcGxldGUoKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaW5uZXJGcm9tKHNvdXJjZSkuc3Vic2NyaWJlKGNvbm5lY3Rpb24pO1xuICAgICAgfVxuICAgIH0pKHdyYXBwZXJTb3VyY2UpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVSZXNldDxUIGV4dGVuZHMgdW5rbm93bltdID0gbmV2ZXJbXT4oXG4gIHJlc2V0OiAoKSA9PiB2b2lkLFxuICBvbjogYm9vbGVhbiB8ICgoLi4uYXJnczogVCkgPT4gT2JzZXJ2YWJsZUlucHV0PGFueT4pLFxuICAuLi5hcmdzOiBUXG4pOiBTdWJzY3JpcHRpb24gfCB1bmRlZmluZWQge1xuICBpZiAob24gPT09IHRydWUpIHtcbiAgICByZXNldCgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChvbiA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBvblN1YnNjcmliZXIgPSBuZXcgU2FmZVN1YnNjcmliZXIoe1xuICAgIG5leHQ6ICgpID0+IHtcbiAgICAgIG9uU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgcmVzZXQoKTtcbiAgICB9LFxuICB9KTtcblxuICByZXR1cm4gaW5uZXJGcm9tKG9uKC4uLmFyZ3MpKS5zdWJzY3JpYmUob25TdWJzY3JpYmVyKTtcbn1cbiIsICJpbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlSW5wdXQsIE9wZXJhdG9yRnVuY3Rpb24sIE9ic2VydmVkVmFsdWVPZiB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTptYXgtbGluZS1sZW5ndGggKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXA8VCwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPj47XG4vKiogQGRlcHJlY2F0ZWQgVGhlIGByZXN1bHRTZWxlY3RvcmAgcGFyYW1ldGVyIHdpbGwgYmUgcmVtb3ZlZCBpbiB2OC4gVXNlIGFuIGlubmVyIGBtYXBgIGluc3RlYWQuIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3Jlc3VsdFNlbGVjdG9yICovXG5leHBvcnQgZnVuY3Rpb24gc3dpdGNoTWFwPFQsIE8gZXh0ZW5kcyBPYnNlcnZhYmxlSW5wdXQ8YW55Pj4oXG4gIHByb2plY3Q6ICh2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gTyxcbiAgcmVzdWx0U2VsZWN0b3I6IHVuZGVmaW5lZFxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBPYnNlcnZlZFZhbHVlT2Y8Tz4+O1xuLyoqIEBkZXByZWNhdGVkIFRoZSBgcmVzdWx0U2VsZWN0b3JgIHBhcmFtZXRlciB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIFVzZSBhbiBpbm5lciBgbWFwYCBpbnN0ZWFkLiBEZXRhaWxzOiBodHRwczovL3J4anMuZGV2L2RlcHJlY2F0aW9ucy9yZXN1bHRTZWxlY3RvciAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaE1hcDxULCBSLCBPIGV4dGVuZHMgT2JzZXJ2YWJsZUlucHV0PGFueT4+KFxuICBwcm9qZWN0OiAodmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IE8sXG4gIHJlc3VsdFNlbGVjdG9yOiAob3V0ZXJWYWx1ZTogVCwgaW5uZXJWYWx1ZTogT2JzZXJ2ZWRWYWx1ZU9mPE8+LCBvdXRlckluZGV4OiBudW1iZXIsIGlubmVySW5kZXg6IG51bWJlcikgPT4gUlxuKTogT3BlcmF0b3JGdW5jdGlvbjxULCBSPjtcbi8qIHRzbGludDplbmFibGU6bWF4LWxpbmUtbGVuZ3RoICovXG5cbi8qKlxuICogUHJvamVjdHMgZWFjaCBzb3VyY2UgdmFsdWUgdG8gYW4gT2JzZXJ2YWJsZSB3aGljaCBpcyBtZXJnZWQgaW4gdGhlIG91dHB1dFxuICogT2JzZXJ2YWJsZSwgZW1pdHRpbmcgdmFsdWVzIG9ubHkgZnJvbSB0aGUgbW9zdCByZWNlbnRseSBwcm9qZWN0ZWQgT2JzZXJ2YWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+TWFwcyBlYWNoIHZhbHVlIHRvIGFuIE9ic2VydmFibGUsIHRoZW4gZmxhdHRlbnMgYWxsIG9mXG4gKiB0aGVzZSBpbm5lciBPYnNlcnZhYmxlcyB1c2luZyB7QGxpbmsgc3dpdGNoQWxsfS48L3NwYW4+XG4gKlxuICogIVtdKHN3aXRjaE1hcC5wbmcpXG4gKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgaXRlbXMgYmFzZWQgb24gYXBwbHlpbmcgYSBmdW5jdGlvbiB0aGF0IHlvdVxuICogc3VwcGx5IHRvIGVhY2ggaXRlbSBlbWl0dGVkIGJ5IHRoZSBzb3VyY2UgT2JzZXJ2YWJsZSwgd2hlcmUgdGhhdCBmdW5jdGlvblxuICogcmV0dXJucyBhbiAoc28tY2FsbGVkIFwiaW5uZXJcIikgT2JzZXJ2YWJsZS4gRWFjaCB0aW1lIGl0IG9ic2VydmVzIG9uZSBvZiB0aGVzZVxuICogaW5uZXIgT2JzZXJ2YWJsZXMsIHRoZSBvdXRwdXQgT2JzZXJ2YWJsZSBiZWdpbnMgZW1pdHRpbmcgdGhlIGl0ZW1zIGVtaXR0ZWQgYnlcbiAqIHRoYXQgaW5uZXIgT2JzZXJ2YWJsZS4gV2hlbiBhIG5ldyBpbm5lciBPYnNlcnZhYmxlIGlzIGVtaXR0ZWQsIGBzd2l0Y2hNYXBgXG4gKiBzdG9wcyBlbWl0dGluZyBpdGVtcyBmcm9tIHRoZSBlYXJsaWVyLWVtaXR0ZWQgaW5uZXIgT2JzZXJ2YWJsZSBhbmQgYmVnaW5zXG4gKiBlbWl0dGluZyBpdGVtcyBmcm9tIHRoZSBuZXcgb25lLiBJdCBjb250aW51ZXMgdG8gYmVoYXZlIGxpa2UgdGhpcyBmb3JcbiAqIHN1YnNlcXVlbnQgaW5uZXIgT2JzZXJ2YWJsZXMuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEdlbmVyYXRlIG5ldyBPYnNlcnZhYmxlIGFjY29yZGluZyB0byBzb3VyY2UgT2JzZXJ2YWJsZSB2YWx1ZXNcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgb2YsIHN3aXRjaE1hcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIGNvbnN0IHN3aXRjaGVkID0gb2YoMSwgMiwgMykucGlwZShzd2l0Y2hNYXAoeCA9PiBvZih4LCB4ICoqIDIsIHggKiogMykpKTtcbiAqIHN3aXRjaGVkLnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIC8vIG91dHB1dHNcbiAqIC8vIDFcbiAqIC8vIDFcbiAqIC8vIDFcbiAqIC8vIDJcbiAqIC8vIDRcbiAqIC8vIDhcbiAqIC8vIDNcbiAqIC8vIDlcbiAqIC8vIDI3XG4gKiBgYGBcbiAqXG4gKiBSZXN0YXJ0IGFuIGludGVydmFsIE9ic2VydmFibGUgb24gZXZlcnkgY2xpY2sgZXZlbnRcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgZnJvbUV2ZW50LCBzd2l0Y2hNYXAsIGludGVydmFsIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3QgY2xpY2tzID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2xpY2snKTtcbiAqIGNvbnN0IHJlc3VsdCA9IGNsaWNrcy5waXBlKHN3aXRjaE1hcCgoKSA9PiBpbnRlcnZhbCgxMDAwKSkpO1xuICogcmVzdWx0LnN1YnNjcmliZSh4ID0+IGNvbnNvbGUubG9nKHgpKTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIGNvbmNhdE1hcH1cbiAqIEBzZWUge0BsaW5rIGV4aGF1c3RNYXB9XG4gKiBAc2VlIHtAbGluayBtZXJnZU1hcH1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaEFsbH1cbiAqIEBzZWUge0BsaW5rIHN3aXRjaE1hcFRvfVxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24odmFsdWU6IFQsIGluZGV4OiBudW1iZXIpOiBPYnNlcnZhYmxlSW5wdXR9IHByb2plY3QgQSBmdW5jdGlvblxuICogdGhhdCwgd2hlbiBhcHBsaWVkIHRvIGFuIGl0ZW0gZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUsIHJldHVybnMgYW5cbiAqIE9ic2VydmFibGUuXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgcmVzdWx0IG9mXG4gKiBhcHBseWluZyB0aGUgcHJvamVjdGlvbiBmdW5jdGlvbiAoYW5kIHRoZSBvcHRpb25hbCBkZXByZWNhdGVkXG4gKiBgcmVzdWx0U2VsZWN0b3JgKSB0byBlYWNoIGl0ZW0gZW1pdHRlZCBieSB0aGUgc291cmNlIE9ic2VydmFibGUgYW5kIHRha2luZ1xuICogb25seSB0aGUgdmFsdWVzIGZyb20gdGhlIG1vc3QgcmVjZW50bHkgcHJvamVjdGVkIGlubmVyIE9ic2VydmFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hNYXA8VCwgUiwgTyBleHRlbmRzIE9ic2VydmFibGVJbnB1dDxhbnk+PihcbiAgcHJvamVjdDogKHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBPLFxuICByZXN1bHRTZWxlY3Rvcj86IChvdXRlclZhbHVlOiBULCBpbm5lclZhbHVlOiBPYnNlcnZlZFZhbHVlT2Y8Tz4sIG91dGVySW5kZXg6IG51bWJlciwgaW5uZXJJbmRleDogbnVtYmVyKSA9PiBSXG4pOiBPcGVyYXRvckZ1bmN0aW9uPFQsIE9ic2VydmVkVmFsdWVPZjxPPiB8IFI+IHtcbiAgcmV0dXJuIG9wZXJhdGUoKHNvdXJjZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgIGxldCBpbm5lclN1YnNjcmliZXI6IFN1YnNjcmliZXI8T2JzZXJ2ZWRWYWx1ZU9mPE8+PiB8IG51bGwgPSBudWxsO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgLy8gV2hldGhlciBvciBub3QgdGhlIHNvdXJjZSBzdWJzY3JpcHRpb24gaGFzIGNvbXBsZXRlZFxuICAgIGxldCBpc0NvbXBsZXRlID0gZmFsc2U7XG5cbiAgICAvLyBXZSBvbmx5IGNvbXBsZXRlIHRoZSByZXN1bHQgaWYgdGhlIHNvdXJjZSBpcyBjb21wbGV0ZSBBTkQgd2UgZG9uJ3QgaGF2ZSBhbiBhY3RpdmUgaW5uZXIgc3Vic2NyaXB0aW9uLlxuICAgIC8vIFRoaXMgaXMgY2FsbGVkIGJvdGggd2hlbiB0aGUgc291cmNlIGNvbXBsZXRlcyBhbmQgd2hlbiB0aGUgaW5uZXJzIGNvbXBsZXRlLlxuICAgIGNvbnN0IGNoZWNrQ29tcGxldGUgPSAoKSA9PiBpc0NvbXBsZXRlICYmICFpbm5lclN1YnNjcmliZXIgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuXG4gICAgc291cmNlLnN1YnNjcmliZShcbiAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgc3Vic2NyaWJlcixcbiAgICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgLy8gQ2FuY2VsIHRoZSBwcmV2aW91cyBpbm5lciBzdWJzY3JpcHRpb24gaWYgdGhlcmUgd2FzIG9uZVxuICAgICAgICAgIGlubmVyU3Vic2NyaWJlcj8udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICBsZXQgaW5uZXJJbmRleCA9IDA7XG4gICAgICAgICAgY29uc3Qgb3V0ZXJJbmRleCA9IGluZGV4Kys7XG4gICAgICAgICAgLy8gU3RhcnQgdGhlIG5leHQgaW5uZXIgc3Vic2NyaXB0aW9uXG4gICAgICAgICAgaW5uZXJGcm9tKHByb2plY3QodmFsdWUsIG91dGVySW5kZXgpKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAoaW5uZXJTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKFxuICAgICAgICAgICAgICBzdWJzY3JpYmVyLFxuICAgICAgICAgICAgICAvLyBXaGVuIHdlIGdldCBhIG5ldyBpbm5lciB2YWx1ZSwgbmV4dCBpdCB0aHJvdWdoLiBOb3RlIHRoYXQgdGhpcyBpc1xuICAgICAgICAgICAgICAvLyBoYW5kbGluZyB0aGUgZGVwcmVjYXRlIHJlc3VsdCBzZWxlY3RvciBoZXJlLiBUaGlzIGlzIGJlY2F1c2Ugd2l0aCB0aGlzIGFyY2hpdGVjdHVyZVxuICAgICAgICAgICAgICAvLyBpdCBlbmRzIHVwIGJlaW5nIHNtYWxsZXIgdGhhbiB1c2luZyB0aGUgbWFwIG9wZXJhdG9yLlxuICAgICAgICAgICAgICAoaW5uZXJWYWx1ZSkgPT4gc3Vic2NyaWJlci5uZXh0KHJlc3VsdFNlbGVjdG9yID8gcmVzdWx0U2VsZWN0b3IodmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgrKykgOiBpbm5lclZhbHVlKSxcbiAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBpbm5lciBoYXMgY29tcGxldGVkLiBOdWxsIG91dCB0aGUgaW5uZXIgc3Vic2NyaWJlciB0b1xuICAgICAgICAgICAgICAgIC8vIGZyZWUgdXAgbWVtb3J5IGFuZCB0byBzaWduYWwgdGhhdCB3ZSBoYXZlIG5vIGlubmVyIHN1YnNjcmlwdGlvblxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnRseS5cbiAgICAgICAgICAgICAgICBpbm5lclN1YnNjcmliZXIgPSBudWxsITtcbiAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICkpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH0pO1xufVxuIiwgImltcG9ydCB7IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2ZXIgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuLi91dGlsL2lkZW50aXR5JztcblxuLyoqXG4gKiBBbiBleHRlbnNpb24gdG8gdGhlIHtAbGluayBPYnNlcnZlcn0gaW50ZXJmYWNlIHVzZWQgb25seSBieSB0aGUge0BsaW5rIHRhcH0gb3BlcmF0b3IuXG4gKlxuICogSXQgcHJvdmlkZXMgYSB1c2VmdWwgc2V0IG9mIGNhbGxiYWNrcyBhIHVzZXIgY2FuIHJlZ2lzdGVyIHRvIGRvIHNpZGUtZWZmZWN0cyBpblxuICogY2FzZXMgb3RoZXIgdGhhbiB3aGF0IHRoZSB1c3VhbCB7QGxpbmsgT2JzZXJ2ZXJ9IGNhbGxiYWNrcyBhcmVcbiAqICh7QGxpbmsgZ3VpZGUvZ2xvc3NhcnktYW5kLXNlbWFudGljcyNuZXh0IG5leHR9LFxuICoge0BsaW5rIGd1aWRlL2dsb3NzYXJ5LWFuZC1zZW1hbnRpY3MjZXJyb3IgZXJyb3J9IGFuZC9vclxuICoge0BsaW5rIGd1aWRlL2dsb3NzYXJ5LWFuZC1zZW1hbnRpY3MjY29tcGxldGUgY29tcGxldGV9KS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IGZyb21FdmVudCwgc3dpdGNoTWFwLCB0YXAsIGludGVydmFsLCB0YWtlIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlJCA9IGZyb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJyk7XG4gKiBjb25zdCByZXN1bHQkID0gc291cmNlJC5waXBlKFxuICogICBzd2l0Y2hNYXAoKF8sIGkpID0+IGkgJSAyID09PSAwXG4gKiAgICAgPyBmcm9tRXZlbnQoZG9jdW1lbnQsICdtb3VzZW1vdmUnKS5waXBlKFxuICogICAgICAgICB0YXAoe1xuICogICAgICAgICAgIHN1YnNjcmliZTogKCkgPT4gY29uc29sZS5sb2coJ1N1YnNjcmliZWQgdG8gdGhlIG1vdXNlIG1vdmUgZXZlbnRzIGFmdGVyIGNsaWNrICMnICsgaSksXG4gKiAgICAgICAgICAgdW5zdWJzY3JpYmU6ICgpID0+IGNvbnNvbGUubG9nKCdNb3VzZSBtb3ZlIGV2ZW50cyAjJyArIGkgKyAnIHVuc3Vic2NyaWJlZCcpLFxuICogICAgICAgICAgIGZpbmFsaXplOiAoKSA9PiBjb25zb2xlLmxvZygnTW91c2UgbW92ZSBldmVudHMgIycgKyBpICsgJyBmaW5hbGl6ZWQnKVxuICogICAgICAgICB9KVxuICogICAgICAgKVxuICogICAgIDogaW50ZXJ2YWwoMV8wMDApLnBpcGUoXG4gKiAgICAgICAgIHRha2UoNSksXG4gKiAgICAgICAgIHRhcCh7XG4gKiAgICAgICAgICAgc3Vic2NyaWJlOiAoKSA9PiBjb25zb2xlLmxvZygnU3Vic2NyaWJlZCB0byB0aGUgMS1zZWNvbmQgaW50ZXJ2YWwgZXZlbnRzIGFmdGVyIGNsaWNrICMnICsgaSksXG4gKiAgICAgICAgICAgdW5zdWJzY3JpYmU6ICgpID0+IGNvbnNvbGUubG9nKCcxLXNlY29uZCBpbnRlcnZhbCBldmVudHMgIycgKyBpICsgJyB1bnN1YnNjcmliZWQnKSxcbiAqICAgICAgICAgICBmaW5hbGl6ZTogKCkgPT4gY29uc29sZS5sb2coJzEtc2Vjb25kIGludGVydmFsIGV2ZW50cyAjJyArIGkgKyAnIGZpbmFsaXplZCcpXG4gKiAgICAgICAgIH0pXG4gKiAgICAgICApXG4gKiAgIClcbiAqICk7XG4gKlxuICogY29uc3Qgc3Vic2NyaXB0aW9uID0gcmVzdWx0JC5zdWJzY3JpYmUoe1xuICogICBuZXh0OiBjb25zb2xlLmxvZ1xuICogfSk7XG4gKlxuICogc2V0VGltZW91dCgoKSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKCdVbnN1YnNjcmliZSBhZnRlciA2MCBzZWNvbmRzJyk7XG4gKiAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICogfSwgNjBfMDAwKTtcbiAqIGBgYFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRhcE9ic2VydmVyPFQ+IGV4dGVuZHMgT2JzZXJ2ZXI8VD4ge1xuICAvKipcbiAgICogVGhlIGNhbGxiYWNrIHRoYXQgYHRhcGAgb3BlcmF0b3IgaW52b2tlcyBhdCB0aGUgbW9tZW50IHdoZW4gdGhlIHNvdXJjZSBPYnNlcnZhYmxlXG4gICAqIGdldHMgc3Vic2NyaWJlZCB0by5cbiAgICovXG4gIHN1YnNjcmliZTogKCkgPT4gdm9pZDtcbiAgLyoqXG4gICAqIFRoZSBjYWxsYmFjayB0aGF0IGB0YXBgIG9wZXJhdG9yIGludm9rZXMgd2hlbiBhbiBleHBsaWNpdFxuICAgKiB7QGxpbmsgZ3VpZGUvZ2xvc3NhcnktYW5kLXNlbWFudGljcyN1bnN1YnNjcmlwdGlvbiB1bnN1YnNjcmliZX0gaGFwcGVucy4gSXQgd29uJ3QgZ2V0IGludm9rZWQgb25cbiAgICogYGVycm9yYCBvciBgY29tcGxldGVgIGV2ZW50cy5cbiAgICovXG4gIHVuc3Vic2NyaWJlOiAoKSA9PiB2b2lkO1xuICAvKipcbiAgICogVGhlIGNhbGxiYWNrIHRoYXQgYHRhcGAgb3BlcmF0b3IgaW52b2tlcyB3aGVuIGFueSBraW5kIG9mXG4gICAqIHtAbGluayBndWlkZS9nbG9zc2FyeS1hbmQtc2VtYW50aWNzI2ZpbmFsaXphdGlvbiBmaW5hbGl6YXRpb259IGhhcHBlbnMgLSBlaXRoZXIgd2hlblxuICAgKiB0aGUgc291cmNlIE9ic2VydmFibGUgYGVycm9yYHMgb3IgYGNvbXBsZXRlYHMgb3Igd2hlbiBpdCBnZXRzIGV4cGxpY2l0bHkgdW5zdWJzY3JpYmVkXG4gICAqIGJ5IHRoZSB1c2VyLiBUaGVyZSBpcyBubyBkaWZmZXJlbmNlIGluIHVzaW5nIHRoaXMgY2FsbGJhY2sgb3IgdGhlIHtAbGluayBmaW5hbGl6ZX1cbiAgICogb3BlcmF0b3IsIGJ1dCBpZiB5b3UncmUgYWxyZWFkeSB1c2luZyBgdGFwYCBvcGVyYXRvciwgeW91IGNhbiB1c2UgdGhpcyBjYWxsYmFja1xuICAgKiBpbnN0ZWFkLiBZb3UnZCBnZXQgdGhlIHNhbWUgcmVzdWx0IGluIGVpdGhlciBjYXNlLlxuICAgKi9cbiAgZmluYWxpemU6ICgpID0+IHZvaWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gdGFwPFQ+KG9ic2VydmVyT3JOZXh0PzogUGFydGlhbDxUYXBPYnNlcnZlcjxUPj4gfCAoKHZhbHVlOiBUKSA9PiB2b2lkKSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPjtcbi8qKiBAZGVwcmVjYXRlZCBJbnN0ZWFkIG9mIHBhc3Npbmcgc2VwYXJhdGUgY2FsbGJhY2sgYXJndW1lbnRzLCB1c2UgYW4gb2JzZXJ2ZXIgYXJndW1lbnQuIFNpZ25hdHVyZXMgdGFraW5nIHNlcGFyYXRlIGNhbGxiYWNrIGFyZ3VtZW50cyB3aWxsIGJlIHJlbW92ZWQgaW4gdjguIERldGFpbHM6IGh0dHBzOi8vcnhqcy5kZXYvZGVwcmVjYXRpb25zL3N1YnNjcmliZS1hcmd1bWVudHMgKi9cbmV4cG9ydCBmdW5jdGlvbiB0YXA8VD4oXG4gIG5leHQ/OiAoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IG51bGwsXG4gIGVycm9yPzogKChlcnJvcjogYW55KSA9PiB2b2lkKSB8IG51bGwsXG4gIGNvbXBsZXRlPzogKCgpID0+IHZvaWQpIHwgbnVsbFxuKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+O1xuXG4vKipcbiAqIFVzZWQgdG8gcGVyZm9ybSBzaWRlLWVmZmVjdHMgZm9yIG5vdGlmaWNhdGlvbnMgZnJvbSB0aGUgc291cmNlIG9ic2VydmFibGVcbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+VXNlZCB3aGVuIHlvdSB3YW50IHRvIGFmZmVjdCBvdXRzaWRlIHN0YXRlIHdpdGggYSBub3RpZmljYXRpb24gd2l0aG91dCBhbHRlcmluZyB0aGUgbm90aWZpY2F0aW9uPC9zcGFuPlxuICpcbiAqICFbXSh0YXAucG5nKVxuICpcbiAqIFRhcCBpcyBkZXNpZ25lZCB0byBhbGxvdyB0aGUgZGV2ZWxvcGVyIGEgZGVzaWduYXRlZCBwbGFjZSB0byBwZXJmb3JtIHNpZGUgZWZmZWN0cy4gV2hpbGUgeW91IF9jb3VsZF8gcGVyZm9ybSBzaWRlLWVmZmVjdHNcbiAqIGluc2lkZSBvZiBhIGBtYXBgIG9yIGEgYG1lcmdlTWFwYCwgdGhhdCB3b3VsZCBtYWtlIHRoZWlyIG1hcHBpbmcgZnVuY3Rpb25zIGltcHVyZSwgd2hpY2ggaXNuJ3QgYWx3YXlzIGEgYmlnIGRlYWwsIGJ1dCB3aWxsXG4gKiBtYWtlIGl0IHNvIHlvdSBjYW4ndCBkbyB0aGluZ3MgbGlrZSBtZW1vaXplIHRob3NlIGZ1bmN0aW9ucy4gVGhlIGB0YXBgIG9wZXJhdG9yIGlzIGRlc2lnbmVkIHNvbGVseSBmb3Igc3VjaCBzaWRlLWVmZmVjdHMgdG9cbiAqIGhlbHAgeW91IHJlbW92ZSBzaWRlLWVmZmVjdHMgZnJvbSBvdGhlciBvcGVyYXRpb25zLlxuICpcbiAqIEZvciBhbnkgbm90aWZpY2F0aW9uLCBuZXh0LCBlcnJvciwgb3IgY29tcGxldGUsIGB0YXBgIHdpbGwgY2FsbCB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2sgeW91IGhhdmUgcHJvdmlkZWQgdG8gaXQsIHZpYSBhIGZ1bmN0aW9uXG4gKiByZWZlcmVuY2UsIG9yIGEgcGFydGlhbCBvYnNlcnZlciwgdGhlbiBwYXNzIHRoYXQgbm90aWZpY2F0aW9uIGRvd24gdGhlIHN0cmVhbS5cbiAqXG4gKiBUaGUgb2JzZXJ2YWJsZSByZXR1cm5lZCBieSBgdGFwYCBpcyBhbiBleGFjdCBtaXJyb3Igb2YgdGhlIHNvdXJjZSwgd2l0aCBvbmUgZXhjZXB0aW9uOiBBbnkgZXJyb3IgdGhhdCBvY2N1cnMgLS0gc3luY2hyb25vdXNseSAtLSBpbiBhIGhhbmRsZXJcbiAqIHByb3ZpZGVkIHRvIGB0YXBgIHdpbGwgYmUgZW1pdHRlZCBhcyBhbiBlcnJvciBmcm9tIHRoZSByZXR1cm5lZCBvYnNlcnZhYmxlLlxuICpcbiAqID4gQmUgY2FyZWZ1bCEgWW91IGNhbiBtdXRhdGUgb2JqZWN0cyBhcyB0aGV5IHBhc3MgdGhyb3VnaCB0aGUgYHRhcGAgb3BlcmF0b3IncyBoYW5kbGVycy5cbiAqXG4gKiBUaGUgbW9zdCBjb21tb24gdXNlIG9mIGB0YXBgIGlzIGFjdHVhbGx5IGZvciBkZWJ1Z2dpbmcuIFlvdSBjYW4gcGxhY2UgYSBgdGFwKGNvbnNvbGUubG9nKWAgYW55d2hlcmVcbiAqIGluIHlvdXIgb2JzZXJ2YWJsZSBgcGlwZWAsIGxvZyBvdXQgdGhlIG5vdGlmaWNhdGlvbnMgYXMgdGhleSBhcmUgZW1pdHRlZCBieSB0aGUgc291cmNlIHJldHVybmVkIGJ5IHRoZSBwcmV2aW91c1xuICogb3BlcmF0aW9uLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogQ2hlY2sgYSByYW5kb20gbnVtYmVyIGJlZm9yZSBpdCBpcyBoYW5kbGVkLiBCZWxvdyBpcyBhbiBvYnNlcnZhYmxlIHRoYXQgd2lsbCB1c2UgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gMCBhbmQgMSxcbiAqIGFuZCBlbWl0IGAnYmlnJ2Agb3IgYCdzbWFsbCdgIGRlcGVuZGluZyBvbiB0aGUgc2l6ZSBvZiB0aGF0IG51bWJlci4gQnV0IHdlIHdhbnRlZCB0byBsb2cgd2hhdCB0aGUgb3JpZ2luYWwgbnVtYmVyXG4gKiB3YXMsIHNvIHdlIGhhdmUgYWRkZWQgYSBgdGFwKGNvbnNvbGUubG9nKWAuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IG9mLCB0YXAsIG1hcCB9IGZyb20gJ3J4anMnO1xuICpcbiAqIG9mKE1hdGgucmFuZG9tKCkpLnBpcGUoXG4gKiAgIHRhcChjb25zb2xlLmxvZyksXG4gKiAgIG1hcChuID0+IG4gPiAwLjUgPyAnYmlnJyA6ICdzbWFsbCcpXG4gKiApLnN1YnNjcmliZShjb25zb2xlLmxvZyk7XG4gKiBgYGBcbiAqXG4gKiBVc2luZyBgdGFwYCB0byBhbmFseXplIGEgdmFsdWUgYW5kIGZvcmNlIGFuIGVycm9yLiBCZWxvdyBpcyBhbiBvYnNlcnZhYmxlIHdoZXJlIGluIG91ciBzeXN0ZW0gd2Ugb25seVxuICogd2FudCB0byBlbWl0IG51bWJlcnMgMyBvciBsZXNzIHdlIGdldCBmcm9tIGFub3RoZXIgc291cmNlLiBXZSBjYW4gZm9yY2Ugb3VyIG9ic2VydmFibGUgdG8gZXJyb3JcbiAqIHVzaW5nIGB0YXBgLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgdGFwIH0gZnJvbSAncnhqcyc7XG4gKlxuICogY29uc3Qgc291cmNlID0gb2YoMSwgMiwgMywgNCwgNSk7XG4gKlxuICogc291cmNlLnBpcGUoXG4gKiAgIHRhcChuID0+IHtcbiAqICAgICBpZiAobiA+IDMpIHtcbiAqICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFZhbHVlICR7IG4gfSBpcyBncmVhdGVyIHRoYW4gM2ApO1xuICogICAgIH1cbiAqICAgfSlcbiAqIClcbiAqIC5zdWJzY3JpYmUoeyBuZXh0OiBjb25zb2xlLmxvZywgZXJyb3I6IGVyciA9PiBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSkgfSk7XG4gKiBgYGBcbiAqXG4gKiBXZSB3YW50IHRvIGtub3cgd2hlbiBhbiBvYnNlcnZhYmxlIGNvbXBsZXRlcyBiZWZvcmUgbW92aW5nIG9uIHRvIHRoZSBuZXh0IG9ic2VydmFibGUuIFRoZSBzeXN0ZW1cbiAqIGJlbG93IHdpbGwgZW1pdCBhIHJhbmRvbSBzZXJpZXMgb2YgYCdYJ2AgY2hhcmFjdGVycyBmcm9tIDMgZGlmZmVyZW50IG9ic2VydmFibGVzIGluIHNlcXVlbmNlLiBUaGVcbiAqIG9ubHkgd2F5IHdlIGtub3cgd2hlbiBvbmUgb2JzZXJ2YWJsZSBjb21wbGV0ZXMgYW5kIG1vdmVzIHRvIHRoZSBuZXh0IG9uZSwgaW4gdGhpcyBjYXNlLCBpcyBiZWNhdXNlXG4gKiB3ZSBoYXZlIGFkZGVkIGEgYHRhcGAgd2l0aCB0aGUgc2lkZSBlZmZlY3Qgb2YgbG9nZ2luZyB0byBjb25zb2xlLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBvZiwgY29uY2F0TWFwLCBpbnRlcnZhbCwgdGFrZSwgbWFwLCB0YXAgfSBmcm9tICdyeGpzJztcbiAqXG4gKiBvZigxLCAyLCAzKS5waXBlKFxuICogICBjb25jYXRNYXAobiA9PiBpbnRlcnZhbCgxMDAwKS5waXBlKFxuICogICAgIHRha2UoTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTApKSxcbiAqICAgICBtYXAoKCkgPT4gJ1gnKSxcbiAqICAgICB0YXAoeyBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coYERvbmUgd2l0aCAkeyBuIH1gKSB9KVxuICogICApKVxuICogKVxuICogLnN1YnNjcmliZShjb25zb2xlLmxvZyk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBmaW5hbGl6ZX1cbiAqIEBzZWUge0BsaW5rIFRhcE9ic2VydmVyfVxuICpcbiAqIEBwYXJhbSBvYnNlcnZlck9yTmV4dCBBIG5leHQgaGFuZGxlciBvciBwYXJ0aWFsIG9ic2VydmVyXG4gKiBAcGFyYW0gZXJyb3IgQW4gZXJyb3IgaGFuZGxlclxuICogQHBhcmFtIGNvbXBsZXRlIEEgY29tcGxldGlvbiBoYW5kbGVyXG4gKiBAcmV0dXJuIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIE9ic2VydmFibGUgaWRlbnRpY2FsIHRvIHRoZSBzb3VyY2UsIGJ1dFxuICogcnVucyB0aGUgc3BlY2lmaWVkIE9ic2VydmVyIG9yIGNhbGxiYWNrKHMpIGZvciBlYWNoIGl0ZW0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0YXA8VD4oXG4gIG9ic2VydmVyT3JOZXh0PzogUGFydGlhbDxUYXBPYnNlcnZlcjxUPj4gfCAoKHZhbHVlOiBUKSA9PiB2b2lkKSB8IG51bGwsXG4gIGVycm9yPzogKChlOiBhbnkpID0+IHZvaWQpIHwgbnVsbCxcbiAgY29tcGxldGU/OiAoKCkgPT4gdm9pZCkgfCBudWxsXG4pOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICAvLyBXZSBoYXZlIHRvIGNoZWNrIHRvIHNlZSBub3Qgb25seSBpZiBuZXh0IGlzIGEgZnVuY3Rpb24sXG4gIC8vIGJ1dCBpZiBlcnJvciBvciBjb21wbGV0ZSB3ZXJlIHBhc3NlZC4gVGhpcyBpcyBiZWNhdXNlIHNvbWVvbmVcbiAgLy8gY291bGQgdGVjaG5pY2FsbHkgY2FsbCB0YXAgbGlrZSBgdGFwKG51bGwsIGZuKWAgb3IgYHRhcChudWxsLCBudWxsLCBmbilgLlxuICBjb25zdCB0YXBPYnNlcnZlciA9XG4gICAgaXNGdW5jdGlvbihvYnNlcnZlck9yTmV4dCkgfHwgZXJyb3IgfHwgY29tcGxldGVcbiAgICAgID8gLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1vYmplY3QtbGl0ZXJhbC10eXBlLWFzc2VydGlvblxuICAgICAgICAoeyBuZXh0OiBvYnNlcnZlck9yTmV4dCBhcyBFeGNsdWRlPHR5cGVvZiBvYnNlcnZlck9yTmV4dCwgUGFydGlhbDxUYXBPYnNlcnZlcjxUPj4+LCBlcnJvciwgY29tcGxldGUgfSBhcyBQYXJ0aWFsPFRhcE9ic2VydmVyPFQ+PilcbiAgICAgIDogb2JzZXJ2ZXJPck5leHQ7XG5cbiAgcmV0dXJuIHRhcE9ic2VydmVyXG4gICAgPyBvcGVyYXRlKChzb3VyY2UsIHN1YnNjcmliZXIpID0+IHtcbiAgICAgICAgdGFwT2JzZXJ2ZXIuc3Vic2NyaWJlPy4oKTtcbiAgICAgICAgbGV0IGlzVW5zdWIgPSB0cnVlO1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKFxuICAgICAgICAgIGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihcbiAgICAgICAgICAgIHN1YnNjcmliZXIsXG4gICAgICAgICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgdGFwT2JzZXJ2ZXIubmV4dD8uKHZhbHVlKTtcbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgIGlzVW5zdWIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgdGFwT2JzZXJ2ZXIuY29tcGxldGU/LigpO1xuICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgICAgICBpc1Vuc3ViID0gZmFsc2U7XG4gICAgICAgICAgICAgIHRhcE9ic2VydmVyLmVycm9yPy4oZXJyKTtcbiAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGlzVW5zdWIpIHtcbiAgICAgICAgICAgICAgICB0YXBPYnNlcnZlci51bnN1YnNjcmliZT8uKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGFwT2JzZXJ2ZXIuZmluYWxpemU/LigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgOiAvLyBUYXAgd2FzIGNhbGxlZCB3aXRoIG5vIHZhbGlkIHRhcCBvYnNlcnZlciBvciBoYW5kbGVyXG4gICAgICAvLyAoZS5nLiBgdGFwKG51bGwsIG51bGwsIG51bGwpYCBvciBgdGFwKG51bGwpYCBvciBgdGFwKClgKVxuICAgICAgLy8gc28gd2UncmUgZ29pbmcgdG8ganVzdCBtaXJyb3IgdGhlIHNvdXJjZS5cbiAgICAgIGlkZW50aXR5O1xufVxuIiwgImltcG9ydCB7IFN1YmplY3QsIEFub255bW91c1N1YmplY3QgfSBmcm9tICcuLi8uLi9TdWJqZWN0JztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi8uLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi8uLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uLy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyBPcGVyYXRvciB9IGZyb20gJy4uLy4uL09wZXJhdG9yJztcbmltcG9ydCB7IFJlcGxheVN1YmplY3QgfSBmcm9tICcuLi8uLi9SZXBsYXlTdWJqZWN0JztcbmltcG9ydCB7IE9ic2VydmVyLCBOZXh0T2JzZXJ2ZXIgfSBmcm9tICcuLi8uLi90eXBlcyc7XG5cbi8qKlxuICogV2ViU29ja2V0U3ViamVjdENvbmZpZyBpcyBhIHBsYWluIE9iamVjdCB0aGF0IGFsbG93cyB1cyB0byBtYWtlIG91clxuICogd2ViU29ja2V0IGNvbmZpZ3VyYWJsZS5cbiAqXG4gKiA8c3BhbiBjbGFzcz1cImluZm9ybWFsXCI+UHJvdmlkZXMgZmxleGliaWxpdHkgdG8ge0BsaW5rIHdlYlNvY2tldH08L3NwYW4+XG4gKlxuICogSXQgZGVmaW5lcyBhIHNldCBvZiBwcm9wZXJ0aWVzIHRvIHByb3ZpZGUgY3VzdG9tIGJlaGF2aW9yIGluIHNwZWNpZmljXG4gKiBtb21lbnRzIG9mIHRoZSBzb2NrZXQncyBsaWZlY3ljbGUuIFdoZW4gdGhlIGNvbm5lY3Rpb24gb3BlbnMgd2UgY2FuXG4gKiB1c2UgYG9wZW5PYnNlcnZlcmAsIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2VkIGBjbG9zZU9ic2VydmVyYCwgaWYgd2VcbiAqIGFyZSBpbnRlcmVzdGVkIGluIGxpc3RlbmluZyBmb3IgZGF0YSBjb21pbmcgZnJvbSBzZXJ2ZXI6IGBkZXNlcmlhbGl6ZXJgLFxuICogd2hpY2ggYWxsb3dzIHVzIHRvIGN1c3RvbWl6ZSB0aGUgZGVzZXJpYWxpemF0aW9uIHN0cmF0ZWd5IG9mIGRhdGEgYmVmb3JlIHBhc3NpbmcgaXRcbiAqIHRvIHRoZSBzb2NrZXQgY2xpZW50LiBCeSBkZWZhdWx0LCBgZGVzZXJpYWxpemVyYCBpcyBnb2luZyB0byBhcHBseSBgSlNPTi5wYXJzZWAgdG8gZWFjaCBtZXNzYWdlIGNvbWluZ1xuICogZnJvbSB0aGUgU2VydmVyLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogKipkZXNlcmlhbGl6ZXIqKiwgdGhlIGRlZmF1bHQgZm9yIHRoaXMgcHJvcGVydHkgaXMgYEpTT04ucGFyc2VgIGJ1dCBzaW5jZSB0aGVyZSBhcmUganVzdCB0d28gb3B0aW9uc1xuICogZm9yIGluY29taW5nIGRhdGEsIGVpdGhlciBiZSB0ZXh0IG9yIGJpbmFyeSBkYXRhLiBXZSBjYW4gYXBwbHkgYSBjdXN0b20gZGVzZXJpYWxpemF0aW9uIHN0cmF0ZWd5XG4gKiBvciBqdXN0IHNpbXBseSBza2lwIHRoZSBkZWZhdWx0IGJlaGF2aW91ci5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgd2ViU29ja2V0IH0gZnJvbSAncnhqcy93ZWJTb2NrZXQnO1xuICpcbiAqIGNvbnN0IHdzU3ViamVjdCA9IHdlYlNvY2tldCh7XG4gKiAgIHVybDogJ3dzOi8vbG9jYWxob3N0OjgwODEnLFxuICogICAvL0FwcGx5IGFueSB0cmFuc2Zvcm1hdGlvbiBvZiB5b3VyIGNob2ljZS5cbiAqICAgZGVzZXJpYWxpemVyOiAoeyBkYXRhIH0pID0+IGRhdGFcbiAqIH0pO1xuICpcbiAqIHdzU3ViamVjdC5zdWJzY3JpYmUoY29uc29sZS5sb2cpO1xuICpcbiAqIC8vIExldCdzIHN1cHBvc2Ugd2UgaGF2ZSB0aGlzIG9uIHRoZSBTZXJ2ZXI6IHdzLnNlbmQoJ1RoaXMgaXMgYSBtc2cgZnJvbSB0aGUgc2VydmVyJylcbiAqIC8vb3V0cHV0XG4gKiAvL1xuICogLy8gVGhpcyBpcyBhIG1zZyBmcm9tIHRoZSBzZXJ2ZXJcbiAqIGBgYFxuICpcbiAqICoqc2VyaWFsaXplcioqIGFsbG93cyB1cyB0byBhcHBseSBjdXN0b20gc2VyaWFsaXphdGlvbiBzdHJhdGVneSBidXQgZm9yIHRoZSBvdXRnb2luZyBtZXNzYWdlcy5cbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgd2ViU29ja2V0IH0gZnJvbSAncnhqcy93ZWJTb2NrZXQnO1xuICpcbiAqIGNvbnN0IHdzU3ViamVjdCA9IHdlYlNvY2tldCh7XG4gKiAgIHVybDogJ3dzOi8vbG9jYWxob3N0OjgwODEnLFxuICogICAvLyBBcHBseSBhbnkgdHJhbnNmb3JtYXRpb24gb2YgeW91ciBjaG9pY2UuXG4gKiAgIHNlcmlhbGl6ZXI6IG1zZyA9PiBKU09OLnN0cmluZ2lmeSh7IGNoYW5uZWw6ICd3ZWJEZXZlbG9wbWVudCcsIG1zZzogbXNnIH0pXG4gKiB9KTtcbiAqXG4gKiB3c1N1YmplY3Quc3Vic2NyaWJlKCgpID0+IHN1YmplY3QubmV4dCgnbXNnIHRvIHRoZSBzZXJ2ZXInKSk7XG4gKlxuICogLy8gTGV0J3Mgc3VwcG9zZSB3ZSBoYXZlIHRoaXMgb24gdGhlIFNlcnZlcjpcbiAqIC8vICAgd3Mub24oJ21lc3NhZ2UnLCBtc2cgPT4gY29uc29sZS5sb2cpO1xuICogLy8gICB3cy5zZW5kKCdUaGlzIGlzIGEgbXNnIGZyb20gdGhlIHNlcnZlcicpO1xuICogLy8gb3V0cHV0IGF0IHNlcnZlciBzaWRlOlxuICogLy9cbiAqIC8vIHtcImNoYW5uZWxcIjpcIndlYkRldmVsb3BtZW50XCIsXCJtc2dcIjpcIm1zZyB0byB0aGUgc2VydmVyXCJ9XG4gKiBgYGBcbiAqXG4gKiAqKmNsb3NlT2JzZXJ2ZXIqKiBhbGxvd3MgdXMgdG8gc2V0IGEgY3VzdG9tIGVycm9yIHdoZW4gYW4gZXJyb3IgcmFpc2VzIHVwLlxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyB3ZWJTb2NrZXQgfSBmcm9tICdyeGpzL3dlYlNvY2tldCc7XG4gKlxuICogY29uc3Qgd3NTdWJqZWN0ID0gd2ViU29ja2V0KHtcbiAqICAgdXJsOiAnd3M6Ly9sb2NhbGhvc3Q6ODA4MScsXG4gKiAgIGNsb3NlT2JzZXJ2ZXI6IHtcbiAqICAgICBuZXh0KCkge1xuICogICAgICAgY29uc3QgY3VzdG9tRXJyb3IgPSB7IGNvZGU6IDY2NjYsIHJlYXNvbjogJ0N1c3RvbSBldmlsIHJlYXNvbicgfVxuICogICAgICAgY29uc29sZS5sb2coYGNvZGU6ICR7IGN1c3RvbUVycm9yLmNvZGUgfSwgcmVhc29uOiAkeyBjdXN0b21FcnJvci5yZWFzb24gfWApO1xuICogICAgIH1cbiAqICAgfVxuICogfSk7XG4gKlxuICogLy8gb3V0cHV0XG4gKiAvLyBjb2RlOiA2NjY2LCByZWFzb246IEN1c3RvbSBldmlsIHJlYXNvblxuICogYGBgXG4gKlxuICogKipvcGVuT2JzZXJ2ZXIqKiwgTGV0J3Mgc2F5IHdlIG5lZWQgdG8gbWFrZSBzb21lIGtpbmQgb2YgaW5pdCB0YXNrIGJlZm9yZSBzZW5kaW5nL3JlY2VpdmluZyBtc2dzIHRvIHRoZVxuICogd2ViU29ja2V0IG9yIHNlbmRpbmcgbm90aWZpY2F0aW9uIHRoYXQgdGhlIGNvbm5lY3Rpb24gd2FzIHN1Y2Nlc3NmdWwsIHRoaXMgaXMgd2hlblxuICogb3Blbk9ic2VydmVyIGlzIHVzZWZ1bCBmb3IuXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IHdlYlNvY2tldCB9IGZyb20gJ3J4anMvd2ViU29ja2V0JztcbiAqXG4gKiBjb25zdCB3c1N1YmplY3QgPSB3ZWJTb2NrZXQoe1xuICogICB1cmw6ICd3czovL2xvY2FsaG9zdDo4MDgxJyxcbiAqICAgb3Blbk9ic2VydmVyOiB7XG4gKiAgICAgbmV4dDogKCkgPT4ge1xuICogICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3Rpb24gb2snKTtcbiAqICAgICB9XG4gKiAgIH1cbiAqIH0pO1xuICpcbiAqIC8vIG91dHB1dFxuICogLy8gQ29ubmVjdGlvbiBva1xuICogYGBgXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgV2ViU29ja2V0U3ViamVjdENvbmZpZzxUPiB7XG4gIC8qKiBUaGUgdXJsIG9mIHRoZSBzb2NrZXQgc2VydmVyIHRvIGNvbm5lY3QgdG8gKi9cbiAgdXJsOiBzdHJpbmc7XG4gIC8qKiBUaGUgcHJvdG9jb2wgdG8gdXNlIHRvIGNvbm5lY3QgKi9cbiAgcHJvdG9jb2w/OiBzdHJpbmcgfCBBcnJheTxzdHJpbmc+O1xuICAvKiogQGRlcHJlY2F0ZWQgV2lsbCBiZSByZW1vdmVkIGluIHY4LiBVc2Uge0BsaW5rIGRlc2VyaWFsaXplcn0gaW5zdGVhZC4gKi9cbiAgcmVzdWx0U2VsZWN0b3I/OiAoZTogTWVzc2FnZUV2ZW50KSA9PiBUO1xuICAvKipcbiAgICogQSBzZXJpYWxpemVyIHVzZWQgdG8gY3JlYXRlIG1lc3NhZ2VzIGZyb20gcGFzc2VkIHZhbHVlcyBiZWZvcmUgdGhlXG4gICAqIG1lc3NhZ2VzIGFyZSBzZW50IHRvIHRoZSBzZXJ2ZXIuIERlZmF1bHRzIHRvIEpTT04uc3RyaW5naWZ5LlxuICAgKi9cbiAgc2VyaWFsaXplcj86ICh2YWx1ZTogVCkgPT4gV2ViU29ja2V0TWVzc2FnZTtcbiAgLyoqXG4gICAqIEEgZGVzZXJpYWxpemVyIHVzZWQgZm9yIG1lc3NhZ2VzIGFycml2aW5nIG9uIHRoZSBzb2NrZXQgZnJvbSB0aGVcbiAgICogc2VydmVyLiBEZWZhdWx0cyB0byBKU09OLnBhcnNlLlxuICAgKi9cbiAgZGVzZXJpYWxpemVyPzogKGU6IE1lc3NhZ2VFdmVudCkgPT4gVDtcbiAgLyoqXG4gICAqIEFuIE9ic2VydmVyIHRoYXQgd2F0Y2hlcyB3aGVuIG9wZW4gZXZlbnRzIG9jY3VyIG9uIHRoZSB1bmRlcmx5aW5nIHdlYiBzb2NrZXQuXG4gICAqL1xuICBvcGVuT2JzZXJ2ZXI/OiBOZXh0T2JzZXJ2ZXI8RXZlbnQ+O1xuICAvKipcbiAgICogQW4gT2JzZXJ2ZXIgdGhhdCB3YXRjaGVzIHdoZW4gY2xvc2UgZXZlbnRzIG9jY3VyIG9uIHRoZSB1bmRlcmx5aW5nIHdlYiBzb2NrZXRcbiAgICovXG4gIGNsb3NlT2JzZXJ2ZXI/OiBOZXh0T2JzZXJ2ZXI8Q2xvc2VFdmVudD47XG4gIC8qKlxuICAgKiBBbiBPYnNlcnZlciB0aGF0IHdhdGNoZXMgd2hlbiBhIGNsb3NlIGlzIGFib3V0IHRvIG9jY3VyIGR1ZSB0b1xuICAgKiB1bnN1YnNjcmlwdGlvbi5cbiAgICovXG4gIGNsb3NpbmdPYnNlcnZlcj86IE5leHRPYnNlcnZlcjx2b2lkPjtcbiAgLyoqXG4gICAqIEEgV2ViU29ja2V0IGNvbnN0cnVjdG9yIHRvIHVzZS4gVGhpcyBpcyB1c2VmdWwgZm9yIHNpdHVhdGlvbnMgbGlrZSB1c2luZyBhXG4gICAqIFdlYlNvY2tldCBpbXBsIGluIE5vZGUgKFdlYlNvY2tldCBpcyBhIERPTSBBUEkpLCBvciBmb3IgbW9ja2luZyBhIFdlYlNvY2tldFxuICAgKiBmb3IgdGVzdGluZyBwdXJwb3Nlc1xuICAgKi9cbiAgV2ViU29ja2V0Q3Rvcj86IHsgbmV3ICh1cmw6IHN0cmluZywgcHJvdG9jb2xzPzogc3RyaW5nIHwgc3RyaW5nW10pOiBXZWJTb2NrZXQgfTtcbiAgLyoqIFNldHMgdGhlIGBiaW5hcnlUeXBlYCBwcm9wZXJ0eSBvZiB0aGUgdW5kZXJseWluZyBXZWJTb2NrZXQuICovXG4gIGJpbmFyeVR5cGU/OiAnYmxvYicgfCAnYXJyYXlidWZmZXInO1xufVxuXG5jb25zdCBERUZBVUxUX1dFQlNPQ0tFVF9DT05GSUc6IFdlYlNvY2tldFN1YmplY3RDb25maWc8YW55PiA9IHtcbiAgdXJsOiAnJyxcbiAgZGVzZXJpYWxpemVyOiAoZTogTWVzc2FnZUV2ZW50KSA9PiBKU09OLnBhcnNlKGUuZGF0YSksXG4gIHNlcmlhbGl6ZXI6ICh2YWx1ZTogYW55KSA9PiBKU09OLnN0cmluZ2lmeSh2YWx1ZSksXG59O1xuXG5jb25zdCBXRUJTT0NLRVRTVUJKRUNUX0lOVkFMSURfRVJST1JfT0JKRUNUID1cbiAgJ1dlYlNvY2tldFN1YmplY3QuZXJyb3IgbXVzdCBiZSBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCBhbiBlcnJvciBjb2RlLCBhbmQgYW4gb3B0aW9uYWwgcmVhc29uOiB7IGNvZGU6IG51bWJlciwgcmVhc29uOiBzdHJpbmcgfSc7XG5cbmV4cG9ydCB0eXBlIFdlYlNvY2tldE1lc3NhZ2UgPSBzdHJpbmcgfCBBcnJheUJ1ZmZlciB8IEJsb2IgfCBBcnJheUJ1ZmZlclZpZXc7XG5cbmV4cG9ydCBjbGFzcyBXZWJTb2NrZXRTdWJqZWN0PFQ+IGV4dGVuZHMgQW5vbnltb3VzU3ViamVjdDxUPiB7XG4gIC8vIEB0cy1pZ25vcmU6IFByb3BlcnR5IGhhcyBubyBpbml0aWFsaXplciBhbmQgaXMgbm90IGRlZmluaXRlbHkgYXNzaWduZWRcbiAgcHJpdmF0ZSBfY29uZmlnOiBXZWJTb2NrZXRTdWJqZWN0Q29uZmlnPFQ+O1xuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgLy8gQHRzLWlnbm9yZTogUHJvcGVydHkgaGFzIG5vIGluaXRpYWxpemVyIGFuZCBpcyBub3QgZGVmaW5pdGVseSBhc3NpZ25lZFxuICBfb3V0cHV0OiBTdWJqZWN0PFQ+O1xuXG4gIHByaXZhdGUgX3NvY2tldDogV2ViU29ja2V0IHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IodXJsQ29uZmlnT3JTb3VyY2U6IHN0cmluZyB8IFdlYlNvY2tldFN1YmplY3RDb25maWc8VD4gfCBPYnNlcnZhYmxlPFQ+LCBkZXN0aW5hdGlvbj86IE9ic2VydmVyPFQ+KSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAodXJsQ29uZmlnT3JTb3VyY2UgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgICB0aGlzLnNvdXJjZSA9IHVybENvbmZpZ09yU291cmNlIGFzIE9ic2VydmFibGU8VD47XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvbmZpZyA9ICh0aGlzLl9jb25maWcgPSB7IC4uLkRFRkFVTFRfV0VCU09DS0VUX0NPTkZJRyB9KTtcbiAgICAgIHRoaXMuX291dHB1dCA9IG5ldyBTdWJqZWN0PFQ+KCk7XG4gICAgICBpZiAodHlwZW9mIHVybENvbmZpZ09yU291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25maWcudXJsID0gdXJsQ29uZmlnT3JTb3VyY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB1cmxDb25maWdPclNvdXJjZSkge1xuICAgICAgICAgIGlmICh1cmxDb25maWdPclNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAoY29uZmlnIGFzIGFueSlba2V5XSA9ICh1cmxDb25maWdPclNvdXJjZSBhcyBhbnkpW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghY29uZmlnLldlYlNvY2tldEN0b3IgJiYgV2ViU29ja2V0KSB7XG4gICAgICAgIGNvbmZpZy5XZWJTb2NrZXRDdG9yID0gV2ViU29ja2V0O1xuICAgICAgfSBlbHNlIGlmICghY29uZmlnLldlYlNvY2tldEN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBXZWJTb2NrZXQgY29uc3RydWN0b3IgY2FuIGJlIGZvdW5kJyk7XG4gICAgICB9XG4gICAgICB0aGlzLmRlc3RpbmF0aW9uID0gbmV3IFJlcGxheVN1YmplY3QoKTtcbiAgICB9XG4gIH1cblxuICAvKiogQGRlcHJlY2F0ZWQgSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsLCBkbyBub3QgdXNlIGRpcmVjdGx5LiBXaWxsIGJlIG1hZGUgaW50ZXJuYWwgaW4gdjguICovXG4gIGxpZnQ8Uj4ob3BlcmF0b3I6IE9wZXJhdG9yPFQsIFI+KTogV2ViU29ja2V0U3ViamVjdDxSPiB7XG4gICAgY29uc3Qgc29jayA9IG5ldyBXZWJTb2NrZXRTdWJqZWN0PFI+KHRoaXMuX2NvbmZpZyBhcyBXZWJTb2NrZXRTdWJqZWN0Q29uZmlnPGFueT4sIHRoaXMuZGVzdGluYXRpb24gYXMgYW55KTtcbiAgICBzb2NrLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgc29jay5zb3VyY2UgPSB0aGlzO1xuICAgIHJldHVybiBzb2NrO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVzZXRTdGF0ZSgpIHtcbiAgICB0aGlzLl9zb2NrZXQgPSBudWxsO1xuICAgIGlmICghdGhpcy5zb3VyY2UpIHtcbiAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBuZXcgUmVwbGF5U3ViamVjdCgpO1xuICAgIH1cbiAgICB0aGlzLl9vdXRwdXQgPSBuZXcgU3ViamVjdDxUPigpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4ge0BsaW5rIE9ic2VydmFibGV9LCB0aGF0IHdoZW4gc3Vic2NyaWJlZCB0bywgc2VuZHMgYSBtZXNzYWdlLFxuICAgKiBkZWZpbmVkIGJ5IHRoZSBgc3ViTXNnYCBmdW5jdGlvbiwgdG8gdGhlIHNlcnZlciBvdmVyIHRoZSBzb2NrZXQgdG8gYmVnaW4gYVxuICAgKiBzdWJzY3JpcHRpb24gdG8gZGF0YSBvdmVyIHRoYXQgc29ja2V0LiBPbmNlIGRhdGEgYXJyaXZlcywgdGhlXG4gICAqIGBtZXNzYWdlRmlsdGVyYCBhcmd1bWVudCB3aWxsIGJlIHVzZWQgdG8gc2VsZWN0IHRoZSBhcHByb3ByaWF0ZSBkYXRhIGZvclxuICAgKiB0aGUgcmVzdWx0aW5nIE9ic2VydmFibGUuIFdoZW4gZmluYWxpemF0aW9uIG9jY3VycywgZWl0aGVyIGR1ZSB0b1xuICAgKiB1bnN1YnNjcmlwdGlvbiwgY29tcGxldGlvbiwgb3IgZXJyb3IsIGEgbWVzc2FnZSBkZWZpbmVkIGJ5IHRoZSBgdW5zdWJNc2dgXG4gICAqIGFyZ3VtZW50IHdpbGwgYmUgc2VudCB0byB0aGUgc2VydmVyIG92ZXIgdGhlIFdlYlNvY2tldFN1YmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSBzdWJNc2cgQSBmdW5jdGlvbiB0byBnZW5lcmF0ZSB0aGUgc3Vic2NyaXB0aW9uIG1lc3NhZ2UgdG8gYmUgc2VudCB0b1xuICAgKiB0aGUgc2VydmVyLiBUaGlzIHdpbGwgc3RpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoZSBzZXJpYWxpemVyIGluIHRoZVxuICAgKiBXZWJTb2NrZXRTdWJqZWN0J3MgY29uZmlnLiAoV2hpY2ggZGVmYXVsdHMgdG8gSlNPTiBzZXJpYWxpemF0aW9uKVxuICAgKiBAcGFyYW0gdW5zdWJNc2cgQSBmdW5jdGlvbiB0byBnZW5lcmF0ZSB0aGUgdW5zdWJzY3JpcHRpb24gbWVzc2FnZSB0byBiZVxuICAgKiBzZW50IHRvIHRoZSBzZXJ2ZXIgYXQgZmluYWxpemF0aW9uLiBUaGlzIHdpbGwgc3RpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoZVxuICAgKiBzZXJpYWxpemVyIGluIHRoZSBXZWJTb2NrZXRTdWJqZWN0J3MgY29uZmlnLlxuICAgKiBAcGFyYW0gbWVzc2FnZUZpbHRlciBBIHByZWRpY2F0ZSBmb3Igc2VsZWN0aW5nIHRoZSBhcHByb3ByaWF0ZSBtZXNzYWdlc1xuICAgKiBmcm9tIHRoZSBzZXJ2ZXIgZm9yIHRoZSBvdXRwdXQgc3RyZWFtLlxuICAgKi9cbiAgbXVsdGlwbGV4KHN1Yk1zZzogKCkgPT4gYW55LCB1bnN1Yk1zZzogKCkgPT4gYW55LCBtZXNzYWdlRmlsdGVyOiAodmFsdWU6IFQpID0+IGJvb2xlYW4pIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoKG9ic2VydmVyOiBPYnNlcnZlcjxUPikgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2VsZi5uZXh0KHN1Yk1zZygpKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBvYnNlcnZlci5lcnJvcihlcnIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBzZWxmLnN1YnNjcmliZSh7XG4gICAgICAgIG5leHQ6ICh4KSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlRmlsdGVyKHgpKSB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IChlcnIpID0+IG9ic2VydmVyLmVycm9yKGVyciksXG4gICAgICAgIGNvbXBsZXRlOiAoKSA9PiBvYnNlcnZlci5jb21wbGV0ZSgpLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2VsZi5uZXh0KHVuc3ViTXNnKCkpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgX2Nvbm5lY3RTb2NrZXQoKSB7XG4gICAgY29uc3QgeyBXZWJTb2NrZXRDdG9yLCBwcm90b2NvbCwgdXJsLCBiaW5hcnlUeXBlIH0gPSB0aGlzLl9jb25maWc7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSB0aGlzLl9vdXRwdXQ7XG5cbiAgICBsZXQgc29ja2V0OiBXZWJTb2NrZXQgfCBudWxsID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgc29ja2V0ID0gcHJvdG9jb2wgPyBuZXcgV2ViU29ja2V0Q3RvciEodXJsLCBwcm90b2NvbCkgOiBuZXcgV2ViU29ja2V0Q3RvciEodXJsKTtcbiAgICAgIHRoaXMuX3NvY2tldCA9IHNvY2tldDtcbiAgICAgIGlmIChiaW5hcnlUeXBlKSB7XG4gICAgICAgIHRoaXMuX3NvY2tldC5iaW5hcnlUeXBlID0gYmluYXJ5VHlwZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBvYnNlcnZlci5lcnJvcihlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCgpID0+IHtcbiAgICAgIHRoaXMuX3NvY2tldCA9IG51bGw7XG4gICAgICBpZiAoc29ja2V0ICYmIHNvY2tldC5yZWFkeVN0YXRlID09PSAxKSB7XG4gICAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc29ja2V0Lm9ub3BlbiA9IChldnQ6IEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB7IF9zb2NrZXQgfSA9IHRoaXM7XG4gICAgICBpZiAoIV9zb2NrZXQpIHtcbiAgICAgICAgc29ja2V0IS5jbG9zZSgpO1xuICAgICAgICB0aGlzLl9yZXNldFN0YXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgb3Blbk9ic2VydmVyIH0gPSB0aGlzLl9jb25maWc7XG4gICAgICBpZiAob3Blbk9ic2VydmVyKSB7XG4gICAgICAgIG9wZW5PYnNlcnZlci5uZXh0KGV2dCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5kZXN0aW5hdGlvbjtcblxuICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9IFN1YnNjcmliZXIuY3JlYXRlPFQ+KFxuICAgICAgICAoeCkgPT4ge1xuICAgICAgICAgIGlmIChzb2NrZXQhLnJlYWR5U3RhdGUgPT09IDEpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgc2VyaWFsaXplciB9ID0gdGhpcy5fY29uZmlnO1xuICAgICAgICAgICAgICBzb2NrZXQhLnNlbmQoc2VyaWFsaXplciEoeCEpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiEuZXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBjbG9zaW5nT2JzZXJ2ZXIgfSA9IHRoaXMuX2NvbmZpZztcbiAgICAgICAgICBpZiAoY2xvc2luZ09ic2VydmVyKSB7XG4gICAgICAgICAgICBjbG9zaW5nT2JzZXJ2ZXIubmV4dCh1bmRlZmluZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXJyICYmIGVyci5jb2RlKSB7XG4gICAgICAgICAgICBzb2NrZXQhLmNsb3NlKGVyci5jb2RlLCBlcnIucmVhc29uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IobmV3IFR5cGVFcnJvcihXRUJTT0NLRVRTVUJKRUNUX0lOVkFMSURfRVJST1JfT0JKRUNUKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX3Jlc2V0U3RhdGUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgY2xvc2luZ09ic2VydmVyIH0gPSB0aGlzLl9jb25maWc7XG4gICAgICAgICAgaWYgKGNsb3NpbmdPYnNlcnZlcikge1xuICAgICAgICAgICAgY2xvc2luZ09ic2VydmVyLm5leHQodW5kZWZpbmVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc29ja2V0IS5jbG9zZSgpO1xuICAgICAgICAgIHRoaXMuX3Jlc2V0U3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgKSBhcyBTdWJzY3JpYmVyPGFueT47XG5cbiAgICAgIGlmIChxdWV1ZSAmJiBxdWV1ZSBpbnN0YW5jZW9mIFJlcGxheVN1YmplY3QpIHtcbiAgICAgICAgc3Vic2NyaXB0aW9uLmFkZCgocXVldWUgYXMgUmVwbGF5U3ViamVjdDxUPikuc3Vic2NyaWJlKHRoaXMuZGVzdGluYXRpb24pKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgc29ja2V0Lm9uZXJyb3IgPSAoZTogRXZlbnQpID0+IHtcbiAgICAgIHRoaXMuX3Jlc2V0U3RhdGUoKTtcbiAgICAgIG9ic2VydmVyLmVycm9yKGUpO1xuICAgIH07XG5cbiAgICBzb2NrZXQub25jbG9zZSA9IChlOiBDbG9zZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoc29ja2V0ID09PSB0aGlzLl9zb2NrZXQpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRTdGF0ZSgpO1xuICAgICAgfVxuICAgICAgY29uc3QgeyBjbG9zZU9ic2VydmVyIH0gPSB0aGlzLl9jb25maWc7XG4gICAgICBpZiAoY2xvc2VPYnNlcnZlcikge1xuICAgICAgICBjbG9zZU9ic2VydmVyLm5leHQoZSk7XG4gICAgICB9XG4gICAgICBpZiAoZS53YXNDbGVhbikge1xuICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNvY2tldC5vbm1lc3NhZ2UgPSAoZTogTWVzc2FnZUV2ZW50KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRlc2VyaWFsaXplciB9ID0gdGhpcy5fY29uZmlnO1xuICAgICAgICBvYnNlcnZlci5uZXh0KGRlc2VyaWFsaXplciEoZSkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIG9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgcHJvdGVjdGVkIF9zdWJzY3JpYmUoc3Vic2NyaWJlcjogU3Vic2NyaWJlcjxUPik6IFN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3QgeyBzb3VyY2UgfSA9IHRoaXM7XG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfVxuICAgIGlmICghdGhpcy5fc29ja2V0KSB7XG4gICAgICB0aGlzLl9jb25uZWN0U29ja2V0KCk7XG4gICAgfVxuICAgIHRoaXMuX291dHB1dC5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgc3Vic2NyaWJlci5hZGQoKCkgPT4ge1xuICAgICAgY29uc3QgeyBfc29ja2V0IH0gPSB0aGlzO1xuICAgICAgaWYgKHRoaXMuX291dHB1dC5vYnNlcnZlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGlmIChfc29ja2V0ICYmIChfc29ja2V0LnJlYWR5U3RhdGUgPT09IDEgfHwgX3NvY2tldC5yZWFkeVN0YXRlID09PSAwKSkge1xuICAgICAgICAgIF9zb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXNldFN0YXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gIH1cblxuICB1bnN1YnNjcmliZSgpIHtcbiAgICBjb25zdCB7IF9zb2NrZXQgfSA9IHRoaXM7XG4gICAgaWYgKF9zb2NrZXQgJiYgKF9zb2NrZXQucmVhZHlTdGF0ZSA9PT0gMSB8fCBfc29ja2V0LnJlYWR5U3RhdGUgPT09IDApKSB7XG4gICAgICBfc29ja2V0LmNsb3NlKCk7XG4gICAgfVxuICAgIHRoaXMuX3Jlc2V0U3RhdGUoKTtcbiAgICBzdXBlci51bnN1YnNjcmliZSgpO1xuICB9XG59XG4iLCAiaW1wb3J0IHsgV2ViU29ja2V0U3ViamVjdCwgV2ViU29ja2V0U3ViamVjdENvbmZpZyB9IGZyb20gJy4vV2ViU29ja2V0U3ViamVjdCc7XG5cbi8qKlxuICogV3JhcHBlciBhcm91bmQgdGhlIHczYy1jb21wYXRpYmxlIFdlYlNvY2tldCBvYmplY3QgcHJvdmlkZWQgYnkgdGhlIGJyb3dzZXIuXG4gKlxuICogPHNwYW4gY2xhc3M9XCJpbmZvcm1hbFwiPntAbGluayBTdWJqZWN0fSB0aGF0IGNvbW11bmljYXRlcyB3aXRoIGEgc2VydmVyIHZpYSBXZWJTb2NrZXQ8L3NwYW4+XG4gKlxuICogYHdlYlNvY2tldGAgaXMgYSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgcHJvZHVjZXMgYSBgV2ViU29ja2V0U3ViamVjdGAsXG4gKiB3aGljaCBjYW4gYmUgdXNlZCB0byBtYWtlIFdlYlNvY2tldCBjb25uZWN0aW9uIHdpdGggYW4gYXJiaXRyYXJ5IGVuZHBvaW50LlxuICogYHdlYlNvY2tldGAgYWNjZXB0cyBhcyBhbiBhcmd1bWVudCBlaXRoZXIgYSBzdHJpbmcgd2l0aCB1cmwgb2YgV2ViU29ja2V0IGVuZHBvaW50LCBvciBhblxuICoge0BsaW5rIFdlYlNvY2tldFN1YmplY3RDb25maWd9IG9iamVjdCBmb3IgcHJvdmlkaW5nIGFkZGl0aW9uYWwgY29uZmlndXJhdGlvbiwgYXNcbiAqIHdlbGwgYXMgT2JzZXJ2ZXJzIGZvciB0cmFja2luZyBsaWZlY3ljbGUgb2YgV2ViU29ja2V0IGNvbm5lY3Rpb24uXG4gKlxuICogV2hlbiBgV2ViU29ja2V0U3ViamVjdGAgaXMgc3Vic2NyaWJlZCwgaXQgYXR0ZW1wdHMgdG8gbWFrZSBhIHNvY2tldCBjb25uZWN0aW9uLFxuICogdW5sZXNzIHRoZXJlIGlzIG9uZSBtYWRlIGFscmVhZHkuIFRoaXMgbWVhbnMgdGhhdCBtYW55IHN1YnNjcmliZXJzIHdpbGwgYWx3YXlzIGxpc3RlblxuICogb24gdGhlIHNhbWUgc29ja2V0LCB0aHVzIHNhdmluZyByZXNvdXJjZXMuIElmIGhvd2V2ZXIsIHR3byBpbnN0YW5jZXMgYXJlIG1hZGUgb2YgYFdlYlNvY2tldFN1YmplY3RgLFxuICogZXZlbiBpZiB0aGVzZSB0d28gd2VyZSBwcm92aWRlZCB3aXRoIHRoZSBzYW1lIHVybCwgdGhleSB3aWxsIGF0dGVtcHQgdG8gbWFrZSBzZXBhcmF0ZVxuICogY29ubmVjdGlvbnMuIFdoZW4gY29uc3VtZXIgb2YgYSBgV2ViU29ja2V0U3ViamVjdGAgdW5zdWJzY3JpYmVzLCBzb2NrZXQgY29ubmVjdGlvbiBpcyBjbG9zZWQsXG4gKiBvbmx5IGlmIHRoZXJlIGFyZSBubyBtb3JlIHN1YnNjcmliZXJzIHN0aWxsIGxpc3RlbmluZy4gSWYgYWZ0ZXIgc29tZSB0aW1lIGEgY29uc3VtZXIgc3RhcnRzXG4gKiBzdWJzY3JpYmluZyBhZ2FpbiwgY29ubmVjdGlvbiBpcyByZWVzdGFibGlzaGVkLlxuICpcbiAqIE9uY2UgY29ubmVjdGlvbiBpcyBtYWRlLCB3aGVuZXZlciBhIG5ldyBtZXNzYWdlIGNvbWVzIGZyb20gdGhlIHNlcnZlciwgYFdlYlNvY2tldFN1YmplY3RgIHdpbGwgZW1pdCB0aGF0XG4gKiBtZXNzYWdlIGFzIGEgdmFsdWUgaW4gdGhlIHN0cmVhbS4gQnkgZGVmYXVsdCwgYSBtZXNzYWdlIGZyb20gdGhlIHNvY2tldCBpcyBwYXJzZWQgdmlhIGBKU09OLnBhcnNlYC4gSWYgeW91XG4gKiB3YW50IHRvIGN1c3RvbWl6ZSBob3cgZGVzZXJpYWxpemF0aW9uIGlzIGhhbmRsZWQgKGlmIGF0IGFsbCksIHlvdSBjYW4gcHJvdmlkZSBjdXN0b20gYHJlc3VsdFNlbGVjdG9yYFxuICogZnVuY3Rpb24gaW4ge0BsaW5rIFdlYlNvY2tldFN1YmplY3R9LiBXaGVuIGNvbm5lY3Rpb24gY2xvc2VzLCBzdHJlYW0gd2lsbCBjb21wbGV0ZSwgcHJvdmlkZWQgaXQgaGFwcGVuZWQgd2l0aG91dFxuICogYW55IGVycm9ycy4gSWYgYXQgYW55IHBvaW50IChzdGFydGluZywgbWFpbnRhaW5pbmcgb3IgY2xvc2luZyBhIGNvbm5lY3Rpb24pIHRoZXJlIGlzIGFuIGVycm9yLFxuICogc3RyZWFtIHdpbGwgYWxzbyBlcnJvciB3aXRoIHdoYXRldmVyIFdlYlNvY2tldCBBUEkgaGFzIHRocm93bi5cbiAqXG4gKiBCeSB2aXJ0dWUgb2YgYmVpbmcgYSB7QGxpbmsgU3ViamVjdH0sIGBXZWJTb2NrZXRTdWJqZWN0YCBhbGxvd3MgZm9yIHJlY2VpdmluZyBhbmQgc2VuZGluZyBtZXNzYWdlcyBmcm9tIHRoZSBzZXJ2ZXIuIEluIG9yZGVyXG4gKiB0byBjb21tdW5pY2F0ZSB3aXRoIGEgY29ubmVjdGVkIGVuZHBvaW50LCB1c2UgYG5leHRgLCBgZXJyb3JgIGFuZCBgY29tcGxldGVgIG1ldGhvZHMuIGBuZXh0YCBzZW5kcyBhIHZhbHVlIHRvIHRoZSBzZXJ2ZXIsIHNvIGJlYXIgaW4gbWluZFxuICogdGhhdCB0aGlzIHZhbHVlIHdpbGwgbm90IGJlIHNlcmlhbGl6ZWQgYmVmb3JlaGFuZC4gQmVjYXVzZSBvZiBUaGlzLCBgSlNPTi5zdHJpbmdpZnlgIHdpbGwgaGF2ZSB0byBiZSBjYWxsZWQgb24gYSB2YWx1ZSBieSBoYW5kLFxuICogYmVmb3JlIGNhbGxpbmcgYG5leHRgIHdpdGggYSByZXN1bHQuIE5vdGUgYWxzbyB0aGF0IGlmIGF0IHRoZSBtb21lbnQgb2YgbmV4dGluZyB2YWx1ZVxuICogdGhlcmUgaXMgbm8gc29ja2V0IGNvbm5lY3Rpb24gKGZvciBleGFtcGxlIG5vIG9uZSBpcyBzdWJzY3JpYmluZyksIHRob3NlIHZhbHVlcyB3aWxsIGJlIGJ1ZmZlcmVkLCBhbmQgc2VudCB3aGVuIGNvbm5lY3Rpb25cbiAqIGlzIGZpbmFsbHkgZXN0YWJsaXNoZWQuIGBjb21wbGV0ZWAgbWV0aG9kIGNsb3NlcyBzb2NrZXQgY29ubmVjdGlvbi4gYGVycm9yYCBkb2VzIHRoZSBzYW1lLFxuICogYXMgd2VsbCBhcyBub3RpZnlpbmcgdGhlIHNlcnZlciB0aGF0IHNvbWV0aGluZyB3ZW50IHdyb25nIHZpYSBzdGF0dXMgY29kZSBhbmQgc3RyaW5nIHdpdGggZGV0YWlscyBvZiB3aGF0IGhhcHBlbmVkLlxuICogU2luY2Ugc3RhdHVzIGNvZGUgaXMgcmVxdWlyZWQgaW4gV2ViU29ja2V0IEFQSSwgYFdlYlNvY2tldFN1YmplY3RgIGRvZXMgbm90IGFsbG93LCBsaWtlIHJlZ3VsYXIgYFN1YmplY3RgLFxuICogYXJiaXRyYXJ5IHZhbHVlcyBiZWluZyBwYXNzZWQgdG8gdGhlIGBlcnJvcmAgbWV0aG9kLiBJdCBuZWVkcyB0byBiZSBjYWxsZWQgd2l0aCBhbiBvYmplY3QgdGhhdCBoYXMgYGNvZGVgXG4gKiBwcm9wZXJ0eSB3aXRoIHN0YXR1cyBjb2RlIG51bWJlciBhbmQgb3B0aW9uYWwgYHJlYXNvbmAgcHJvcGVydHkgd2l0aCBzdHJpbmcgZGVzY3JpYmluZyBkZXRhaWxzXG4gKiBvZiBhbiBlcnJvci5cbiAqXG4gKiBDYWxsaW5nIGBuZXh0YCBkb2VzIG5vdCBhZmZlY3Qgc3Vic2NyaWJlcnMgb2YgYFdlYlNvY2tldFN1YmplY3RgIC0gdGhleSBoYXZlIG5vXG4gKiBpbmZvcm1hdGlvbiB0aGF0IHNvbWV0aGluZyB3YXMgc2VudCB0byB0aGUgc2VydmVyICh1bmxlc3Mgb2YgY291cnNlIHRoZSBzZXJ2ZXJcbiAqIHJlc3BvbmRzIHNvbWVob3cgdG8gYSBtZXNzYWdlKS4gT24gdGhlIG90aGVyIGhhbmQsIHNpbmNlIGNhbGxpbmcgYGNvbXBsZXRlYCB0cmlnZ2Vyc1xuICogYW4gYXR0ZW1wdCB0byBjbG9zZSBzb2NrZXQgY29ubmVjdGlvbi4gSWYgdGhhdCBjb25uZWN0aW9uIGlzIGNsb3NlZCB3aXRob3V0IGFueSBlcnJvcnMsIHN0cmVhbSB3aWxsXG4gKiBjb21wbGV0ZSwgdGh1cyBub3RpZnlpbmcgYWxsIHN1YnNjcmliZXJzLiBBbmQgc2luY2UgY2FsbGluZyBgZXJyb3JgIGNsb3Nlc1xuICogc29ja2V0IGNvbm5lY3Rpb24gYXMgd2VsbCwganVzdCB3aXRoIGEgZGlmZmVyZW50IHN0YXR1cyBjb2RlIGZvciB0aGUgc2VydmVyLCBpZiBjbG9zaW5nIGl0c2VsZiBwcm9jZWVkc1xuICogd2l0aG91dCBlcnJvcnMsIHN1YnNjcmliZWQgT2JzZXJ2YWJsZSB3aWxsIG5vdCBlcnJvciwgYXMgb25lIG1pZ2h0IGV4cGVjdCwgYnV0IGNvbXBsZXRlIGFzIHVzdWFsLiBJbiBib3RoIGNhc2VzXG4gKiAoY2FsbGluZyBgY29tcGxldGVgIG9yIGBlcnJvcmApLCBpZiBwcm9jZXNzIG9mIGNsb3Npbmcgc29ja2V0IGNvbm5lY3Rpb24gcmVzdWx0cyBpbiBzb21lIGVycm9ycywgKnRoZW4qIHN0cmVhbVxuICogd2lsbCBlcnJvci5cbiAqXG4gKiAqKk11bHRpcGxleGluZyoqXG4gKlxuICogYFdlYlNvY2tldFN1YmplY3RgIGhhcyBhbiBhZGRpdGlvbmFsIG9wZXJhdG9yLCBub3QgZm91bmQgaW4gb3RoZXIgU3ViamVjdHMuIEl0IGlzIGNhbGxlZCBgbXVsdGlwbGV4YCBhbmQgaXQgaXNcbiAqIHVzZWQgdG8gc2ltdWxhdGUgb3BlbmluZyBzZXZlcmFsIHNvY2tldCBjb25uZWN0aW9ucywgd2hpbGUgaW4gcmVhbGl0eSBtYWludGFpbmluZyBvbmx5IG9uZS5cbiAqIEZvciBleGFtcGxlLCBhbiBhcHBsaWNhdGlvbiBoYXMgYm90aCBjaGF0IHBhbmVsIGFuZCByZWFsLXRpbWUgbm90aWZpY2F0aW9ucyBhYm91dCBzcG9ydCBuZXdzLiBTaW5jZSB0aGVzZSBhcmUgdHdvIGRpc3RpbmN0IGZ1bmN0aW9ucyxcbiAqIGl0IHdvdWxkIG1ha2Ugc2Vuc2UgdG8gaGF2ZSB0d28gc2VwYXJhdGUgY29ubmVjdGlvbnMgZm9yIGVhY2guIFBlcmhhcHMgdGhlcmUgY291bGQgZXZlbiBiZSB0d28gc2VwYXJhdGUgc2VydmljZXMgd2l0aCBXZWJTb2NrZXRcbiAqIGVuZHBvaW50cywgcnVubmluZyBvbiBzZXBhcmF0ZSBtYWNoaW5lcyB3aXRoIG9ubHkgR1VJIGNvbWJpbmluZyB0aGVtIHRvZ2V0aGVyLiBIYXZpbmcgYSBzb2NrZXQgY29ubmVjdGlvblxuICogZm9yIGVhY2ggZnVuY3Rpb25hbGl0eSBjb3VsZCBiZWNvbWUgdG9vIHJlc291cmNlIGV4cGVuc2l2ZS4gSXQgaXMgYSBjb21tb24gcGF0dGVybiB0byBoYXZlIHNpbmdsZVxuICogV2ViU29ja2V0IGVuZHBvaW50IHRoYXQgYWN0cyBhcyBhIGdhdGV3YXkgZm9yIHRoZSBvdGhlciBzZXJ2aWNlcyAoaW4gdGhpcyBjYXNlIGNoYXQgYW5kIHNwb3J0IG5ld3Mgc2VydmljZXMpLlxuICogRXZlbiB0aG91Z2ggdGhlcmUgaXMgYSBzaW5nbGUgY29ubmVjdGlvbiBpbiBhIGNsaWVudCBhcHAsIGhhdmluZyB0aGUgYWJpbGl0eSB0byBtYW5pcHVsYXRlIHN0cmVhbXMgYXMgaWYgaXRcbiAqIHdlcmUgdHdvIHNlcGFyYXRlIHNvY2tldHMgaXMgZGVzaXJhYmxlLiBUaGlzIGVsaW1pbmF0ZXMgbWFudWFsbHkgcmVnaXN0ZXJpbmcgYW5kIHVucmVnaXN0ZXJpbmcgaW4gYSBnYXRld2F5IGZvclxuICogZ2l2ZW4gc2VydmljZSBhbmQgZmlsdGVyIG91dCBtZXNzYWdlcyBvZiBpbnRlcmVzdC4gVGhpcyBpcyBleGFjdGx5IHdoYXQgYG11bHRpcGxleGAgbWV0aG9kIGlzIGZvci5cbiAqXG4gKiBNZXRob2QgYWNjZXB0cyB0aHJlZSBwYXJhbWV0ZXJzLiBGaXJzdCB0d28gYXJlIGZ1bmN0aW9ucyByZXR1cm5pbmcgc3Vic2NyaXB0aW9uIGFuZCB1bnN1YnNjcmlwdGlvbiBtZXNzYWdlc1xuICogcmVzcGVjdGl2ZWx5LiBUaGVzZSBhcmUgbWVzc2FnZXMgdGhhdCB3aWxsIGJlIHNlbnQgdG8gdGhlIHNlcnZlciwgd2hlbmV2ZXIgY29uc3VtZXIgb2YgcmVzdWx0aW5nIE9ic2VydmFibGVcbiAqIHN1YnNjcmliZXMgYW5kIHVuc3Vic2NyaWJlcy4gU2VydmVyIGNhbiB1c2UgdGhlbSB0byB2ZXJpZnkgdGhhdCBzb21lIGtpbmQgb2YgbWVzc2FnZXMgc2hvdWxkIHN0YXJ0IG9yIHN0b3BcbiAqIGJlaW5nIGZvcndhcmRlZCB0byB0aGUgY2xpZW50LiBJbiBjYXNlIG9mIHRoZSBhYm92ZSBleGFtcGxlIGFwcGxpY2F0aW9uLCBhZnRlciBnZXR0aW5nIHN1YnNjcmlwdGlvbiBtZXNzYWdlIHdpdGggcHJvcGVyIGlkZW50aWZpZXIsXG4gKiBnYXRld2F5IHNlcnZlciBjYW4gZGVjaWRlIHRoYXQgaXQgc2hvdWxkIGNvbm5lY3QgdG8gcmVhbCBzcG9ydCBuZXdzIHNlcnZpY2UgYW5kIHN0YXJ0IGZvcndhcmRpbmcgbWVzc2FnZXMgZnJvbSBpdC5cbiAqIE5vdGUgdGhhdCBib3RoIG1lc3NhZ2VzIHdpbGwgYmUgc2VudCBhcyByZXR1cm5lZCBieSB0aGUgZnVuY3Rpb25zLCB0aGV5IGFyZSBieSBkZWZhdWx0IHNlcmlhbGl6ZWQgdXNpbmcgSlNPTi5zdHJpbmdpZnksIGp1c3RcbiAqIGFzIG1lc3NhZ2VzIHB1c2hlZCB2aWEgYG5leHRgLiBBbHNvIGJlYXIgaW4gbWluZCB0aGF0IHRoZXNlIG1lc3NhZ2VzIHdpbGwgYmUgc2VudCBvbiAqZXZlcnkqIHN1YnNjcmlwdGlvbiBhbmRcbiAqIHVuc3Vic2NyaXB0aW9uLiBUaGlzIGlzIHBvdGVudGlhbGx5IGRhbmdlcm91cywgYmVjYXVzZSBvbmUgY29uc3VtZXIgb2YgYW4gT2JzZXJ2YWJsZSBtYXkgdW5zdWJzY3JpYmUgYW5kIHRoZSBzZXJ2ZXJcbiAqIG1pZ2h0IHN0b3Agc2VuZGluZyBtZXNzYWdlcywgc2luY2UgaXQgZ290IHVuc3Vic2NyaXB0aW9uIG1lc3NhZ2UuIFRoaXMgbmVlZHMgdG8gYmUgaGFuZGxlZFxuICogb24gdGhlIHNlcnZlciBvciB1c2luZyB7QGxpbmsgcHVibGlzaH0gb24gYSBPYnNlcnZhYmxlIHJldHVybmVkIGZyb20gJ211bHRpcGxleCcuXG4gKlxuICogTGFzdCBhcmd1bWVudCB0byBgbXVsdGlwbGV4YCBpcyBhIGBtZXNzYWdlRmlsdGVyYCBmdW5jdGlvbiB3aGljaCBzaG91bGQgcmV0dXJuIGEgYm9vbGVhbi4gSXQgaXMgdXNlZCB0byBmaWx0ZXIgb3V0IG1lc3NhZ2VzXG4gKiBzZW50IGJ5IHRoZSBzZXJ2ZXIgdG8gb25seSB0aG9zZSB0aGF0IGJlbG9uZyB0byBzaW11bGF0ZWQgV2ViU29ja2V0IHN0cmVhbS4gRm9yIGV4YW1wbGUsIHNlcnZlciBtaWdodCBtYXJrIHRoZXNlXG4gKiBtZXNzYWdlcyB3aXRoIHNvbWUga2luZCBvZiBzdHJpbmcgaWRlbnRpZmllciBvbiBhIG1lc3NhZ2Ugb2JqZWN0IGFuZCBgbWVzc2FnZUZpbHRlcmAgd291bGQgcmV0dXJuIGB0cnVlYFxuICogaWYgdGhlcmUgaXMgc3VjaCBpZGVudGlmaWVyIG9uIGFuIG9iamVjdCBlbWl0dGVkIGJ5IHRoZSBzb2NrZXQuIE1lc3NhZ2VzIHdoaWNoIHJldHVybnMgYGZhbHNlYCBpbiBgbWVzc2FnZUZpbHRlcmAgYXJlIHNpbXBseSBza2lwcGVkLFxuICogYW5kIGFyZSBub3QgcGFzc2VkIGRvd24gdGhlIHN0cmVhbS5cbiAqXG4gKiBSZXR1cm4gdmFsdWUgb2YgYG11bHRpcGxleGAgaXMgYW4gT2JzZXJ2YWJsZSB3aXRoIG1lc3NhZ2VzIGluY29taW5nIGZyb20gZW11bGF0ZWQgc29ja2V0IGNvbm5lY3Rpb24uIE5vdGUgdGhhdCB0aGlzXG4gKiBpcyBub3QgYSBgV2ViU29ja2V0U3ViamVjdGAsIHNvIGNhbGxpbmcgYG5leHRgIG9yIGBtdWx0aXBsZXhgIGFnYWluIHdpbGwgZmFpbC4gRm9yIHB1c2hpbmcgdmFsdWVzIHRvIHRoZVxuICogc2VydmVyLCB1c2Ugcm9vdCBgV2ViU29ja2V0U3ViamVjdGAuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBMaXN0ZW5pbmcgZm9yIG1lc3NhZ2VzIGZyb20gdGhlIHNlcnZlclxuICpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyB3ZWJTb2NrZXQgfSBmcm9tICdyeGpzL3dlYlNvY2tldCc7XG4gKlxuICogY29uc3Qgc3ViamVjdCA9IHdlYlNvY2tldCgnd3M6Ly9sb2NhbGhvc3Q6ODA4MScpO1xuICpcbiAqIHN1YmplY3Quc3Vic2NyaWJlKHtcbiAqICAgbmV4dDogbXNnID0+IGNvbnNvbGUubG9nKCdtZXNzYWdlIHJlY2VpdmVkOiAnICsgbXNnKSwgLy8gQ2FsbGVkIHdoZW5ldmVyIHRoZXJlIGlzIGEgbWVzc2FnZSBmcm9tIHRoZSBzZXJ2ZXIuXG4gKiAgIGVycm9yOiBlcnIgPT4gY29uc29sZS5sb2coZXJyKSwgLy8gQ2FsbGVkIGlmIGF0IGFueSBwb2ludCBXZWJTb2NrZXQgQVBJIHNpZ25hbHMgc29tZSBraW5kIG9mIGVycm9yLlxuICogICBjb21wbGV0ZTogKCkgPT4gY29uc29sZS5sb2coJ2NvbXBsZXRlJykgLy8gQ2FsbGVkIHdoZW4gY29ubmVjdGlvbiBpcyBjbG9zZWQgKGZvciB3aGF0ZXZlciByZWFzb24pLlxuICogIH0pO1xuICogYGBgXG4gKlxuICogUHVzaGluZyBtZXNzYWdlcyB0byB0aGUgc2VydmVyXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IHdlYlNvY2tldCB9IGZyb20gJ3J4anMvd2ViU29ja2V0JztcbiAqXG4gKiBjb25zdCBzdWJqZWN0ID0gd2ViU29ja2V0KCd3czovL2xvY2FsaG9zdDo4MDgxJyk7XG4gKlxuICogc3ViamVjdC5zdWJzY3JpYmUoKTtcbiAqIC8vIE5vdGUgdGhhdCBhdCBsZWFzdCBvbmUgY29uc3VtZXIgaGFzIHRvIHN1YnNjcmliZSB0byB0aGUgY3JlYXRlZCBzdWJqZWN0IC0gb3RoZXJ3aXNlIFwibmV4dGVkXCIgdmFsdWVzIHdpbGwgYmUganVzdCBidWZmZXJlZCBhbmQgbm90IHNlbnQsXG4gKiAvLyBzaW5jZSBubyBjb25uZWN0aW9uIHdhcyBlc3RhYmxpc2hlZCFcbiAqXG4gKiBzdWJqZWN0Lm5leHQoeyBtZXNzYWdlOiAnc29tZSBtZXNzYWdlJyB9KTtcbiAqIC8vIFRoaXMgd2lsbCBzZW5kIGEgbWVzc2FnZSB0byB0aGUgc2VydmVyIG9uY2UgYSBjb25uZWN0aW9uIGlzIG1hZGUuIFJlbWVtYmVyIHZhbHVlIGlzIHNlcmlhbGl6ZWQgd2l0aCBKU09OLnN0cmluZ2lmeSBieSBkZWZhdWx0IVxuICpcbiAqIHN1YmplY3QuY29tcGxldGUoKTsgLy8gQ2xvc2VzIHRoZSBjb25uZWN0aW9uLlxuICpcbiAqIHN1YmplY3QuZXJyb3IoeyBjb2RlOiA0MDAwLCByZWFzb246ICdJIHRoaW5rIG91ciBhcHAganVzdCBicm9rZSEnIH0pO1xuICogLy8gQWxzbyBjbG9zZXMgdGhlIGNvbm5lY3Rpb24sIGJ1dCBsZXQncyB0aGUgc2VydmVyIGtub3cgdGhhdCB0aGlzIGNsb3NpbmcgaXMgY2F1c2VkIGJ5IHNvbWUgZXJyb3IuXG4gKiBgYGBcbiAqXG4gKiBNdWx0aXBsZXhpbmcgV2ViU29ja2V0XG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IHdlYlNvY2tldCB9IGZyb20gJ3J4anMvd2ViU29ja2V0JztcbiAqXG4gKiBjb25zdCBzdWJqZWN0ID0gd2ViU29ja2V0KCd3czovL2xvY2FsaG9zdDo4MDgxJyk7XG4gKlxuICogY29uc3Qgb2JzZXJ2YWJsZUEgPSBzdWJqZWN0Lm11bHRpcGxleChcbiAqICAgKCkgPT4gKHsgc3Vic2NyaWJlOiAnQScgfSksIC8vIFdoZW4gc2VydmVyIGdldHMgdGhpcyBtZXNzYWdlLCBpdCB3aWxsIHN0YXJ0IHNlbmRpbmcgbWVzc2FnZXMgZm9yICdBJy4uLlxuICogICAoKSA9PiAoeyB1bnN1YnNjcmliZTogJ0EnIH0pLCAvLyAuLi5hbmQgd2hlbiBnZXRzIHRoaXMgb25lLCBpdCB3aWxsIHN0b3AuXG4gKiAgIG1lc3NhZ2UgPT4gbWVzc2FnZS50eXBlID09PSAnQScgLy8gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgYHRydWVgIG1lc3NhZ2UgaXMgcGFzc2VkIGRvd24gdGhlIHN0cmVhbS4gU2tpcHBlZCBpZiB0aGUgZnVuY3Rpb24gcmV0dXJucyBmYWxzZS5cbiAqICk7XG4gKlxuICogY29uc3Qgb2JzZXJ2YWJsZUIgPSBzdWJqZWN0Lm11bHRpcGxleCggLy8gQW5kIHRoZSBzYW1lIGdvZXMgZm9yICdCJy5cbiAqICAgKCkgPT4gKHsgc3Vic2NyaWJlOiAnQicgfSksXG4gKiAgICgpID0+ICh7IHVuc3Vic2NyaWJlOiAnQicgfSksXG4gKiAgIG1lc3NhZ2UgPT4gbWVzc2FnZS50eXBlID09PSAnQidcbiAqICk7XG4gKlxuICogY29uc3Qgc3ViQSA9IG9ic2VydmFibGVBLnN1YnNjcmliZShtZXNzYWdlRm9yQSA9PiBjb25zb2xlLmxvZyhtZXNzYWdlRm9yQSkpO1xuICogLy8gQXQgdGhpcyBtb21lbnQgV2ViU29ja2V0IGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQuIFNlcnZlciBnZXRzICd7XCJzdWJzY3JpYmVcIjogXCJBXCJ9JyBtZXNzYWdlIGFuZCBzdGFydHMgc2VuZGluZyBtZXNzYWdlcyBmb3IgJ0EnLFxuICogLy8gd2hpY2ggd2UgbG9nIGhlcmUuXG4gKlxuICogY29uc3Qgc3ViQiA9IG9ic2VydmFibGVCLnN1YnNjcmliZShtZXNzYWdlRm9yQiA9PiBjb25zb2xlLmxvZyhtZXNzYWdlRm9yQikpO1xuICogLy8gU2luY2Ugd2UgYWxyZWFkeSBoYXZlIGEgY29ubmVjdGlvbiwgd2UganVzdCBzZW5kICd7XCJzdWJzY3JpYmVcIjogXCJCXCJ9JyBtZXNzYWdlIHRvIHRoZSBzZXJ2ZXIuIEl0IHN0YXJ0cyBzZW5kaW5nIG1lc3NhZ2VzIGZvciAnQicsXG4gKiAvLyB3aGljaCB3ZSBsb2cgaGVyZS5cbiAqXG4gKiBzdWJCLnVuc3Vic2NyaWJlKCk7XG4gKiAvLyBNZXNzYWdlICd7XCJ1bnN1YnNjcmliZVwiOiBcIkJcIn0nIGlzIHNlbnQgdG8gdGhlIHNlcnZlciwgd2hpY2ggc3RvcHMgc2VuZGluZyAnQicgbWVzc2FnZXMuXG4gKlxuICogc3ViQS51bnN1YnNjcmliZSgpO1xuICogLy8gTWVzc2FnZSAne1widW5zdWJzY3JpYmVcIjogXCJBXCJ9JyBtYWtlcyB0aGUgc2VydmVyIHN0b3Agc2VuZGluZyBtZXNzYWdlcyBmb3IgJ0EnLiBTaW5jZSB0aGVyZSBpcyBubyBtb3JlIHN1YnNjcmliZXJzIHRvIHJvb3QgU3ViamVjdCxcbiAqIC8vIHNvY2tldCBjb25uZWN0aW9uIGNsb3Nlcy5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfFdlYlNvY2tldFN1YmplY3RDb25maWd9IHVybENvbmZpZ09yU291cmNlIFRoZSBXZWJTb2NrZXQgZW5kcG9pbnQgYXMgYW4gdXJsIG9yIGFuIG9iamVjdCB3aXRoXG4gKiBjb25maWd1cmF0aW9uIGFuZCBhZGRpdGlvbmFsIE9ic2VydmVycy5cbiAqIEByZXR1cm4ge1dlYlNvY2tldFN1YmplY3R9IFN1YmplY3Qgd2hpY2ggYWxsb3dzIHRvIGJvdGggc2VuZCBhbmQgcmVjZWl2ZSBtZXNzYWdlcyB2aWEgV2ViU29ja2V0IGNvbm5lY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3ZWJTb2NrZXQ8VD4odXJsQ29uZmlnT3JTb3VyY2U6IHN0cmluZyB8IFdlYlNvY2tldFN1YmplY3RDb25maWc8VD4pOiBXZWJTb2NrZXRTdWJqZWN0PFQ+IHtcbiAgcmV0dXJuIG5ldyBXZWJTb2NrZXRTdWJqZWN0PFQ+KHVybENvbmZpZ09yU291cmNlKTtcbn1cbiIsICJpbXBvcnQgeyBQcm9kdWNlciB9IGZyb20gXCIuL3Byb2R1Y2VyXCI7XG5pbXBvcnQgeyB3ZWJTb2NrZXQgfSBmcm9tIFwicnhqcy93ZWJTb2NrZXRcIjtcbmltcG9ydCB7IENsaWVudEV2ZW50IH0gZnJvbSBcIkBicm93c2Vyc3luYy9nZW5lcmF0ZWQvZHRvXCI7XG5pbXBvcnQgeyByZXRyeSB9IGZyb20gXCJyeGpzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB3cygpOiBQcm9kdWNlciB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlOiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgICAgICAgICAgdXJsLnByb3RvY29sID0gdXJsLnByb3RvY29sID09PSBcImh0dHA6XCIgPyBcIndzXCIgOiBcIndzc1wiO1xuICAgICAgICAgICAgdXJsLnBhdGhuYW1lID0gXCIvX19ic193c1wiO1xuXG4gICAgICAgICAgICBjb25zdCBzb2NrZXQgPSB3ZWJTb2NrZXQ8Q2xpZW50RXZlbnQ+KHVybC5vcmlnaW4gKyB1cmwucGF0aG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHNvY2tldC5waXBlKHJldHJ5KHsgZGVsYXk6IDUwMDAgfSkpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4iLCAiaW1wb3J0IHsgQ2xpZW50Q29uZmlnRFRPLCBMb2dMZXZlbERUTyB9IGZyb20gXCJAYnJvd3NlcnN5bmMvZ2VuZXJhdGVkL2R0b1wiO1xuaW1wb3J0IHsgaWdub3JlRWxlbWVudHMsIE9ic2VydmFibGUsIHNjYW4sIFN1YmplY3QsIHRhcCB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBTaW5rIH0gZnJvbSBcIi4vc2lua1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbnNvbGVFdmVudCB7XG4gICAgbGV2ZWw6IExvZ0xldmVsRFRPO1xuICAgIGFyZ3M6IGFueVtdO1xufVxuXG5leHBvcnQgdHlwZSBDb25zb2xlQXBpID0gUGljazxcbiAgICB0eXBlb2YgY29uc29sZSxcbiAgICBcInRyYWNlXCIgfCBcImRlYnVnXCIgfCBcImluZm9cIiB8IFwiZXJyb3JcIlxuPjtcblxuZXhwb3J0IGNvbnN0IE5VTExfQ09OU09MRTogQ29uc29sZUFwaSA9IHtcbiAgICBkZWJ1ZyguLi5kYXRhOiBhbnlbXSk6IHZvaWQge30sXG4gICAgZXJyb3IoLi4uZGF0YTogYW55W10pOiB2b2lkIHt9LFxuICAgIGluZm8oLi4uZGF0YTogYW55W10pOiB2b2lkIHt9LFxuICAgIHRyYWNlKC4uLmRhdGE6IGFueVtdKTogdm9pZCB7fSxcbn07XG5cbmV4cG9ydCBjb25zdCBjb25zb2xlUGx1Z2luOiBTaW5rPENvbnNvbGVFdmVudCwgQ29uc29sZUFwaT4gPSB7XG4gICAgbmFtZTogXCJjb25zb2xlXCIsXG4gICAgZ2xvYmFsU2V0dXA6IChldmVudHMpID0+IHtcbiAgICAgICAgY29uc3Qgc3ViamVjdCA9IG5ldyBTdWJqZWN0PENvbnNvbGVFdmVudD4oKTtcbiAgICAgICAgY29uc3QgYXBpOiBDb25zb2xlQXBpID0ge1xuICAgICAgICAgICAgZGVidWc6IGZ1bmN0aW9uICguLi5kYXRhOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICAgICAgICAgIHN1YmplY3QubmV4dCh7XG4gICAgICAgICAgICAgICAgICAgIGxldmVsOiBMb2dMZXZlbERUTy5EZWJ1ZyxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmZvOiBmdW5jdGlvbiAoLi4uZGF0YTogYW55W10pOiB2b2lkIHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Lm5leHQoe1xuICAgICAgICAgICAgICAgICAgICBsZXZlbDogTG9nTGV2ZWxEVE8uSW5mbyxcbiAgICAgICAgICAgICAgICAgICAgYXJnczogZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0cmFjZTogZnVuY3Rpb24gKC4uLmRhdGE6IGFueVtdKTogdm9pZCB7XG4gICAgICAgICAgICAgICAgc3ViamVjdC5uZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IExvZ0xldmVsRFRPLlRyYWNlLFxuICAgICAgICAgICAgICAgICAgICBhcmdzOiBkYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoLi4uZGF0YTogYW55W10pOiB2b2lkIHtcbiAgICAgICAgICAgICAgICBzdWJqZWN0Lm5leHQoe1xuICAgICAgICAgICAgICAgICAgICBsZXZlbDogTG9nTGV2ZWxEVE8uRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IGRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gW3N1YmplY3QsIGFwaV07XG4gICAgfSxcbiAgICByZXNldFNpbms6IChcbiAgICAgICAgZXZlbnRzJDogT2JzZXJ2YWJsZTxDb25zb2xlRXZlbnQ+LFxuICAgICAgICBfYXBpOiBDb25zb2xlQXBpLFxuICAgICAgICBjb25maWc6IENsaWVudENvbmZpZ0RUTyxcbiAgICApOiBPYnNlcnZhYmxlPHVua25vd24+ID0+IHtcbiAgICAgICAgcmV0dXJuIGV2ZW50cyQucGlwZShcbiAgICAgICAgICAgIHRhcCgoZXZ0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGV2ZWxPcmRlciA9IFtcbiAgICAgICAgICAgICAgICAgICAgTG9nTGV2ZWxEVE8uVHJhY2UsXG4gICAgICAgICAgICAgICAgICAgIExvZ0xldmVsRFRPLkRlYnVnLFxuICAgICAgICAgICAgICAgICAgICBMb2dMZXZlbERUTy5JbmZvLFxuICAgICAgICAgICAgICAgICAgICBMb2dMZXZlbERUTy5FcnJvcixcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRMZXZlbEluZGV4ID0gbGV2ZWxPcmRlci5pbmRleE9mKGV2dC5sZXZlbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uZmlnTGV2ZWxJbmRleCA9IGxldmVsT3JkZXIuaW5kZXhPZihjb25maWcubG9nX2xldmVsKTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TGV2ZWxJbmRleCA+PSBjb25maWdMZXZlbEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbJHtldnQubGV2ZWx9XWAsIC4uLmV2dC5hcmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGlnbm9yZUVsZW1lbnRzKCksXG4gICAgICAgICk7XG4gICAgfSxcbn07XG4iLCAidmFyIHV0aWw7XG4oZnVuY3Rpb24gKHV0aWwpIHtcbiAgICB1dGlsLmFzc2VydEVxdWFsID0gKHZhbCkgPT4gdmFsO1xuICAgIGZ1bmN0aW9uIGFzc2VydElzKF9hcmcpIHsgfVxuICAgIHV0aWwuYXNzZXJ0SXMgPSBhc3NlcnRJcztcbiAgICBmdW5jdGlvbiBhc3NlcnROZXZlcihfeCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICB9XG4gICAgdXRpbC5hc3NlcnROZXZlciA9IGFzc2VydE5ldmVyO1xuICAgIHV0aWwuYXJyYXlUb0VudW0gPSAoaXRlbXMpID0+IHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgb2JqW2l0ZW1dID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gICAgdXRpbC5nZXRWYWxpZEVudW1WYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbGlkS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhvYmopLmZpbHRlcigoaykgPT4gdHlwZW9mIG9ialtvYmpba11dICE9PSBcIm51bWJlclwiKTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrIG9mIHZhbGlkS2V5cykge1xuICAgICAgICAgICAgZmlsdGVyZWRba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0VmFsdWVzKGZpbHRlcmVkKTtcbiAgICB9O1xuICAgIHV0aWwub2JqZWN0VmFsdWVzID0gKG9iaikgPT4ge1xuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RLZXlzKG9iaikubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqW2VdO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHV0aWwub2JqZWN0S2V5cyA9IHR5cGVvZiBPYmplY3Qua2V5cyA9PT0gXCJmdW5jdGlvblwiIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYmFuL2JhblxuICAgICAgICA/IChvYmopID0+IE9iamVjdC5rZXlzKG9iaikgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgIDogKG9iamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH07XG4gICAgdXRpbC5maW5kID0gKGFyciwgY2hlY2tlcikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tlcihpdGVtKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgdXRpbC5pc0ludGVnZXIgPSB0eXBlb2YgTnVtYmVyLmlzSW50ZWdlciA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgID8gKHZhbCkgPT4gTnVtYmVyLmlzSW50ZWdlcih2YWwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYmFuL2JhblxuICAgICAgICA6ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgJiYgaXNGaW5pdGUodmFsKSAmJiBNYXRoLmZsb29yKHZhbCkgPT09IHZhbDtcbiAgICBmdW5jdGlvbiBqb2luVmFsdWVzKGFycmF5LCBzZXBhcmF0b3IgPSBcIiB8IFwiKSB7XG4gICAgICAgIHJldHVybiBhcnJheVxuICAgICAgICAgICAgLm1hcCgodmFsKSA9PiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiA/IGAnJHt2YWx9J2AgOiB2YWwpKVxuICAgICAgICAgICAgLmpvaW4oc2VwYXJhdG9yKTtcbiAgICB9XG4gICAgdXRpbC5qb2luVmFsdWVzID0gam9pblZhbHVlcztcbiAgICB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciA9IChfLCB2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbn0pKHV0aWwgfHwgKHV0aWwgPSB7fSkpO1xudmFyIG9iamVjdFV0aWw7XG4oZnVuY3Rpb24gKG9iamVjdFV0aWwpIHtcbiAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzID0gKGZpcnN0LCBzZWNvbmQpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmZpcnN0LFxuICAgICAgICAgICAgLi4uc2Vjb25kLCAvLyBzZWNvbmQgb3ZlcndyaXRlcyBmaXJzdFxuICAgICAgICB9O1xuICAgIH07XG59KShvYmplY3RVdGlsIHx8IChvYmplY3RVdGlsID0ge30pKTtcbmNvbnN0IFpvZFBhcnNlZFR5cGUgPSB1dGlsLmFycmF5VG9FbnVtKFtcbiAgICBcInN0cmluZ1wiLFxuICAgIFwibmFuXCIsXG4gICAgXCJudW1iZXJcIixcbiAgICBcImludGVnZXJcIixcbiAgICBcImZsb2F0XCIsXG4gICAgXCJib29sZWFuXCIsXG4gICAgXCJkYXRlXCIsXG4gICAgXCJiaWdpbnRcIixcbiAgICBcInN5bWJvbFwiLFxuICAgIFwiZnVuY3Rpb25cIixcbiAgICBcInVuZGVmaW5lZFwiLFxuICAgIFwibnVsbFwiLFxuICAgIFwiYXJyYXlcIixcbiAgICBcIm9iamVjdFwiLFxuICAgIFwidW5rbm93blwiLFxuICAgIFwicHJvbWlzZVwiLFxuICAgIFwidm9pZFwiLFxuICAgIFwibmV2ZXJcIixcbiAgICBcIm1hcFwiLFxuICAgIFwic2V0XCIsXG5dKTtcbmNvbnN0IGdldFBhcnNlZFR5cGUgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5zdHJpbmc7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBpc05hTihkYXRhKSA/IFpvZFBhcnNlZFR5cGUubmFuIDogWm9kUGFyc2VkVHlwZS5udW1iZXI7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5ib29sZWFuO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uO1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5iaWdpbnQ7XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN5bWJvbDtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5hcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnRoZW4gJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZGF0YS50aGVuID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICBkYXRhLmNhdGNoICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubWFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTZXQgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmRhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5vYmplY3Q7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmtub3duO1xuICAgIH1cbn07XG5cbmNvbnN0IFpvZElzc3VlQ29kZSA9IHV0aWwuYXJyYXlUb0VudW0oW1xuICAgIFwiaW52YWxpZF90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2xpdGVyYWxcIixcbiAgICBcImN1c3RvbVwiLFxuICAgIFwiaW52YWxpZF91bmlvblwiLFxuICAgIFwiaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yXCIsXG4gICAgXCJpbnZhbGlkX2VudW1fdmFsdWVcIixcbiAgICBcInVucmVjb2duaXplZF9rZXlzXCIsXG4gICAgXCJpbnZhbGlkX2FyZ3VtZW50c1wiLFxuICAgIFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiLFxuICAgIFwiaW52YWxpZF9kYXRlXCIsXG4gICAgXCJpbnZhbGlkX3N0cmluZ1wiLFxuICAgIFwidG9vX3NtYWxsXCIsXG4gICAgXCJ0b29fYmlnXCIsXG4gICAgXCJpbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlc1wiLFxuICAgIFwibm90X211bHRpcGxlX29mXCIsXG4gICAgXCJub3RfZmluaXRlXCIsXG5dKTtcbmNvbnN0IHF1b3RlbGVzc0pzb24gPSAob2JqKSA9PiB7XG4gICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgcmV0dXJuIGpzb24ucmVwbGFjZSgvXCIoW15cIl0rKVwiOi9nLCBcIiQxOlwiKTtcbn07XG5jbGFzcyBab2RFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihpc3N1ZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZSA9IChzdWIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCBzdWJdO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZElzc3VlcyA9IChzdWJzID0gW10pID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCAuLi5zdWJzXTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYWN0dWFsUHJvdG8gPSBuZXcudGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBhY3R1YWxQcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fcHJvdG9fXyA9IGFjdHVhbFByb3RvO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZSA9IFwiWm9kRXJyb3JcIjtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBpc3N1ZXM7XG4gICAgfVxuICAgIGdldCBlcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzc3VlcztcbiAgICB9XG4gICAgZm9ybWF0KF9tYXBwZXIpIHtcbiAgICAgICAgY29uc3QgbWFwcGVyID0gX21hcHBlciB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGlzc3VlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzc3VlLm1lc3NhZ2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgY29uc3QgcHJvY2Vzc0Vycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGVycm9yLmlzc3Vlcykge1xuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfdW5pb25cIikge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZS51bmlvbkVycm9ycy5tYXAocHJvY2Vzc0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3JldHVybl90eXBlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLnJldHVyblR5cGVFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9hcmd1bWVudHNcIikge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoaXNzdWUuYXJndW1lbnRzRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZEVycm9ycy5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyciA9IGZpZWxkRXJyb3JzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgaXNzdWUucGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gaXNzdWUucGF0aFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFsID0gaSA9PT0gaXNzdWUucGF0aC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICh0eXBlb2YgZWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSBpZiAodHlwZW9mIGVsID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjb25zdCBlcnJvckFycmF5OiBhbnkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGVycm9yQXJyYXkuX2Vycm9ycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCBlcnJvckFycmF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIgPSBjdXJyW2VsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcHJvY2Vzc0Vycm9yKHRoaXMpO1xuICAgICAgICByZXR1cm4gZmllbGRFcnJvcnM7XG4gICAgfVxuICAgIHN0YXRpYyBhc3NlcnQodmFsdWUpIHtcbiAgICAgICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBab2RFcnJvcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm90IGEgWm9kRXJyb3I6ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7XG4gICAgfVxuICAgIGdldCBtZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5pc3N1ZXMsIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyLCAyKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzc3Vlcy5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIGZsYXR0ZW4obWFwcGVyID0gKGlzc3VlKSA9PiBpc3N1ZS5tZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkRXJyb3JzID0ge307XG4gICAgICAgIGNvbnN0IGZvcm1FcnJvcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzdWIgb2YgdGhpcy5pc3N1ZXMpIHtcbiAgICAgICAgICAgIGlmIChzdWIucGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dID0gZmllbGRFcnJvcnNbc3ViLnBhdGhbMF1dIHx8IFtdO1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzW3N1Yi5wYXRoWzBdXS5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvcm1FcnJvcnMucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgZm9ybUVycm9ycywgZmllbGRFcnJvcnMgfTtcbiAgICB9XG4gICAgZ2V0IGZvcm1FcnJvcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsYXR0ZW4oKTtcbiAgICB9XG59XG5ab2RFcnJvci5jcmVhdGUgPSAoaXNzdWVzKSA9PiB7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoaXNzdWVzKTtcbiAgICByZXR1cm4gZXJyb3I7XG59O1xuXG5jb25zdCBlcnJvck1hcCA9IChpc3N1ZSwgX2N0eCkgPT4ge1xuICAgIGxldCBtZXNzYWdlO1xuICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGU6XG4gICAgICAgICAgICBpZiAoaXNzdWUucmVjZWl2ZWQgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiUmVxdWlyZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRXhwZWN0ZWQgJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2VpdmVkICR7aXNzdWUucmVjZWl2ZWR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWw6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgbGl0ZXJhbCB2YWx1ZSwgZXhwZWN0ZWQgJHtKU09OLnN0cmluZ2lmeShpc3N1ZS5leHBlY3RlZCwgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYFVucmVjb2duaXplZCBrZXkocykgaW4gb2JqZWN0OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGVudW0gdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfSwgcmVjZWl2ZWQgJyR7aXNzdWUucmVjZWl2ZWR9J2A7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gYXJndW1lbnRzYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGZ1bmN0aW9uIHJldHVybiB0eXBlYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGF0ZWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmc6XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJpbmNsdWRlc1wiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGluY2x1ZGUgXCIke2lzc3VlLnZhbGlkYXRpb24uaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24ucG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBhdCBvbmUgb3IgbW9yZSBwb3NpdGlvbnMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICR7aXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwic3RhcnRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IHN0YXJ0IHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uc3RhcnRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwiZW5kc1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBlbmQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5lbmRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGlzc3VlLnZhbGlkYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnZhbGlkYXRpb24gIT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCAke2lzc3VlLnZhbGlkYXRpb259YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fc21hbGw6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgbW9yZSB0aGFuYH0gJHtpc3N1ZS5taW5pbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgb3ZlcmB9ICR7aXNzdWUubWluaW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0XG4gICAgICAgICAgICAgICAgICAgID8gYGV4YWN0bHkgZXF1YWwgdG8gYFxuICAgICAgICAgICAgICAgICAgICA6IGlzc3VlLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYGdyZWF0ZXIgdGhhbiBgfSR7aXNzdWUubWluaW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBEYXRlIG11c3QgYmUgJHtpc3N1ZS5leGFjdFxuICAgICAgICAgICAgICAgICAgICA/IGBleGFjdGx5IGVxdWFsIHRvIGBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGBncmVhdGVyIHRoYW4gYH0ke25ldyBEYXRlKE51bWJlcihpc3N1ZS5taW5pbXVtKSl9YDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUudG9vX2JpZzpcbiAgICAgICAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBBcnJheSBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBtb3N0YCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19IGVsZW1lbnQocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFN0cmluZyBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBtb3N0YCA6IGB1bmRlcmB9ICR7aXNzdWUubWF4aW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0XG4gICAgICAgICAgICAgICAgICAgID8gYGV4YWN0bHlgXG4gICAgICAgICAgICAgICAgICAgIDogaXNzdWUuaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGBsZXNzIHRoYW4gb3IgZXF1YWwgdG9gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBCaWdJbnQgbXVzdCBiZSAke2lzc3VlLmV4YWN0XG4gICAgICAgICAgICAgICAgICAgID8gYGV4YWN0bHlgXG4gICAgICAgICAgICAgICAgICAgIDogaXNzdWUuaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGBsZXNzIHRoYW4gb3IgZXF1YWwgdG9gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3RcbiAgICAgICAgICAgICAgICAgICAgPyBgZXhhY3RseWBcbiAgICAgICAgICAgICAgICAgICAgOiBpc3N1ZS5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYHNtYWxsZXIgdGhhbiBvciBlcXVhbCB0b2BcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYHNtYWxsZXIgdGhhbmB9ICR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1heGltdW0pKX1gO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5jdXN0b206XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnRlcnNlY3Rpb24gcmVzdWx0cyBjb3VsZCBub3QgYmUgbWVyZ2VkYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2Y6XG4gICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgJHtpc3N1ZS5tdWx0aXBsZU9mfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUubm90X2Zpbml0ZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIk51bWJlciBtdXN0IGJlIGZpbml0ZVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBtZXNzYWdlID0gX2N0eC5kZWZhdWx0RXJyb3I7XG4gICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGlzc3VlKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xufTtcblxubGV0IG92ZXJyaWRlRXJyb3JNYXAgPSBlcnJvck1hcDtcbmZ1bmN0aW9uIHNldEVycm9yTWFwKG1hcCkge1xuICAgIG92ZXJyaWRlRXJyb3JNYXAgPSBtYXA7XG59XG5mdW5jdGlvbiBnZXRFcnJvck1hcCgpIHtcbiAgICByZXR1cm4gb3ZlcnJpZGVFcnJvck1hcDtcbn1cblxuY29uc3QgbWFrZUlzc3VlID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgcGF0aCwgZXJyb3JNYXBzLCBpc3N1ZURhdGEgfSA9IHBhcmFtcztcbiAgICBjb25zdCBmdWxsUGF0aCA9IFsuLi5wYXRoLCAuLi4oaXNzdWVEYXRhLnBhdGggfHwgW10pXTtcbiAgICBjb25zdCBmdWxsSXNzdWUgPSB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgfTtcbiAgICBpZiAoaXNzdWVEYXRhLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICAgICAgICBtZXNzYWdlOiBpc3N1ZURhdGEubWVzc2FnZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgY29uc3QgbWFwcyA9IGVycm9yTWFwc1xuICAgICAgICAuZmlsdGVyKChtKSA9PiAhIW0pXG4gICAgICAgIC5zbGljZSgpXG4gICAgICAgIC5yZXZlcnNlKCk7XG4gICAgZm9yIChjb25zdCBtYXAgb2YgbWFwcykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBtYXAoZnVsbElzc3VlLCB7IGRhdGEsIGRlZmF1bHRFcnJvcjogZXJyb3JNZXNzYWdlIH0pLm1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICB9O1xufTtcbmNvbnN0IEVNUFRZX1BBVEggPSBbXTtcbmZ1bmN0aW9uIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgaXNzdWVEYXRhKSB7XG4gICAgY29uc3Qgb3ZlcnJpZGVNYXAgPSBnZXRFcnJvck1hcCgpO1xuICAgIGNvbnN0IGlzc3VlID0gbWFrZUlzc3VlKHtcbiAgICAgICAgaXNzdWVEYXRhOiBpc3N1ZURhdGEsXG4gICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCxcbiAgICAgICAgICAgIG92ZXJyaWRlTWFwLFxuICAgICAgICAgICAgb3ZlcnJpZGVNYXAgPT09IGVycm9yTWFwID8gdW5kZWZpbmVkIDogZXJyb3JNYXAsIC8vIHRoZW4gZ2xvYmFsIGRlZmF1bHQgbWFwXG4gICAgICAgIF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgIH0pO1xuICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goaXNzdWUpO1xufVxuY2xhc3MgUGFyc2VTdGF0dXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJ2YWxpZFwiO1xuICAgIH1cbiAgICBkaXJ0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IFwidmFsaWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImRpcnR5XCI7XG4gICAgfVxuICAgIGFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJhYm9ydGVkXCI7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cykge1xuICAgICAgICBjb25zdCBhcnJheVZhbHVlID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBhcnJheVZhbHVlLnB1c2gocy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBhcnJheVZhbHVlIH07XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBtZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpIHtcbiAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBmaW5hbE9iamVjdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gcGFpcjtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmIChrZXkudmFsdWUgIT09IFwiX19wcm90b19fXCIgJiZcbiAgICAgICAgICAgICAgICAodHlwZW9mIHZhbHVlLnZhbHVlICE9PSBcInVuZGVmaW5lZFwiIHx8IHBhaXIuYWx3YXlzU2V0KSkge1xuICAgICAgICAgICAgICAgIGZpbmFsT2JqZWN0W2tleS52YWx1ZV0gPSB2YWx1ZS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsT2JqZWN0IH07XG4gICAgfVxufVxuY29uc3QgSU5WQUxJRCA9IE9iamVjdC5mcmVlemUoe1xuICAgIHN0YXR1czogXCJhYm9ydGVkXCIsXG59KTtcbmNvbnN0IERJUlRZID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwiZGlydHlcIiwgdmFsdWUgfSk7XG5jb25zdCBPSyA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlIH0pO1xuY29uc3QgaXNBYm9ydGVkID0gKHgpID0+IHguc3RhdHVzID09PSBcImFib3J0ZWRcIjtcbmNvbnN0IGlzRGlydHkgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiZGlydHlcIjtcbmNvbnN0IGlzVmFsaWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwidmFsaWRcIjtcbmNvbnN0IGlzQXN5bmMgPSAoeCkgPT4gdHlwZW9mIFByb21pc2UgIT09IFwidW5kZWZpbmVkXCIgJiYgeCBpbnN0YW5jZW9mIFByb21pc2U7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxuZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuXHJcbnR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uIChlcnJvciwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xyXG4gICAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xyXG59O1xuXG52YXIgZXJyb3JVdGlsO1xuKGZ1bmN0aW9uIChlcnJvclV0aWwpIHtcbiAgICBlcnJvclV0aWwuZXJyVG9PYmogPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2UgfSA6IG1lc3NhZ2UgfHwge307XG4gICAgZXJyb3JVdGlsLnRvU3RyaW5nID0gKG1lc3NhZ2UpID0+IHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IG1lc3NhZ2UgPT09IG51bGwgfHwgbWVzc2FnZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWVzc2FnZS5tZXNzYWdlO1xufSkoZXJyb3JVdGlsIHx8IChlcnJvclV0aWwgPSB7fSkpO1xuXG52YXIgX1pvZEVudW1fY2FjaGUsIF9ab2ROYXRpdmVFbnVtX2NhY2hlO1xuY2xhc3MgUGFyc2VJbnB1dExhenlQYXRoIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIHZhbHVlLCBwYXRoLCBrZXkpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkUGF0aCA9IFtdO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5kYXRhID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3BhdGggPSBwYXRoO1xuICAgICAgICB0aGlzLl9rZXkgPSBrZXk7XG4gICAgfVxuICAgIGdldCBwYXRoKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlZFBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fa2V5IGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgLi4udGhpcy5fa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCB0aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRQYXRoO1xuICAgIH1cbn1cbmNvbnN0IGhhbmRsZVJlc3VsdCA9IChjdHgsIHJlc3VsdCkgPT4ge1xuICAgIGlmIChpc1ZhbGlkKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LnZhbHVlIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoIWN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsaWRhdGlvbiBmYWlsZWQgYnV0IG5vIGlzc3VlcyBkZXRlY3RlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufTtcbmZ1bmN0aW9uIHByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBjb25zdCB7IGVycm9yTWFwLCBpbnZhbGlkX3R5cGVfZXJyb3IsIHJlcXVpcmVkX2Vycm9yLCBkZXNjcmlwdGlvbiB9ID0gcGFyYW1zO1xuICAgIGlmIChlcnJvck1hcCAmJiAoaW52YWxpZF90eXBlX2Vycm9yIHx8IHJlcXVpcmVkX2Vycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHVzZSBcImludmFsaWRfdHlwZV9lcnJvclwiIG9yIFwicmVxdWlyZWRfZXJyb3JcIiBpbiBjb25qdW5jdGlvbiB3aXRoIGN1c3RvbSBlcnJvciBtYXAuYCk7XG4gICAgfVxuICAgIGlmIChlcnJvck1hcClcbiAgICAgICAgcmV0dXJuIHsgZXJyb3JNYXA6IGVycm9yTWFwLCBkZXNjcmlwdGlvbiB9O1xuICAgIGNvbnN0IGN1c3RvbU1hcCA9IChpc3MsIGN0eCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHBhcmFtcztcbiAgICAgICAgaWYgKGlzcy5jb2RlID09PSBcImludmFsaWRfZW51bV92YWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlICE9PSBudWxsICYmIG1lc3NhZ2UgIT09IHZvaWQgMCA/IG1lc3NhZ2UgOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjdHguZGF0YSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogKF9hID0gbWVzc2FnZSAhPT0gbnVsbCAmJiBtZXNzYWdlICE9PSB2b2lkIDAgPyBtZXNzYWdlIDogcmVxdWlyZWRfZXJyb3IpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNzLmNvZGUgIT09IFwiaW52YWxpZF90eXBlXCIpXG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IChfYiA9IG1lc3NhZ2UgIT09IG51bGwgJiYgbWVzc2FnZSAhPT0gdm9pZCAwID8gbWVzc2FnZSA6IGludmFsaWRfdHlwZV9lcnJvcikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgIH07XG4gICAgcmV0dXJuIHsgZXJyb3JNYXA6IGN1c3RvbU1hcCwgZGVzY3JpcHRpb24gfTtcbn1cbmNsYXNzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKGRlZikge1xuICAgICAgICAvKiogQWxpYXMgb2Ygc2FmZVBhcnNlQXN5bmMgKi9cbiAgICAgICAgdGhpcy5zcGEgPSB0aGlzLnNhZmVQYXJzZUFzeW5jO1xuICAgICAgICB0aGlzLl9kZWYgPSBkZWY7XG4gICAgICAgIHRoaXMucGFyc2UgPSB0aGlzLnBhcnNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2FmZVBhcnNlID0gdGhpcy5zYWZlUGFyc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wYXJzZUFzeW5jID0gdGhpcy5wYXJzZUFzeW5jLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc2FmZVBhcnNlQXN5bmMgPSB0aGlzLnNhZmVQYXJzZUFzeW5jLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3BhID0gdGhpcy5zcGEuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZpbmUgPSB0aGlzLnJlZmluZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZmluZW1lbnQgPSB0aGlzLnJlZmluZW1lbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zdXBlclJlZmluZSA9IHRoaXMuc3VwZXJSZWZpbmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vcHRpb25hbCA9IHRoaXMub3B0aW9uYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5udWxsYWJsZSA9IHRoaXMubnVsbGFibGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5udWxsaXNoID0gdGhpcy5udWxsaXNoLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYXJyYXkgPSB0aGlzLmFycmF5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IHRoaXMucHJvbWlzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9yID0gdGhpcy5vci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFuZCA9IHRoaXMuYW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5icmFuZCA9IHRoaXMuYnJhbmQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gdGhpcy5kZWZhdWx0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuY2F0Y2ggPSB0aGlzLmNhdGNoLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVzY3JpYmUgPSB0aGlzLmRlc2NyaWJlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGlwZSA9IHRoaXMucGlwZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlYWRvbmx5ID0gdGhpcy5yZWFkb25seS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmlzTnVsbGFibGUgPSB0aGlzLmlzTnVsbGFibGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc09wdGlvbmFsID0gdGhpcy5pc09wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIGdldCBkZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5kZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgX2dldFR5cGUoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIF9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KSB7XG4gICAgICAgIHJldHVybiAoY3R4IHx8IHtcbiAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgIGRhdGE6IGlucHV0LmRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGlucHV0LmRhdGEpLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhdGg6IGlucHV0LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGlucHV0LnBhcmVudCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogbmV3IFBhcnNlU3RhdHVzKCksXG4gICAgICAgICAgICBjdHg6IHtcbiAgICAgICAgICAgICAgICBjb21tb246IGlucHV0LnBhcmVudC5jb21tb24sXG4gICAgICAgICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGlucHV0LmRhdGEpLFxuICAgICAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGlucHV0LnBhcmVudCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9wYXJzZVN5bmMoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2UoaW5wdXQpO1xuICAgICAgICBpZiAoaXNBc3luYyhyZXN1bHQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTeW5jaHJvbm91cyBwYXJzZSBlbmNvdW50ZXJlZCBwcm9taXNlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBfcGFyc2VBc3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICB9XG4gICAgcGFyc2UoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuc2FmZVBhcnNlKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBzYWZlUGFyc2UoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogKF9hID0gcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmFzeW5jKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5lcnJvck1hcCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLnBhdGgpIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBhc3luYyBzYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiAocGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLnBhdGgpIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYXliZUFzeW5jUmVzdWx0ID0gdGhpcy5fcGFyc2UoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChpc0FzeW5jKG1heWJlQXN5bmNSZXN1bHQpXG4gICAgICAgICAgICA/IG1heWJlQXN5bmNSZXN1bHRcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKG1heWJlQXN5bmNSZXN1bHQpKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJlZmluZShjaGVjaywgbWVzc2FnZSkge1xuICAgICAgICBjb25zdCBnZXRJc3N1ZVByb3BlcnRpZXMgPSAodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG1lc3NhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UodmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNoZWNrKHZhbCk7XG4gICAgICAgICAgICBjb25zdCBzZXRFcnJvciA9ICgpID0+IGN0eC5hZGRJc3N1ZSh7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmN1c3RvbSxcbiAgICAgICAgICAgICAgICAuLi5nZXRJc3N1ZVByb3BlcnRpZXModmFsKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZmluZW1lbnQoY2hlY2ssIHJlZmluZW1lbnREYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KCh2YWwsIGN0eCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjaGVjayh2YWwpKSB7XG4gICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHR5cGVvZiByZWZpbmVtZW50RGF0YSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICAgICAgICAgID8gcmVmaW5lbWVudERhdGEodmFsLCBjdHgpXG4gICAgICAgICAgICAgICAgICAgIDogcmVmaW5lbWVudERhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3JlZmluZW1lbnQocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicmVmaW5lbWVudFwiLCByZWZpbmVtZW50IH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdXBlclJlZmluZShyZWZpbmVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KHJlZmluZW1lbnQpO1xuICAgIH1cbiAgICBvcHRpb25hbCgpIHtcbiAgICAgICAgcmV0dXJuIFpvZE9wdGlvbmFsLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBudWxsYWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZE51bGxhYmxlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBudWxsaXNoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5udWxsYWJsZSgpLm9wdGlvbmFsKCk7XG4gICAgfVxuICAgIGFycmF5KCkge1xuICAgICAgICByZXR1cm4gWm9kQXJyYXkuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBab2RQcm9taXNlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBvcihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIFpvZFVuaW9uLmNyZWF0ZShbdGhpcywgb3B0aW9uXSwgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgYW5kKGluY29taW5nKSB7XG4gICAgICAgIHJldHVybiBab2RJbnRlcnNlY3Rpb24uY3JlYXRlKHRoaXMsIGluY29taW5nLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWZhdWx0KGRlZikge1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYnJhbmQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQnJhbmRlZCh7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZGVmKSB7XG4gICAgICAgIGNvbnN0IGNhdGNoVmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIGlubmVyVHlwZTogdGhpcyxcbiAgICAgICAgICAgIGNhdGNoVmFsdWU6IGNhdGNoVmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlc2NyaWJlKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnN0IFRoaXMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IFRoaXMoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaXBlKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gWm9kUGlwZWxpbmUuY3JlYXRlKHRoaXMsIHRhcmdldCk7XG4gICAgfVxuICAgIHJlYWRvbmx5KCkge1xuICAgICAgICByZXR1cm4gWm9kUmVhZG9ubHkuY3JlYXRlKHRoaXMpO1xuICAgIH1cbiAgICBpc09wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UodW5kZWZpbmVkKS5zdWNjZXNzO1xuICAgIH1cbiAgICBpc051bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UobnVsbCkuc3VjY2VzcztcbiAgICB9XG59XG5jb25zdCBjdWlkUmVnZXggPSAvXmNbXlxccy1dezgsfSQvaTtcbmNvbnN0IGN1aWQyUmVnZXggPSAvXlswLTlhLXpdKyQvO1xuY29uc3QgdWxpZFJlZ2V4ID0gL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC87XG4vLyBjb25zdCB1dWlkUmVnZXggPVxuLy8gICAvXihbYS1mMC05XXs4fS1bYS1mMC05XXs0fS1bMS01XVthLWYwLTldezN9LVthLWYwLTldezR9LVthLWYwLTldezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pO1xuY29uc3QgdXVpZFJlZ2V4ID0gL15bMC05YS1mQS1GXXs4fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXsxMn0kL2k7XG5jb25zdCBuYW5vaWRSZWdleCA9IC9eW2EtejAtOV8tXXsyMX0kL2k7XG5jb25zdCBkdXJhdGlvblJlZ2V4ID0gL15bLStdP1AoPyEkKSg/Oig/OlstK10/XFxkK1kpfCg/OlstK10/XFxkK1suLF1cXGQrWSQpKT8oPzooPzpbLStdP1xcZCtNKXwoPzpbLStdP1xcZCtbLixdXFxkK00kKSk/KD86KD86Wy0rXT9cXGQrVyl8KD86Wy0rXT9cXGQrWy4sXVxcZCtXJCkpPyg/Oig/OlstK10/XFxkK0QpfCg/OlstK10/XFxkK1suLF1cXGQrRCQpKT8oPzpUKD89W1xcZCstXSkoPzooPzpbLStdP1xcZCtIKXwoPzpbLStdP1xcZCtbLixdXFxkK0gkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/OlstK10/XFxkKyg/OlsuLF1cXGQrKT9TKT8pPz8kLztcbi8vIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ2MTgxLzE1NTAxNTVcbi8vIG9sZCB2ZXJzaW9uOiB0b28gc2xvdywgZGlkbid0IHN1cHBvcnQgdW5pY29kZVxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKCgoW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKyhcXC4oW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKykqKXwoKFxceDIyKSgoKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KChbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHg3Zl18XFx4MjF8W1xceDIzLVxceDViXXxbXFx4NWQtXFx4N2VdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoXFxcXChbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpKSooKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KFxceDIyKSkpQCgoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4pKygoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSQvaTtcbi8vb2xkIGVtYWlsIHJlZ2V4XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID0gL14oKFtePD4oKVtcXF0uLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXS4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKCg/IS0pKFtePD4oKVtcXF0uLDs6XFxzQFwiXStcXC4pK1tePD4oKVtcXF0uLDs6XFxzQFwiXXsxLH0pW14tPD4oKVtcXF0uLDs6XFxzQFwiXSQvaTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcWygoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcXSl8KFxcW0lQdjY6KChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKVxcXSl8KFtBLVphLXowLTldKFtBLVphLXowLTktXSpbQS1aYS16MC05XSkqKFxcLltBLVphLXpdezIsfSkrKSkkLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXpBLVowLTlcXC5cXCFcXCNcXCRcXCVcXCZcXCdcXCpcXCtcXC9cXD1cXD9cXF5cXF9cXGBcXHtcXHxcXH1cXH5cXC1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKD86W2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlxcLlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSspKnxcIig/OltcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDIxXFx4MjMtXFx4NWJcXHg1ZC1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKlwiKUAoPzooPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/fFxcWyg/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/fFthLXowLTktXSpbYS16MC05XTooPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMS1cXHg1YVxceDUzLVxceDdmXXxcXFxcW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBlLVxceDdmXSkrKVxcXSkkL2k7XG5jb25zdCBlbWFpbFJlZ2V4ID0gL14oPyFcXC4pKD8hLipcXC5cXC4pKFtBLVowLTlfJytcXC1cXC5dKilbQS1aMC05XystXUAoW0EtWjAtOV1bQS1aMC05XFwtXSpcXC4pK1tBLVpdezIsfSQvaTtcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXowLTkuISMkJSZcdTIwMTkqKy89P15fYHt8fX4tXStAW2EtejAtOS1dKyg/OlxcLlthLXowLTlcXC1dKykqJC9pO1xuLy8gZnJvbSBodHRwczovL3RoZWtldmluc2NvdHQuY29tL2Vtb2ppcy1pbi1qYXZhc2NyaXB0LyN3cml0aW5nLWEtcmVndWxhci1leHByZXNzaW9uXG5jb25zdCBfZW1vamlSZWdleCA9IGBeKFxcXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318XFxcXHB7RW1vamlfQ29tcG9uZW50fSkrJGA7XG5sZXQgZW1vamlSZWdleDtcbi8vIGZhc3Rlciwgc2ltcGxlciwgc2FmZXJcbmNvbnN0IGlwdjRSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pJC87XG5jb25zdCBpcHY2UmVnZXggPSAvXigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSkkLztcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NjAzOTIvZGV0ZXJtaW5lLWlmLXN0cmluZy1pcy1pbi1iYXNlNjQtdXNpbmctamF2YXNjcmlwdFxuY29uc3QgYmFzZTY0UmVnZXggPSAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC87XG4vLyBzaW1wbGVcbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfWA7XG4vLyBubyBsZWFwIHllYXIgdmFsaWRhdGlvblxuLy8gY29uc3QgZGF0ZVJlZ2V4U291cmNlID0gYFxcXFxkezR9LSgoMFsxMzU3OF18MTB8MTIpLTMxfCgwWzEzLTldfDFbMC0yXSktMzB8KDBbMS05XXwxWzAtMl0pLSgwWzEtOV18MVxcXFxkfDJcXFxcZCkpYDtcbi8vIHdpdGggbGVhcCB5ZWFyIHZhbGlkYXRpb25cbmNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGAoKFxcXFxkXFxcXGRbMjQ2OF1bMDQ4XXxcXFxcZFxcXFxkWzEzNTc5XVsyNl18XFxcXGRcXFxcZDBbNDhdfFswMjQ2OF1bMDQ4XTAwfFsxMzU3OV1bMjZdMDApLTAyLTI5fFxcXFxkezR9LSgoMFsxMzU3OF18MVswMl0pLSgwWzEtOV18WzEyXVxcXFxkfDNbMDFdKXwoMFs0NjldfDExKS0oMFsxLTldfFsxMl1cXFxcZHwzMCl8KDAyKS0oMFsxLTldfDFcXFxcZHwyWzAtOF0pKSlgO1xuY29uc3QgZGF0ZVJlZ2V4ID0gbmV3IFJlZ0V4cChgXiR7ZGF0ZVJlZ2V4U291cmNlfSRgKTtcbmZ1bmN0aW9uIHRpbWVSZWdleFNvdXJjZShhcmdzKSB7XG4gICAgLy8gbGV0IHJlZ2V4ID0gYFxcXFxkezJ9OlxcXFxkezJ9OlxcXFxkezJ9YDtcbiAgICBsZXQgcmVnZXggPSBgKFswMV1cXFxcZHwyWzAtM10pOlswLTVdXFxcXGQ6WzAtNV1cXFxcZGA7XG4gICAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgICAgIHJlZ2V4ID0gYCR7cmVnZXh9XFxcXC5cXFxcZHske2FyZ3MucHJlY2lzaW9ufX1gO1xuICAgIH1cbiAgICBlbHNlIGlmIChhcmdzLnByZWNpc2lvbiA9PSBudWxsKSB7XG4gICAgICAgIHJlZ2V4ID0gYCR7cmVnZXh9KFxcXFwuXFxcXGQrKT9gO1xuICAgIH1cbiAgICByZXR1cm4gcmVnZXg7XG59XG5mdW5jdGlvbiB0aW1lUmVnZXgoYXJncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9JGApO1xufVxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTQzMjMxXG5mdW5jdGlvbiBkYXRldGltZVJlZ2V4KGFyZ3MpIHtcbiAgICBsZXQgcmVnZXggPSBgJHtkYXRlUmVnZXhTb3VyY2V9VCR7dGltZVJlZ2V4U291cmNlKGFyZ3MpfWA7XG4gICAgY29uc3Qgb3B0cyA9IFtdO1xuICAgIG9wdHMucHVzaChhcmdzLmxvY2FsID8gYFo/YCA6IGBaYCk7XG4gICAgaWYgKGFyZ3Mub2Zmc2V0KVxuICAgICAgICBvcHRzLnB1c2goYChbKy1dXFxcXGR7Mn06P1xcXFxkezJ9KWApO1xuICAgIHJlZ2V4ID0gYCR7cmVnZXh9KCR7b3B0cy5qb2luKFwifFwiKX0pYDtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cmVnZXh9JGApO1xufVxuZnVuY3Rpb24gaXNWYWxpZElQKGlwLCB2ZXJzaW9uKSB7XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY0XCIgfHwgIXZlcnNpb24pICYmIGlwdjRSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuY2xhc3MgWm9kU3RyaW5nIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gU3RyaW5nKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3RyaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnN0cmluZyxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEubGVuZ3RoID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJsZW5ndGhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGlucHV0LmRhdGEubGVuZ3RoID4gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBpbnB1dC5kYXRhLmxlbmd0aCA8IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbWFpbFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbWFpbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1vamlcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1vamlSZWdleCkge1xuICAgICAgICAgICAgICAgICAgICBlbW9qaVJlZ2V4ID0gbmV3IFJlZ0V4cChfZW1vamlSZWdleCwgXCJ1XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWVtb2ppUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImVtb2ppXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1dWlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXV1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXVpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibmFub2lkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW5hbm9pZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJuYW5vaWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImN1aWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghY3VpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjdWlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkMlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkMlJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjdWlkMlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1bGlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVsaWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVybFwiKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFVSTChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgY2hlY2sucmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXN0UmVzdWx0ID0gY2hlY2sucmVnZXgudGVzdChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRlc3RSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJyZWdleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidHJpbVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpbmNsdWRlc1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLmluY2x1ZGVzKGNoZWNrLnZhbHVlLCBjaGVjay5wb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBpbmNsdWRlczogY2hlY2sudmFsdWUsIHBvc2l0aW9uOiBjaGVjay5wb3NpdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9Mb3dlckNhc2VcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvVXBwZXJDYXNlXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJzdGFydHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuc3RhcnRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBzdGFydHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW5kc1dpdGhcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5lbmRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBlbmRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImRhdGV0aW1lXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGV0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRlXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGVSZWdleDtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0aW1lXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IHRpbWVSZWdleChjaGVjayk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZHVyYXRpb25cIikge1xuICAgICAgICAgICAgICAgIGlmICghZHVyYXRpb25SZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZHVyYXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImlwXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRJUChpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjRcIikge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZTY0UmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImJhc2U2NFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBfcmVnZXgocmVnZXgsIHZhbGlkYXRpb24sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmaW5lbWVudCgoZGF0YSkgPT4gcmVnZXgudGVzdChkYXRhKSwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbixcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbWFpbChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1haWxcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1cmwobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVybFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGVtb2ppKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbW9qaVwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHV1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInV1aWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBuYW5vaWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcIm5hbm9pZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImN1aWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBjdWlkMihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZDJcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1bGlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1bGlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgYmFzZTY0KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJiYXNlNjRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBpcChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiaXBcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBkYXRldGltZShvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIG9mZnNldDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbG9jYWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2YgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wcmVjaXNpb24pID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wcmVjaXNpb24sXG4gICAgICAgICAgICBvZmZzZXQ6IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5vZmZzZXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgICAgICAgICAgbG9jYWw6IChfYiA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5sb2NhbCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2UsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGF0ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZGF0ZVwiLCBtZXNzYWdlIH0pO1xuICAgIH1cbiAgICB0aW1lKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAgICAgIGtpbmQ6IFwidGltZVwiLFxuICAgICAgICAgICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwidGltZVwiLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2YgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wcmVjaXNpb24pID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5wcmVjaXNpb24sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZHVyYXRpb24obWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImR1cmF0aW9uXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgcmVnZXgocmVnZXgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwicmVnZXhcIixcbiAgICAgICAgICAgIHJlZ2V4OiByZWdleCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGluY2x1ZGVzKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImluY2x1ZGVzXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBwb3NpdGlvbjogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnBvc2l0aW9uLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXJ0c1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwic3RhcnRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW5kc1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZW5kc1dpdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1pbihtaW5MZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluTGVuZ3RoLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhMZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImxlbmd0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IGxlbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIFVzZSB6LnN0cmluZygpLm1pbigxKSBpbnN0ZWFkLlxuICAgICAqIEBzZWUge0BsaW5rIFpvZFN0cmluZy5taW59XG4gICAgICovXG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgdHJpbSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRyaW1cIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvTG93ZXJDYXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9Mb3dlckNhc2VcIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvVXBwZXJDYXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9VcHBlckNhc2VcIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpc0RhdGV0aW1lKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImRhdGV0aW1lXCIpO1xuICAgIH1cbiAgICBnZXQgaXNEYXRlKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImRhdGVcIik7XG4gICAgfVxuICAgIGdldCBpc1RpbWUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidGltZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZHVyYXRpb25cIik7XG4gICAgfVxuICAgIGdldCBpc0VtYWlsKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtYWlsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVUkwoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXJsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbW9qaSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJlbW9qaVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVVVJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1dWlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNOQU5PSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwibmFub2lkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImN1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc0NVSUQyKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImN1aWQyXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVTElEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVsaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0lQKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImlwXCIpO1xuICAgIH1cbiAgICBnZXQgaXNCYXNlNjQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiYmFzZTY0XCIpO1xuICAgIH1cbiAgICBnZXQgbWluTGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhMZW5ndGgoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG59XG5ab2RTdHJpbmcuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nLFxuICAgICAgICBjb2VyY2U6IChfYSA9IHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzk2NjQ4NC93aHktZG9lcy1tb2R1bHVzLW9wZXJhdG9yLXJldHVybi1mcmFjdGlvbmFsLW51bWJlci1pbi1qYXZhc2NyaXB0LzMxNzExMDM0IzMxNzExMDM0XG5mdW5jdGlvbiBmbG9hdFNhZmVSZW1haW5kZXIodmFsLCBzdGVwKSB7XG4gICAgY29uc3QgdmFsRGVjQ291bnQgPSAodmFsLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBjb25zdCBzdGVwRGVjQ291bnQgPSAoc3RlcC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3QgZGVjQ291bnQgPSB2YWxEZWNDb3VudCA+IHN0ZXBEZWNDb3VudCA/IHZhbERlY0NvdW50IDogc3RlcERlY0NvdW50O1xuICAgIGNvbnN0IHZhbEludCA9IHBhcnNlSW50KHZhbC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgY29uc3Qgc3RlcEludCA9IHBhcnNlSW50KHN0ZXAudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIHJldHVybiAodmFsSW50ICUgc3RlcEludCkgLyBNYXRoLnBvdygxMCwgZGVjQ291bnQpO1xufVxuY2xhc3MgWm9kTnVtYmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWluID0gdGhpcy5ndGU7XG4gICAgICAgIHRoaXMubWF4ID0gdGhpcy5sdGU7XG4gICAgICAgIHRoaXMuc3RlcCA9IHRoaXMubXVsdGlwbGVPZjtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gTnVtYmVyKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm51bWJlcixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcImludFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1dGlsLmlzSW50ZWdlcihpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiaW50ZWdlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IFwiZmxvYXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGNoZWNrLmluY2x1c2l2ZVxuICAgICAgICAgICAgICAgICAgICA/IGlucHV0LmRhdGEgPiBjaGVjay52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6IGlucHV0LmRhdGEgPj0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZsb2F0U2FmZVJlbWFpbmRlcihpbnB1dC5kYXRhLCBjaGVjay52YWx1ZSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZixcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZmluaXRlXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X2Zpbml0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW50KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW50XCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbm5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZmluaXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZmluaXRlXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzYWZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbiAgICBnZXQgaXNJbnQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaW50XCIgfHxcbiAgICAgICAgICAgIChjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIiAmJiB1dGlsLmlzSW50ZWdlcihjaC52YWx1ZSkpKTtcbiAgICB9XG4gICAgZ2V0IGlzRmluaXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbCwgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJmaW5pdGVcIiB8fFxuICAgICAgICAgICAgICAgIGNoLmtpbmQgPT09IFwiaW50XCIgfHxcbiAgICAgICAgICAgICAgICBjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOdW1iZXIuaXNGaW5pdGUobWluKSAmJiBOdW1iZXIuaXNGaW5pdGUobWF4KTtcbiAgICB9XG59XG5ab2ROdW1iZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdW1iZXIsXG4gICAgICAgIGNvZXJjZTogKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpIHx8IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kQmlnSW50IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWluID0gdGhpcy5ndGU7XG4gICAgICAgIHRoaXMubWF4ID0gdGhpcy5sdGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJpZ0ludChpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmJpZ2ludCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5iaWdpbnQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlXG4gICAgICAgICAgICAgICAgICAgID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmVcbiAgICAgICAgICAgICAgICAgICAgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhICUgY2hlY2sudmFsdWUgIT09IEJpZ0ludCgwKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbn1cblpvZEJpZ0ludC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCaWdJbnQsXG4gICAgICAgIGNvZXJjZTogKF9hID0gcGFyYW1zID09PSBudWxsIHx8IHBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcGFyYW1zLmNvZXJjZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RCb29sZWFuIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gQm9vbGVhbihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmJvb2xlYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYm9vbGVhbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RCb29sZWFuLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEJvb2xlYW4oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW4sXG4gICAgICAgIGNvZXJjZTogKHBhcmFtcyA9PT0gbnVsbCB8fCBwYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHBhcmFtcy5jb2VyY2UpIHx8IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kRGF0ZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IG5ldyBEYXRlKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5kYXRlLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmFOKGlucHV0LmRhdGEuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZShpbnB1dC5kYXRhLmdldFRpbWUoKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkRhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluRGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4RGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhEYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5EYXRlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW4gIT0gbnVsbCA/IG5ldyBEYXRlKG1pbikgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgbWF4RGF0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4ICE9IG51bGwgPyBuZXcgRGF0ZShtYXgpIDogbnVsbDtcbiAgICB9XG59XG5ab2REYXRlLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICBjb2VyY2U6IChwYXJhbXMgPT09IG51bGwgfHwgcGFyYW1zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwYXJhbXMuY29lcmNlKSB8fCBmYWxzZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kU3ltYm9sIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3ltYm9sKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnN5bWJvbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RTeW1ib2wuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU3ltYm9sKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTeW1ib2wsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RVbmRlZmluZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFVuZGVmaW5lZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmRlZmluZWQoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE51bGwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm51bGwsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kTnVsbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kQW55IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8vIHRvIHByZXZlbnQgaW5zdGFuY2VzIG9mIG90aGVyIGNsYXNzZXMgZnJvbSBleHRlbmRpbmcgWm9kQW55LiB0aGlzIGNhdXNlcyBpc3N1ZXMgd2l0aCBjYXRjaGFsbCBpbiBab2RPYmplY3QuXG4gICAgICAgIHRoaXMuX2FueSA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kQW55LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEFueSh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kVW5rbm93biBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvLyByZXF1aXJlZFxuICAgICAgICB0aGlzLl91bmtub3duID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RVbmtub3duLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVua25vd24oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVua25vd24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2ROZXZlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm5ldmVyLFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxufVxuWm9kTmV2ZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmV2ZXIoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kVm9pZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS52b2lkLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFZvaWQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVm9pZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVm9pZCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZEFycmF5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4LCBzdGF0dXMgfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuX2RlZjtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5leGFjdExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY3R4LmRhdGEubGVuZ3RoID4gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjdHguZGF0YS5sZW5ndGggPCBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IHRvb0JpZyA/IFpvZElzc3VlQ29kZS50b29fYmlnIDogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogKHRvb1NtYWxsID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogKHRvb0JpZyA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5taW5MZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPCBkZWYubWluTGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5MZW5ndGgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5MZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1heExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA+IGRlZi5tYXhMZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhMZW5ndGgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhMZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZUFzeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICAgICAgfSkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlU3luYyhuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0KTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1pbkxlbmd0aDogeyB2YWx1ZTogbWluTGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhMZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IHsgdmFsdWU6IG1heExlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgZXhhY3RMZW5ndGg6IHsgdmFsdWU6IGxlbiwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICB9XG59XG5ab2RBcnJheS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgICBtaW5MZW5ndGg6IG51bGwsXG4gICAgICAgIG1heExlbmd0aDogbnVsbCxcbiAgICAgICAgZXhhY3RMZW5ndGg6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBkZWVwUGFydGlhbGlmeShzY2hlbWEpIHtcbiAgICBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYS5zaGFwZSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSBzY2hlbWEuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoZmllbGRTY2hlbWEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZEFycmF5KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4uc2NoZW1hLl9kZWYsXG4gICAgICAgICAgICB0eXBlOiBkZWVwUGFydGlhbGlmeShzY2hlbWEuZWxlbWVudCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS51bndyYXAoKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2ROdWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS51bndyYXAoKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RUdXBsZSkge1xuICAgICAgICByZXR1cm4gWm9kVHVwbGUuY3JlYXRlKHNjaGVtYS5pdGVtcy5tYXAoKGl0ZW0pID0+IGRlZXBQYXJ0aWFsaWZ5KGl0ZW0pKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cbn1cbmNsYXNzIFpvZE9iamVjdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLl9jYWNoZWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgSW4gbW9zdCBjYXNlcywgdGhpcyBpcyBubyBsb25nZXIgbmVlZGVkIC0gdW5rbm93biBwcm9wZXJ0aWVzIGFyZSBub3cgc2lsZW50bHkgc3RyaXBwZWQuXG4gICAgICAgICAqIElmIHlvdSB3YW50IHRvIHBhc3MgdGhyb3VnaCB1bmtub3duIHByb3BlcnRpZXMsIHVzZSBgLnBhc3N0aHJvdWdoKClgIGluc3RlYWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5vbnN0cmljdCA9IHRoaXMucGFzc3Rocm91Z2g7XG4gICAgICAgIC8vIGV4dGVuZDxcbiAgICAgICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZSxcbiAgICAgICAgLy8gICBOZXdPdXRwdXQgZXh0ZW5kcyB1dGlsLmZsYXR0ZW48e1xuICAgICAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgT3V0cHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgICAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9vdXRwdXRcIl1cbiAgICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgICAgIC8vICAgICAgID8gT3V0cHV0W2tdXG4gICAgICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgICAgIC8vICAgfT4sXG4gICAgICAgIC8vICAgTmV3SW5wdXQgZXh0ZW5kcyB1dGlsLmZsYXR0ZW48e1xuICAgICAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgSW5wdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX2lucHV0XCJdXG4gICAgICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgICAgIC8vICAgICAgID8gSW5wdXRba11cbiAgICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgICAgLy8gICB9PlxuICAgICAgICAvLyA+KFxuICAgICAgICAvLyAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICk6IFpvZE9iamVjdDxcbiAgICAgICAgLy8gICBleHRlbmRTaGFwZTxULCBBdWdtZW50YXRpb24+LFxuICAgICAgICAvLyAgIFVua25vd25LZXlzLFxuICAgICAgICAvLyAgIENhdGNoYWxsLFxuICAgICAgICAvLyAgIE5ld091dHB1dCxcbiAgICAgICAgLy8gICBOZXdJbnB1dFxuICAgICAgICAvLyA+IHtcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIC8vICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgIC8vICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgLy8gICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgIC8vICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAgICAgLy8gICAgIH0pLFxuICAgICAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgVXNlIGAuZXh0ZW5kYCBpbnN0ZWFkXG4gICAgICAgICAqICAqL1xuICAgICAgICB0aGlzLmF1Z21lbnQgPSB0aGlzLmV4dGVuZDtcbiAgICB9XG4gICAgX2dldENhY2hlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZCAhPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gdGhpcy5fZGVmLnNoYXBlKCk7XG4gICAgICAgIGNvbnN0IGtleXMgPSB1dGlsLm9iamVjdEtleXMoc2hhcGUpO1xuICAgICAgICByZXR1cm4gKHRoaXMuX2NhY2hlZCA9IHsgc2hhcGUsIGtleXMgfSk7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCB7IHNoYXBlLCBrZXlzOiBzaGFwZUtleXMgfSA9IHRoaXMuX2dldENhY2hlZCgpO1xuICAgICAgICBjb25zdCBleHRyYUtleXMgPSBbXTtcbiAgICAgICAgaWYgKCEodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIgJiZcbiAgICAgICAgICAgIHRoaXMuX2RlZi51bmtub3duS2V5cyA9PT0gXCJzdHJpcFwiKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY3R4LmRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNoYXBlS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhS2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhaXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXBlS2V5cykge1xuICAgICAgICAgICAgY29uc3Qga2V5VmFsaWRhdG9yID0gc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlWYWxpZGF0b3IuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jYXRjaGFsbCBpbnN0YW5jZW9mIFpvZE5ldmVyKSB7XG4gICAgICAgICAgICBjb25zdCB1bmtub3duS2V5cyA9IHRoaXMuX2RlZi51bmtub3duS2V5cztcbiAgICAgICAgICAgIGlmICh1bmtub3duS2V5cyA9PT0gXCJwYXNzdGhyb3VnaFwiKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGN0eC5kYXRhW2tleV0gfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXh0cmFLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBleHRyYUtleXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpcFwiKSA7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludGVybmFsIFpvZE9iamVjdCBlcnJvcjogaW52YWxpZCB1bmtub3duS2V5cyB2YWx1ZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJ1biBjYXRjaGFsbCB2YWxpZGF0aW9uXG4gICAgICAgICAgICBjb25zdCBjYXRjaGFsbCA9IHRoaXMuX2RlZi5jYXRjaGFsbDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjYXRjaGFsbC5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSAvLywgY3R4LmNoaWxkKGtleSksIHZhbHVlLCBnZXRQYXJzZWRUeXBlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN5bmNQYWlycyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDogcGFpci5hbHdheXNTZXQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3luY1BhaXJzO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoc3luY1BhaXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNoYXBlKCk7XG4gICAgfVxuICAgIHN0cmljdChtZXNzYWdlKSB7XG4gICAgICAgIGVycm9yVXRpbC5lcnJUb09iajtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgICAgICAuLi4obWVzc2FnZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWFwOiAoaXNzdWUsIGN0eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEVycm9yID0gKF9jID0gKF9iID0gKF9hID0gdGhpcy5fZGVmKS5lcnJvck1hcCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIGlzc3VlLCBjdHgpLm1lc3NhZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGN0eC5kZWZhdWx0RXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJ1bnJlY29nbml6ZWRfa2V5c1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IChfZCA9IGVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKS5tZXNzYWdlKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmYXVsdEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdHJpcCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBhc3N0aHJvdWdoKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJwYXNzdGhyb3VnaFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gY29uc3QgQXVnbWVudEZhY3RvcnkgPVxuICAgIC8vICAgPERlZiBleHRlbmRzIFpvZE9iamVjdERlZj4oZGVmOiBEZWYpID0+XG4gICAgLy8gICA8QXVnbWVudGF0aW9uIGV4dGVuZHMgWm9kUmF3U2hhcGU+KFxuICAgIC8vICAgICBhdWdtZW50YXRpb246IEF1Z21lbnRhdGlvblxuICAgIC8vICAgKTogWm9kT2JqZWN0PFxuICAgIC8vICAgICBleHRlbmRTaGFwZTxSZXR1cm5UeXBlPERlZltcInNoYXBlXCJdPiwgQXVnbWVudGF0aW9uPixcbiAgICAvLyAgICAgRGVmW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICAgIERlZltcImNhdGNoYWxsXCJdXG4gICAgLy8gICA+ID0+IHtcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICAgIC4uLmRlZixcbiAgICAvLyAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAvLyAgICAgICAgIC4uLmRlZi5zaGFwZSgpLFxuICAgIC8vICAgICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgIC8vICAgICAgIH0pLFxuICAgIC8vICAgICB9KSBhcyBhbnk7XG4gICAgLy8gICB9O1xuICAgIGV4dGVuZChhdWdtZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmlvciB0byB6b2RAMS4wLjEyIHRoZXJlIHdhcyBhIGJ1ZyBpbiB0aGVcbiAgICAgKiBpbmZlcnJlZCB0eXBlIG9mIG1lcmdlZCBvYmplY3RzLiBQbGVhc2VcbiAgICAgKiB1cGdyYWRlIGlmIHlvdSBhcmUgZXhwZXJpZW5jaW5nIGlzc3Vlcy5cbiAgICAgKi9cbiAgICBtZXJnZShtZXJnaW5nKSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAgICAgICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAuLi5tZXJnaW5nLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgIH1cbiAgICAvLyBtZXJnZTxcbiAgICAvLyAgIEluY29taW5nIGV4dGVuZHMgQW55Wm9kT2JqZWN0LFxuICAgIC8vICAgQXVnbWVudGF0aW9uIGV4dGVuZHMgSW5jb21pbmdbXCJzaGFwZVwiXSxcbiAgICAvLyAgIE5ld091dHB1dCBleHRlbmRzIHtcbiAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgT3V0cHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIE91dHB1dFxuICAgIC8vICAgICAgID8gT3V0cHV0W2tdXG4gICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAvLyAgIH0sXG4gICAgLy8gICBOZXdJbnB1dCBleHRlbmRzIHtcbiAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgSW5wdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfaW5wdXRcIl1cbiAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBJbnB1dFxuICAgIC8vICAgICAgID8gSW5wdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfVxuICAgIC8vID4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IFpvZE9iamVjdDxcbiAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1wiY2F0Y2hhbGxcIl0sXG4gICAgLy8gICBOZXdPdXRwdXQsXG4gICAgLy8gICBOZXdJbnB1dFxuICAgIC8vID4ge1xuICAgIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAvLyAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAvLyAgICAgc2hhcGU6ICgpID0+XG4gICAgLy8gICAgICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyh0aGlzLl9kZWYuc2hhcGUoKSwgbWVyZ2luZy5fZGVmLnNoYXBlKCkpLFxuICAgIC8vICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAvLyAgIHJldHVybiBtZXJnZWQ7XG4gICAgLy8gfVxuICAgIHNldEtleShrZXksIHNjaGVtYSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdWdtZW50KHsgW2tleV06IHNjaGVtYSB9KTtcbiAgICB9XG4gICAgLy8gbWVyZ2U8SW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3Q+KFxuICAgIC8vICAgbWVyZ2luZzogSW5jb21pbmdcbiAgICAvLyApOiAvL1pvZE9iamVjdDxUICYgSW5jb21pbmdbXCJfc2hhcGVcIl0sIFVua25vd25LZXlzLCBDYXRjaGFsbD4gPSAobWVyZ2luZykgPT4ge1xuICAgIC8vIFpvZE9iamVjdDxcbiAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyA+IHtcbiAgICAvLyAgIC8vIGNvbnN0IG1lcmdlZFNoYXBlID0gb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyhcbiAgICAvLyAgIC8vICAgdGhpcy5fZGVmLnNoYXBlKCksXG4gICAgLy8gICAvLyAgIG1lcmdpbmcuX2RlZi5zaGFwZSgpXG4gICAgLy8gICAvLyApO1xuICAgIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAvLyAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAvLyAgICAgc2hhcGU6ICgpID0+XG4gICAgLy8gICAgICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyh0aGlzLl9kZWYuc2hhcGUoKSwgbWVyZ2luZy5fZGVmLnNoYXBlKCkpLFxuICAgIC8vICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAvLyAgIHJldHVybiBtZXJnZWQ7XG4gICAgLy8gfVxuICAgIGNhdGNoYWxsKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNhdGNoYWxsOiBpbmRleCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBpY2sobWFzaykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgICAgICB1dGlsLm9iamVjdEtleXMobWFzaykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAobWFza1trZXldICYmIHRoaXMuc2hhcGVba2V5XSkge1xuICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbWl0KG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICBkZWVwUGFydGlhbCgpIHtcbiAgICAgICAgcmV0dXJuIGRlZXBQYXJ0aWFsaWZ5KHRoaXMpO1xuICAgIH1cbiAgICBwYXJ0aWFsKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IGZpZWxkU2NoZW1hO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IGZpZWxkU2NoZW1hLm9wdGlvbmFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXF1aXJlZChtYXNrKSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICAgICAgbGV0IG5ld0ZpZWxkID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5ld0ZpZWxkIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RmllbGQgPSBuZXdGaWVsZC5fZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IG5ld0ZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAga2V5b2YoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVab2RFbnVtKHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSk7XG4gICAgfVxufVxuWm9kT2JqZWN0LmNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3Quc3RyaWN0Q3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3QubGF6eWNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3VsdHMocmVzdWx0cykge1xuICAgICAgICAgICAgLy8gcmV0dXJuIGZpcnN0IGlzc3VlLWZyZWUgdmFsaWRhdGlvbiBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGlzc3VlcyBmcm9tIGRpcnR5IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLnJlc3VsdC5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJldHVybiBpbnZhbGlkXG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IHJlc3VsdHMubWFwKChyZXN1bHQpID0+IG5ldyBab2RFcnJvcihyZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uLFxuICAgICAgICAgICAgICAgIHVuaW9uRXJyb3JzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG9wdGlvbnMubWFwKGFzeW5jIChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGF3YWl0IG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGN0eDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKS50aGVuKGhhbmRsZVJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGRpcnR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgaXNzdWVzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIgJiYgIWRpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5ID0geyByZXN1bHQsIGN0eDogY2hpbGRDdHggfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3Vlcy5wdXNoKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXJ0eSkge1xuICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4uZGlydHkuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXJ0eS5yZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IGlzc3Vlcy5tYXAoKGlzc3VlcykgPT4gbmV3IFpvZEVycm9yKGlzc3VlcykpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgfVxufVxuWm9kVW5pb24uY3JlYXRlID0gKHR5cGVzLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuaW9uKHtcbiAgICAgICAgb3B0aW9uczogdHlwZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgWm9kRGlzY3JpbWluYXRlZFVuaW9uICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuY29uc3QgZ2V0RGlzY3JpbWluYXRvciA9ICh0eXBlKSA9PiB7XG4gICAgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMYXp5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2NoZW1hKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVmZmVjdHMpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5pbm5lclR5cGUoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMaXRlcmFsKSB7XG4gICAgICAgIHJldHVybiBbdHlwZS52YWx1ZV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB0eXBlLm9wdGlvbnM7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROYXRpdmVFbnVtKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBiYW4vYmFuXG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdFZhbHVlcyh0eXBlLmVudW0pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLl9kZWYuaW5uZXJUeXBlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsKSB7XG4gICAgICAgIHJldHVybiBbbnVsbF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZCwgLi4uZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gW251bGwsIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSldO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kQnJhbmRlZCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFJlYWRvbmx5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kQ2F0Y2gpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufTtcbmNsYXNzIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yID0gdGhpcy5kaXNjcmltaW5hdG9yO1xuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWUgPSBjdHguZGF0YVtkaXNjcmltaW5hdG9yXTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gdGhpcy5vcHRpb25zTWFwLmdldChkaXNjcmltaW5hdG9yVmFsdWUpO1xuICAgICAgICBpZiAoIW9wdGlvbikge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvcixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBcnJheS5mcm9tKHRoaXMub3B0aW9uc01hcC5rZXlzKCkpLFxuICAgICAgICAgICAgICAgIHBhdGg6IFtkaXNjcmltaW5hdG9yXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGRpc2NyaW1pbmF0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZGlzY3JpbWluYXRvcjtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnNNYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9uc01hcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBkaXNjcmltaW5hdGVkIHVuaW9uIHNjaGVtYS4gSXRzIGJlaGF2aW91ciBpcyB2ZXJ5IHNpbWlsYXIgdG8gdGhhdCBvZiB0aGUgbm9ybWFsIHoudW5pb24oKSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBIb3dldmVyLCBpdCBvbmx5IGFsbG93cyBhIHVuaW9uIG9mIG9iamVjdHMsIGFsbCBvZiB3aGljaCBuZWVkIHRvIHNoYXJlIGEgZGlzY3JpbWluYXRvciBwcm9wZXJ0eS4gVGhpcyBwcm9wZXJ0eSBtdXN0XG4gICAgICogaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZSBmb3IgZWFjaCBvYmplY3QgaW4gdGhlIHVuaW9uLlxuICAgICAqIEBwYXJhbSBkaXNjcmltaW5hdG9yIHRoZSBuYW1lIG9mIHRoZSBkaXNjcmltaW5hdG9yIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHR5cGVzIGFuIGFycmF5IG9mIG9iamVjdCBzY2hlbWFzXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoZGlzY3JpbWluYXRvciwgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgICAgIC8vIEdldCBhbGwgdGhlIHZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWVzXG4gICAgICAgIGNvbnN0IG9wdGlvbnNNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIHRyeSB7XG4gICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWVzID0gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNoYXBlW2Rpc2NyaW1pbmF0b3JdKTtcbiAgICAgICAgICAgIGlmICghZGlzY3JpbWluYXRvclZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEEgZGlzY3JpbWluYXRvciB2YWx1ZSBmb3Iga2V5IFxcYCR7ZGlzY3JpbWluYXRvcn1cXGAgY291bGQgbm90IGJlIGV4dHJhY3RlZCBmcm9tIGFsbCBzY2hlbWEgb3B0aW9uc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBkaXNjcmltaW5hdG9yVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNNYXAuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERpc2NyaW1pbmF0b3IgcHJvcGVydHkgJHtTdHJpbmcoZGlzY3JpbWluYXRvcil9IGhhcyBkdXBsaWNhdGUgdmFsdWUgJHtTdHJpbmcodmFsdWUpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb25zTWFwLnNldCh2YWx1ZSwgdHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2REaXNjcmltaW5hdGVkVW5pb24oe1xuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REaXNjcmltaW5hdGVkVW5pb24sXG4gICAgICAgICAgICBkaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnNNYXAsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1lcmdlVmFsdWVzKGEsIGIpIHtcbiAgICBjb25zdCBhVHlwZSA9IGdldFBhcnNlZFR5cGUoYSk7XG4gICAgY29uc3QgYlR5cGUgPSBnZXRQYXJzZWRUeXBlKGIpO1xuICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLm9iamVjdCAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgY29uc3QgYktleXMgPSB1dGlsLm9iamVjdEtleXMoYik7XG4gICAgICAgIGNvbnN0IHNoYXJlZEtleXMgPSB1dGlsXG4gICAgICAgICAgICAub2JqZWN0S2V5cyhhKVxuICAgICAgICAgICAgLmZpbHRlcigoa2V5KSA9PiBiS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKTtcbiAgICAgICAgY29uc3QgbmV3T2JqID0geyAuLi5hLCAuLi5iIH07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXJlZEtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoYVtrZXldLCBiW2tleV0pO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBzaGFyZWRWYWx1ZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdPYmogfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUuYXJyYXkgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtQSA9IGFbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgaXRlbUIgPSBiW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoaXRlbUEsIGl0ZW1CKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0FycmF5LnB1c2goc2hhcmVkVmFsdWUuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld0FycmF5IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLmRhdGUgJiZcbiAgICAgICAgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUuZGF0ZSAmJlxuICAgICAgICArYSA9PT0gK2IpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgIH1cbn1cbmNsYXNzIFpvZEludGVyc2VjdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBoYW5kbGVQYXJzZWQgPSAocGFyc2VkTGVmdCwgcGFyc2VkUmlnaHQpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0Fib3J0ZWQocGFyc2VkTGVmdCkgfHwgaXNBYm9ydGVkKHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gbWVyZ2VWYWx1ZXMocGFyc2VkTGVmdC52YWx1ZSwgcGFyc2VkUmlnaHQudmFsdWUpO1xuICAgICAgICAgICAgaWYgKCFtZXJnZWQudmFsaWQpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRGlydHkocGFyc2VkTGVmdCkgfHwgaXNEaXJ0eShwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogbWVyZ2VkLmRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmLmxlZnQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RlZi5yaWdodC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKS50aGVuKChbbGVmdCwgcmlnaHRdKSA9PiBoYW5kbGVQYXJzZWQobGVmdCwgcmlnaHQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVQYXJzZWQodGhpcy5fZGVmLmxlZnQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KSwgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZSA9IChsZWZ0LCByaWdodCwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RJbnRlcnNlY3Rpb24oe1xuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICByaWdodDogcmlnaHQsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kSW50ZXJzZWN0aW9uLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kVHVwbGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgbWluaW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdCA9IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgICBpZiAoIXJlc3QgJiYgY3R4LmRhdGEubGVuZ3RoID4gdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgbWF4aW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbXMgPSBbLi4uY3R4LmRhdGFdXG4gICAgICAgICAgICAubWFwKChpdGVtLCBpdGVtSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuX2RlZi5pdGVtc1tpdGVtSW5kZXhdIHx8IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgICAgICAgaWYgKCFzY2hlbWEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGl0ZW1JbmRleCkpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcigoeCkgPT4gISF4KTsgLy8gZmlsdGVyIG51bGxzXG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoaXRlbXMpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIGl0ZW1zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaXRlbXM7XG4gICAgfVxuICAgIHJlc3QocmVzdCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblpvZFR1cGxlLmNyZWF0ZSA9IChzY2hlbWFzLCBwYXJhbXMpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgcGFzcyBhbiBhcnJheSBvZiBzY2hlbWFzIHRvIHoudHVwbGUoWyAuLi4gXSlcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICBpdGVtczogc2NoZW1hcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZSxcbiAgICAgICAgcmVzdDogbnVsbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZFJlY29yZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiBrZXlUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwga2V5LCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGN0eC5kYXRhW2tleV0sIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGZpcnN0LCBzZWNvbmQsIHRoaXJkKSB7XG4gICAgICAgIGlmIChzZWNvbmQgaW5zdGFuY2VvZiBab2RUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgICAgICAgICAga2V5VHlwZTogZmlyc3QsXG4gICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBzZWNvbmQsXG4gICAgICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlyZCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgICAgICBrZXlUeXBlOiBab2RTdHJpbmcuY3JlYXRlKCksXG4gICAgICAgICAgICB2YWx1ZVR5cGU6IGZpcnN0LFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHNlY29uZCksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzIFpvZE1hcCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5tYXApIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubWFwLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBjb25zdCBwYWlycyA9IFsuLi5jdHguZGF0YS5lbnRyaWVzKCldLm1hcCgoW2tleSwgdmFsdWVdLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBbaW5kZXgsIFwia2V5XCJdKSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwgW2luZGV4LCBcInZhbHVlXCJdKSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5ab2RNYXAuY3JlYXRlID0gKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RNYXAoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIGtleVR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTWFwLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kU2V0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zZXQpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc2V0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoZGVmLm1pblNpemUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplIDwgZGVmLm1pblNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pblNpemUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWluU2l6ZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4U2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPiBkZWYubWF4U2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heFNpemUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWF4U2l6ZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZ1bmN0aW9uIGZpbmFsaXplU2V0KGVsZW1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgcGFyc2VkU2V0LmFkZChlbGVtZW50LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcGFyc2VkU2V0IH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBbLi4uY3R4LmRhdGEudmFsdWVzKCldLm1hcCgoaXRlbSwgaSkgPT4gdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKSk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZWxlbWVudHMpLnRoZW4oKGVsZW1lbnRzKSA9PiBmaW5hbGl6ZVNldChlbGVtZW50cykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZpbmFsaXplU2V0KGVsZW1lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtaW4obWluU2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtaW5TaXplOiB7IHZhbHVlOiBtaW5TaXplLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhTaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1heFNpemU6IHsgdmFsdWU6IG1heFNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2l6ZShzaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbihzaXplLCBtZXNzYWdlKS5tYXgoc2l6ZSwgbWVzc2FnZSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cblpvZFNldC5jcmVhdGUgPSAodmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAgbWluU2l6ZTogbnVsbCxcbiAgICAgICAgbWF4U2l6ZTogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTZXQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RGdW5jdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlID0gdGhpcy5pbXBsZW1lbnQ7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZUFyZ3NJc3N1ZShhcmdzLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VJc3N1ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogYXJncyxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCxcbiAgICAgICAgICAgICAgICAgICAgZ2V0RXJyb3JNYXAoKSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgICAgICAgICAgICAgaXNzdWVEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzRXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlUmV0dXJuc0lzc3VlKHJldHVybnMsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZUlzc3VlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiByZXR1cm5zLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW1xuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLFxuICAgICAgICAgICAgICAgICAgICBnZXRFcnJvck1hcCgpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvck1hcCxcbiAgICAgICAgICAgICAgICBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGVFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHsgZXJyb3JNYXA6IGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwIH07XG4gICAgICAgIGNvbnN0IGZuID0gY3R4LmRhdGE7XG4gICAgICAgIGlmICh0aGlzLl9kZWYucmV0dXJucyBpbnN0YW5jZW9mIFpvZFByb21pc2UpIHtcbiAgICAgICAgICAgIC8vIFdvdWxkIGxvdmUgYSB3YXkgdG8gYXZvaWQgZGlzYWJsaW5nIHRoaXMgcnVsZSwgYnV0IHdlIG5lZWRcbiAgICAgICAgICAgIC8vIGFuIGFsaWFzICh1c2luZyBhbiBhcnJvdyBmdW5jdGlvbiB3YXMgd2hhdCBjYXVzZWQgMjY1MSkuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBPSyhhc3luYyBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKFtdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gYXdhaXQgbWUuX2RlZi5hcmdzXG4gICAgICAgICAgICAgICAgICAgIC5wYXJzZUFzeW5jKGFyZ3MsIHBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmFkZElzc3VlKG1ha2VBcmdzSXNzdWUoYXJncywgZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBSZWZsZWN0LmFwcGx5KGZuLCB0aGlzLCBwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXR1cm5zID0gYXdhaXQgbWUuX2RlZi5yZXR1cm5zLl9kZWYudHlwZVxuICAgICAgICAgICAgICAgICAgICAucGFyc2VBc3luYyhyZXN1bHQsIHBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmFkZElzc3VlKG1ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRSZXR1cm5zO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXb3VsZCBsb3ZlIGEgd2F5IHRvIGF2b2lkIGRpc2FibGluZyB0aGlzIHJ1bGUsIGJ1dCB3ZSBuZWVkXG4gICAgICAgICAgICAvLyBhbiBhbGlhcyAodXNpbmcgYW4gYXJyb3cgZnVuY3Rpb24gd2FzIHdoYXQgY2F1c2VkIDI2NTEpLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gT0soZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gbWUuX2RlZi5hcmdzLnNhZmVQYXJzZShhcmdzLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkQXJncy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcihbbWFrZUFyZ3NJc3N1ZShhcmdzLCBwYXJzZWRBcmdzLmVycm9yKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmFwcGx5KGZuLCB0aGlzLCBwYXJzZWRBcmdzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBtZS5fZGVmLnJldHVybnMuc2FmZVBhcnNlKHJlc3VsdCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZFJldHVybnMuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3IoW21ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBwYXJzZWRSZXR1cm5zLmVycm9yKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucy5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFyYW1ldGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5hcmdzO1xuICAgIH1cbiAgICByZXR1cm5UeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnJldHVybnM7XG4gICAgfVxuICAgIGFyZ3MoLi4uaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBhcmdzOiBab2RUdXBsZS5jcmVhdGUoaXRlbXMpLnJlc3QoWm9kVW5rbm93bi5jcmVhdGUoKSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm5zKHJldHVyblR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICByZXR1cm5zOiByZXR1cm5UeXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW1wbGVtZW50KGZ1bmMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICAgIH1cbiAgICBzdHJpY3RJbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoYXJncywgcmV0dXJucywgcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgYXJnczogKGFyZ3NcbiAgICAgICAgICAgICAgICA/IGFyZ3NcbiAgICAgICAgICAgICAgICA6IFpvZFR1cGxlLmNyZWF0ZShbXSkucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSksXG4gICAgICAgICAgICByZXR1cm5zOiByZXR1cm5zIHx8IFpvZFVua25vd24uY3JlYXRlKCksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEZ1bmN0aW9uLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBab2RMYXp5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBsYXp5U2NoZW1hID0gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgICAgICByZXR1cm4gbGF6eVNjaGVtYS5fcGFyc2UoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgIH1cbn1cblpvZExhenkuY3JlYXRlID0gKGdldHRlciwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RMYXp5KHtcbiAgICAgICAgZ2V0dGVyOiBnZXR0ZXIsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZExpdGVyYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKGlucHV0LmRhdGEgIT09IHRoaXMuX2RlZi52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWwsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHRoaXMuX2RlZi52YWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZTtcbiAgICB9XG59XG5ab2RMaXRlcmFsLmNyZWF0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RMaXRlcmFsKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBjcmVhdGVab2RFbnVtKHZhbHVlcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RFbnVtKHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmNsYXNzIFpvZEVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgX1pvZEVudW1fY2FjaGUuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0LmRhdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsLmpvaW5WYWx1ZXMoZXhwZWN0ZWRWYWx1ZXMpLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1pvZEVudW1fY2FjaGUsIFwiZlwiKSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfWm9kRW51bV9jYWNoZSwgbmV3IFNldCh0aGlzLl9kZWYudmFsdWVzKSwgXCJmXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWm9kRW51bV9jYWNoZSwgXCJmXCIpLmhhcyhpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbiAgICBnZXQgZW51bSgpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGdldCBWYWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBnZXQgRW51bSgpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGV4dHJhY3QodmFsdWVzLCBuZXdEZWYgPSB0aGlzLl9kZWYpIHtcbiAgICAgICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHZhbHVlcywge1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgLi4ubmV3RGVmLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZXhjbHVkZSh2YWx1ZXMsIG5ld0RlZiA9IHRoaXMuX2RlZikge1xuICAgICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodGhpcy5vcHRpb25zLmZpbHRlcigob3B0KSA9PiAhdmFsdWVzLmluY2x1ZGVzKG9wdCkpLCB7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICAuLi5uZXdEZWYsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbl9ab2RFbnVtX2NhY2hlID0gbmV3IFdlYWtNYXAoKTtcblpvZEVudW0uY3JlYXRlID0gY3JlYXRlWm9kRW51bTtcbmNsYXNzIFpvZE5hdGl2ZUVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgX1pvZE5hdGl2ZUVudW1fY2FjaGUuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBuYXRpdmVFbnVtVmFsdWVzID0gdXRpbC5nZXRWYWxpZEVudW1WYWx1ZXModGhpcy5fZGVmLnZhbHVlcyk7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN0cmluZyAmJlxuICAgICAgICAgICAgY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWm9kTmF0aXZlRW51bV9jYWNoZSwgXCJmXCIpKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9ab2ROYXRpdmVFbnVtX2NhY2hlLCBuZXcgU2V0KHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpKSwgXCJmXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfWm9kTmF0aXZlRW51bV9jYWNoZSwgXCJmXCIpLmhhcyhpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsLm9iamVjdFZhbHVlcyhuYXRpdmVFbnVtVmFsdWVzKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cGVjdGVkVmFsdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGdldCBlbnVtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgICB9XG59XG5fWm9kTmF0aXZlRW51bV9jYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5ab2ROYXRpdmVFbnVtLmNyZWF0ZSA9ICh2YWx1ZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmF0aXZlRW51bSh7XG4gICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RQcm9taXNlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnByb21pc2UgJiZcbiAgICAgICAgICAgIGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnByb21pc2UsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9taXNpZmllZCA9IGN0eC5wYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnByb21pc2VcbiAgICAgICAgICAgID8gY3R4LmRhdGFcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKGN0eC5kYXRhKTtcbiAgICAgICAgcmV0dXJuIE9LKHByb21pc2lmaWVkLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5wYXJzZUFzeW5jKGRhdGEsIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblpvZFByb21pc2UuY3JlYXRlID0gKHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RQcm9taXNlKHtcbiAgICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFByb21pc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RFZmZlY3RzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgaW5uZXJUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgc291cmNlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHNcbiAgICAgICAgICAgID8gdGhpcy5fZGVmLnNjaGVtYS5zb3VyY2VUeXBlKClcbiAgICAgICAgICAgIDogdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGVmZmVjdCA9IHRoaXMuX2RlZi5lZmZlY3QgfHwgbnVsbDtcbiAgICAgICAgY29uc3QgY2hlY2tDdHggPSB7XG4gICAgICAgICAgICBhZGRJc3N1ZTogKGFyZykgPT4ge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgYXJnKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJnLmZhdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwYXRoKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdHgucGF0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNoZWNrQ3R4LmFkZElzc3VlID0gY2hlY2tDdHguYWRkSXNzdWUuYmluZChjaGVja0N0eCk7XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJwcmVwcm9jZXNzXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGVmZmVjdC50cmFuc2Zvcm0oY3R4LmRhdGEsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwcm9jZXNzZWQpLnRoZW4oYXN5bmMgKHByb2Nlc3NlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBwcm9jZXNzZWQsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicmVmaW5lbWVudFwiKSB7XG4gICAgICAgICAgICBjb25zdCBleGVjdXRlUmVmaW5lbWVudCA9IChhY2MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QucmVmaW5lbWVudChhY2MsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFzeW5jIHJlZmluZW1lbnQgZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdmFsdWUgaXMgaWdub3JlZFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyLnZhbHVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYVxuICAgICAgICAgICAgICAgICAgICAuX3BhcnNlQXN5bmMoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChpbm5lcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQoYmFzZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYXNlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC50cmFuc2Zvcm0oYmFzZS52YWx1ZSwgY2hlY2tDdHgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXN5bmNocm9ub3VzIHRyYW5zZm9ybSBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiByZXN1bHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hXG4gICAgICAgICAgICAgICAgICAgIC5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGJhc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKGJhc2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCkpLnRoZW4oKHJlc3VsdCkgPT4gKHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiByZXN1bHQgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoZWZmZWN0KTtcbiAgICB9XG59XG5ab2RFZmZlY3RzLmNyZWF0ZSA9IChzY2hlbWEsIGVmZmVjdCwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgIGVmZmVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3MgPSAocHJlcHJvY2Vzcywgc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInByZXByb2Nlc3NcIiwgdHJhbnNmb3JtOiBwcmVwcm9jZXNzIH0sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZE9wdGlvbmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gT0sodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZE9wdGlvbmFsLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9wdGlvbmFsKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY2xhc3MgWm9kTnVsbGFibGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gT0sobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2ROdWxsYWJsZS5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsYWJsZSh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmNsYXNzIFpvZERlZmF1bHQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGxldCBkYXRhID0gY3R4LmRhdGE7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9kZWYuZGVmYXVsdFZhbHVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlRGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kRGVmYXVsdC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REZWZhdWx0KHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdHlwZW9mIHBhcmFtcy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICAgID8gcGFyYW1zLmRlZmF1bHRcbiAgICAgICAgICAgIDogKCkgPT4gcGFyYW1zLmRlZmF1bHQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2RDYXRjaCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgLy8gbmV3Q3R4IGlzIHVzZWQgdG8gbm90IGNvbGxlY3QgaXNzdWVzIGZyb20gaW5uZXIgdHlwZXMgaW4gY3R4XG4gICAgICAgIGNvbnN0IG5ld0N0eCA9IHtcbiAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGE6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgcGF0aDogbmV3Q3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IHtcbiAgICAgICAgICAgICAgICAuLi5uZXdDdHgsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlzQXN5bmMocmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICAgPyByZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlQ2F0Y2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZENhdGNoLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICBjYXRjaFZhbHVlOiB0eXBlb2YgcGFyYW1zLmNhdGNoID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMuY2F0Y2ggOiAoKSA9PiBwYXJhbXMuY2F0Y2gsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5jbGFzcyBab2ROYU4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5uYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubmFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxufVxuWm9kTmFOLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5hTih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmFOLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuY29uc3QgQlJBTkQgPSBTeW1ib2woXCJ6b2RfYnJhbmRcIik7XG5jbGFzcyBab2RCcmFuZGVkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBkYXRhID0gY3R4LmRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG59XG5jbGFzcyBab2RQaXBlbGluZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlQXN5bmMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5SZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuaW4uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShpblJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQXN5bmMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGluUmVzdWx0ID0gdGhpcy5fZGVmLmluLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJkaXJ0eVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFBpcGVsaW5lKHtcbiAgICAgICAgICAgIGluOiBhLFxuICAgICAgICAgICAgb3V0OiBiLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgWm9kUmVhZG9ubHkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgICAgICBjb25zdCBmcmVlemUgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWQoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnZhbHVlID0gT2JqZWN0LmZyZWV6ZShkYXRhLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaXNBc3luYyhyZXN1bHQpXG4gICAgICAgICAgICA/IHJlc3VsdC50aGVuKChkYXRhKSA9PiBmcmVlemUoZGF0YSkpXG4gICAgICAgICAgICA6IGZyZWV6ZShyZXN1bHQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZFJlYWRvbmx5LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFJlYWRvbmx5KHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlYWRvbmx5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZnVuY3Rpb24gY3VzdG9tKGNoZWNrLCBwYXJhbXMgPSB7fSwgXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKlxuICogUGFzcyBgZmF0YWxgIGludG8gdGhlIHBhcmFtcyBvYmplY3QgaW5zdGVhZDpcbiAqXG4gKiBgYGB0c1xuICogei5zdHJpbmcoKS5jdXN0b20oKHZhbCkgPT4gdmFsLmxlbmd0aCA+IDUsIHsgZmF0YWw6IGZhbHNlIH0pXG4gKiBgYGBcbiAqXG4gKi9cbmZhdGFsKSB7XG4gICAgaWYgKGNoZWNrKVxuICAgICAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpLnN1cGVyUmVmaW5lKChkYXRhLCBjdHgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICBpZiAoIWNoZWNrKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IHR5cGVvZiBwYXJhbXMgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgICAgICAgICA/IHBhcmFtcyhkYXRhKVxuICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiBwYXJhbXMgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8geyBtZXNzYWdlOiBwYXJhbXMgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwYXJhbXM7XG4gICAgICAgICAgICAgICAgY29uc3QgX2ZhdGFsID0gKF9iID0gKF9hID0gcC5mYXRhbCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmF0YWwpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgcDIgPSB0eXBlb2YgcCA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZTogcCB9IDogcDtcbiAgICAgICAgICAgICAgICBjdHguYWRkSXNzdWUoeyBjb2RlOiBcImN1c3RvbVwiLCAuLi5wMiwgZmF0YWw6IF9mYXRhbCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKTtcbn1cbmNvbnN0IGxhdGUgPSB7XG4gICAgb2JqZWN0OiBab2RPYmplY3QubGF6eWNyZWF0ZSxcbn07XG52YXIgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kO1xuKGZ1bmN0aW9uIChab2RGaXJzdFBhcnR5VHlwZUtpbmQpIHtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTdHJpbmdcIl0gPSBcIlpvZFN0cmluZ1wiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bWJlclwiXSA9IFwiWm9kTnVtYmVyXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmFOXCJdID0gXCJab2ROYU5cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCaWdJbnRcIl0gPSBcIlpvZEJpZ0ludFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJvb2xlYW5cIl0gPSBcIlpvZEJvb2xlYW5cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REYXRlXCJdID0gXCJab2REYXRlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU3ltYm9sXCJdID0gXCJab2RTeW1ib2xcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmRlZmluZWRcIl0gPSBcIlpvZFVuZGVmaW5lZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bGxcIl0gPSBcIlpvZE51bGxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RBbnlcIl0gPSBcIlpvZEFueVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVua25vd25cIl0gPSBcIlpvZFVua25vd25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROZXZlclwiXSA9IFwiWm9kTmV2ZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RWb2lkXCJdID0gXCJab2RWb2lkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQXJyYXlcIl0gPSBcIlpvZEFycmF5XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kT2JqZWN0XCJdID0gXCJab2RPYmplY3RcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmlvblwiXSA9IFwiWm9kVW5pb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REaXNjcmltaW5hdGVkVW5pb25cIl0gPSBcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEludGVyc2VjdGlvblwiXSA9IFwiWm9kSW50ZXJzZWN0aW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVHVwbGVcIl0gPSBcIlpvZFR1cGxlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUmVjb3JkXCJdID0gXCJab2RSZWNvcmRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RNYXBcIl0gPSBcIlpvZE1hcFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFNldFwiXSA9IFwiWm9kU2V0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRnVuY3Rpb25cIl0gPSBcIlpvZEZ1bmN0aW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTGF6eVwiXSA9IFwiWm9kTGF6eVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZExpdGVyYWxcIl0gPSBcIlpvZExpdGVyYWxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RFbnVtXCJdID0gXCJab2RFbnVtXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRWZmZWN0c1wiXSA9IFwiWm9kRWZmZWN0c1wiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5hdGl2ZUVudW1cIl0gPSBcIlpvZE5hdGl2ZUVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RPcHRpb25hbFwiXSA9IFwiWm9kT3B0aW9uYWxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdWxsYWJsZVwiXSA9IFwiWm9kTnVsbGFibGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REZWZhdWx0XCJdID0gXCJab2REZWZhdWx0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQ2F0Y2hcIl0gPSBcIlpvZENhdGNoXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUHJvbWlzZVwiXSA9IFwiWm9kUHJvbWlzZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJyYW5kZWRcIl0gPSBcIlpvZEJyYW5kZWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RQaXBlbGluZVwiXSA9IFwiWm9kUGlwZWxpbmVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RSZWFkb25seVwiXSA9IFwiWm9kUmVhZG9ubHlcIjtcbn0pKFpvZEZpcnN0UGFydHlUeXBlS2luZCB8fCAoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kID0ge30pKTtcbmNvbnN0IGluc3RhbmNlT2ZUeXBlID0gKFxuLy8gY29uc3QgaW5zdGFuY2VPZlR5cGUgPSA8VCBleHRlbmRzIG5ldyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG5jbHMsIHBhcmFtcyA9IHtcbiAgICBtZXNzYWdlOiBgSW5wdXQgbm90IGluc3RhbmNlIG9mICR7Y2xzLm5hbWV9YCxcbn0pID0+IGN1c3RvbSgoZGF0YSkgPT4gZGF0YSBpbnN0YW5jZW9mIGNscywgcGFyYW1zKTtcbmNvbnN0IHN0cmluZ1R5cGUgPSBab2RTdHJpbmcuY3JlYXRlO1xuY29uc3QgbnVtYmVyVHlwZSA9IFpvZE51bWJlci5jcmVhdGU7XG5jb25zdCBuYW5UeXBlID0gWm9kTmFOLmNyZWF0ZTtcbmNvbnN0IGJpZ0ludFR5cGUgPSBab2RCaWdJbnQuY3JlYXRlO1xuY29uc3QgYm9vbGVhblR5cGUgPSBab2RCb29sZWFuLmNyZWF0ZTtcbmNvbnN0IGRhdGVUeXBlID0gWm9kRGF0ZS5jcmVhdGU7XG5jb25zdCBzeW1ib2xUeXBlID0gWm9kU3ltYm9sLmNyZWF0ZTtcbmNvbnN0IHVuZGVmaW5lZFR5cGUgPSBab2RVbmRlZmluZWQuY3JlYXRlO1xuY29uc3QgbnVsbFR5cGUgPSBab2ROdWxsLmNyZWF0ZTtcbmNvbnN0IGFueVR5cGUgPSBab2RBbnkuY3JlYXRlO1xuY29uc3QgdW5rbm93blR5cGUgPSBab2RVbmtub3duLmNyZWF0ZTtcbmNvbnN0IG5ldmVyVHlwZSA9IFpvZE5ldmVyLmNyZWF0ZTtcbmNvbnN0IHZvaWRUeXBlID0gWm9kVm9pZC5jcmVhdGU7XG5jb25zdCBhcnJheVR5cGUgPSBab2RBcnJheS5jcmVhdGU7XG5jb25zdCBvYmplY3RUeXBlID0gWm9kT2JqZWN0LmNyZWF0ZTtcbmNvbnN0IHN0cmljdE9iamVjdFR5cGUgPSBab2RPYmplY3Quc3RyaWN0Q3JlYXRlO1xuY29uc3QgdW5pb25UeXBlID0gWm9kVW5pb24uY3JlYXRlO1xuY29uc3QgZGlzY3JpbWluYXRlZFVuaW9uVHlwZSA9IFpvZERpc2NyaW1pbmF0ZWRVbmlvbi5jcmVhdGU7XG5jb25zdCBpbnRlcnNlY3Rpb25UeXBlID0gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZTtcbmNvbnN0IHR1cGxlVHlwZSA9IFpvZFR1cGxlLmNyZWF0ZTtcbmNvbnN0IHJlY29yZFR5cGUgPSBab2RSZWNvcmQuY3JlYXRlO1xuY29uc3QgbWFwVHlwZSA9IFpvZE1hcC5jcmVhdGU7XG5jb25zdCBzZXRUeXBlID0gWm9kU2V0LmNyZWF0ZTtcbmNvbnN0IGZ1bmN0aW9uVHlwZSA9IFpvZEZ1bmN0aW9uLmNyZWF0ZTtcbmNvbnN0IGxhenlUeXBlID0gWm9kTGF6eS5jcmVhdGU7XG5jb25zdCBsaXRlcmFsVHlwZSA9IFpvZExpdGVyYWwuY3JlYXRlO1xuY29uc3QgZW51bVR5cGUgPSBab2RFbnVtLmNyZWF0ZTtcbmNvbnN0IG5hdGl2ZUVudW1UeXBlID0gWm9kTmF0aXZlRW51bS5jcmVhdGU7XG5jb25zdCBwcm9taXNlVHlwZSA9IFpvZFByb21pc2UuY3JlYXRlO1xuY29uc3QgZWZmZWN0c1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZTtcbmNvbnN0IG9wdGlvbmFsVHlwZSA9IFpvZE9wdGlvbmFsLmNyZWF0ZTtcbmNvbnN0IG51bGxhYmxlVHlwZSA9IFpvZE51bGxhYmxlLmNyZWF0ZTtcbmNvbnN0IHByZXByb2Nlc3NUeXBlID0gWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcztcbmNvbnN0IHBpcGVsaW5lVHlwZSA9IFpvZFBpcGVsaW5lLmNyZWF0ZTtcbmNvbnN0IG9zdHJpbmcgPSAoKSA9PiBzdHJpbmdUeXBlKCkub3B0aW9uYWwoKTtcbmNvbnN0IG9udW1iZXIgPSAoKSA9PiBudW1iZXJUeXBlKCkub3B0aW9uYWwoKTtcbmNvbnN0IG9ib29sZWFuID0gKCkgPT4gYm9vbGVhblR5cGUoKS5vcHRpb25hbCgpO1xuY29uc3QgY29lcmNlID0ge1xuICAgIHN0cmluZzogKChhcmcpID0+IFpvZFN0cmluZy5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgbnVtYmVyOiAoKGFyZykgPT4gWm9kTnVtYmVyLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBib29sZWFuOiAoKGFyZykgPT4gWm9kQm9vbGVhbi5jcmVhdGUoe1xuICAgICAgICAuLi5hcmcsXG4gICAgICAgIGNvZXJjZTogdHJ1ZSxcbiAgICB9KSksXG4gICAgYmlnaW50OiAoKGFyZykgPT4gWm9kQmlnSW50LmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBkYXRlOiAoKGFyZykgPT4gWm9kRGF0ZS5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG59O1xuY29uc3QgTkVWRVIgPSBJTlZBTElEO1xuXG52YXIgeiA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgICBfX3Byb3RvX186IG51bGwsXG4gICAgZGVmYXVsdEVycm9yTWFwOiBlcnJvck1hcCxcbiAgICBzZXRFcnJvck1hcDogc2V0RXJyb3JNYXAsXG4gICAgZ2V0RXJyb3JNYXA6IGdldEVycm9yTWFwLFxuICAgIG1ha2VJc3N1ZTogbWFrZUlzc3VlLFxuICAgIEVNUFRZX1BBVEg6IEVNUFRZX1BBVEgsXG4gICAgYWRkSXNzdWVUb0NvbnRleHQ6IGFkZElzc3VlVG9Db250ZXh0LFxuICAgIFBhcnNlU3RhdHVzOiBQYXJzZVN0YXR1cyxcbiAgICBJTlZBTElEOiBJTlZBTElELFxuICAgIERJUlRZOiBESVJUWSxcbiAgICBPSzogT0ssXG4gICAgaXNBYm9ydGVkOiBpc0Fib3J0ZWQsXG4gICAgaXNEaXJ0eTogaXNEaXJ0eSxcbiAgICBpc1ZhbGlkOiBpc1ZhbGlkLFxuICAgIGlzQXN5bmM6IGlzQXN5bmMsXG4gICAgZ2V0IHV0aWwgKCkgeyByZXR1cm4gdXRpbDsgfSxcbiAgICBnZXQgb2JqZWN0VXRpbCAoKSB7IHJldHVybiBvYmplY3RVdGlsOyB9LFxuICAgIFpvZFBhcnNlZFR5cGU6IFpvZFBhcnNlZFR5cGUsXG4gICAgZ2V0UGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZSxcbiAgICBab2RUeXBlOiBab2RUeXBlLFxuICAgIGRhdGV0aW1lUmVnZXg6IGRhdGV0aW1lUmVnZXgsXG4gICAgWm9kU3RyaW5nOiBab2RTdHJpbmcsXG4gICAgWm9kTnVtYmVyOiBab2ROdW1iZXIsXG4gICAgWm9kQmlnSW50OiBab2RCaWdJbnQsXG4gICAgWm9kQm9vbGVhbjogWm9kQm9vbGVhbixcbiAgICBab2REYXRlOiBab2REYXRlLFxuICAgIFpvZFN5bWJvbDogWm9kU3ltYm9sLFxuICAgIFpvZFVuZGVmaW5lZDogWm9kVW5kZWZpbmVkLFxuICAgIFpvZE51bGw6IFpvZE51bGwsXG4gICAgWm9kQW55OiBab2RBbnksXG4gICAgWm9kVW5rbm93bjogWm9kVW5rbm93bixcbiAgICBab2ROZXZlcjogWm9kTmV2ZXIsXG4gICAgWm9kVm9pZDogWm9kVm9pZCxcbiAgICBab2RBcnJheTogWm9kQXJyYXksXG4gICAgWm9kT2JqZWN0OiBab2RPYmplY3QsXG4gICAgWm9kVW5pb246IFpvZFVuaW9uLFxuICAgIFpvZERpc2NyaW1pbmF0ZWRVbmlvbjogWm9kRGlzY3JpbWluYXRlZFVuaW9uLFxuICAgIFpvZEludGVyc2VjdGlvbjogWm9kSW50ZXJzZWN0aW9uLFxuICAgIFpvZFR1cGxlOiBab2RUdXBsZSxcbiAgICBab2RSZWNvcmQ6IFpvZFJlY29yZCxcbiAgICBab2RNYXA6IFpvZE1hcCxcbiAgICBab2RTZXQ6IFpvZFNldCxcbiAgICBab2RGdW5jdGlvbjogWm9kRnVuY3Rpb24sXG4gICAgWm9kTGF6eTogWm9kTGF6eSxcbiAgICBab2RMaXRlcmFsOiBab2RMaXRlcmFsLFxuICAgIFpvZEVudW06IFpvZEVudW0sXG4gICAgWm9kTmF0aXZlRW51bTogWm9kTmF0aXZlRW51bSxcbiAgICBab2RQcm9taXNlOiBab2RQcm9taXNlLFxuICAgIFpvZEVmZmVjdHM6IFpvZEVmZmVjdHMsXG4gICAgWm9kVHJhbnNmb3JtZXI6IFpvZEVmZmVjdHMsXG4gICAgWm9kT3B0aW9uYWw6IFpvZE9wdGlvbmFsLFxuICAgIFpvZE51bGxhYmxlOiBab2ROdWxsYWJsZSxcbiAgICBab2REZWZhdWx0OiBab2REZWZhdWx0LFxuICAgIFpvZENhdGNoOiBab2RDYXRjaCxcbiAgICBab2ROYU46IFpvZE5hTixcbiAgICBCUkFORDogQlJBTkQsXG4gICAgWm9kQnJhbmRlZDogWm9kQnJhbmRlZCxcbiAgICBab2RQaXBlbGluZTogWm9kUGlwZWxpbmUsXG4gICAgWm9kUmVhZG9ubHk6IFpvZFJlYWRvbmx5LFxuICAgIGN1c3RvbTogY3VzdG9tLFxuICAgIFNjaGVtYTogWm9kVHlwZSxcbiAgICBab2RTY2hlbWE6IFpvZFR5cGUsXG4gICAgbGF0ZTogbGF0ZSxcbiAgICBnZXQgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kICgpIHsgcmV0dXJuIFpvZEZpcnN0UGFydHlUeXBlS2luZDsgfSxcbiAgICBjb2VyY2U6IGNvZXJjZSxcbiAgICBhbnk6IGFueVR5cGUsXG4gICAgYXJyYXk6IGFycmF5VHlwZSxcbiAgICBiaWdpbnQ6IGJpZ0ludFR5cGUsXG4gICAgYm9vbGVhbjogYm9vbGVhblR5cGUsXG4gICAgZGF0ZTogZGF0ZVR5cGUsXG4gICAgZGlzY3JpbWluYXRlZFVuaW9uOiBkaXNjcmltaW5hdGVkVW5pb25UeXBlLFxuICAgIGVmZmVjdDogZWZmZWN0c1R5cGUsXG4gICAgJ2VudW0nOiBlbnVtVHlwZSxcbiAgICAnZnVuY3Rpb24nOiBmdW5jdGlvblR5cGUsXG4gICAgJ2luc3RhbmNlb2YnOiBpbnN0YW5jZU9mVHlwZSxcbiAgICBpbnRlcnNlY3Rpb246IGludGVyc2VjdGlvblR5cGUsXG4gICAgbGF6eTogbGF6eVR5cGUsXG4gICAgbGl0ZXJhbDogbGl0ZXJhbFR5cGUsXG4gICAgbWFwOiBtYXBUeXBlLFxuICAgIG5hbjogbmFuVHlwZSxcbiAgICBuYXRpdmVFbnVtOiBuYXRpdmVFbnVtVHlwZSxcbiAgICBuZXZlcjogbmV2ZXJUeXBlLFxuICAgICdudWxsJzogbnVsbFR5cGUsXG4gICAgbnVsbGFibGU6IG51bGxhYmxlVHlwZSxcbiAgICBudW1iZXI6IG51bWJlclR5cGUsXG4gICAgb2JqZWN0OiBvYmplY3RUeXBlLFxuICAgIG9ib29sZWFuOiBvYm9vbGVhbixcbiAgICBvbnVtYmVyOiBvbnVtYmVyLFxuICAgIG9wdGlvbmFsOiBvcHRpb25hbFR5cGUsXG4gICAgb3N0cmluZzogb3N0cmluZyxcbiAgICBwaXBlbGluZTogcGlwZWxpbmVUeXBlLFxuICAgIHByZXByb2Nlc3M6IHByZXByb2Nlc3NUeXBlLFxuICAgIHByb21pc2U6IHByb21pc2VUeXBlLFxuICAgIHJlY29yZDogcmVjb3JkVHlwZSxcbiAgICBzZXQ6IHNldFR5cGUsXG4gICAgc3RyaWN0T2JqZWN0OiBzdHJpY3RPYmplY3RUeXBlLFxuICAgIHN0cmluZzogc3RyaW5nVHlwZSxcbiAgICBzeW1ib2w6IHN5bWJvbFR5cGUsXG4gICAgdHJhbnNmb3JtZXI6IGVmZmVjdHNUeXBlLFxuICAgIHR1cGxlOiB0dXBsZVR5cGUsXG4gICAgJ3VuZGVmaW5lZCc6IHVuZGVmaW5lZFR5cGUsXG4gICAgdW5pb246IHVuaW9uVHlwZSxcbiAgICB1bmtub3duOiB1bmtub3duVHlwZSxcbiAgICAndm9pZCc6IHZvaWRUeXBlLFxuICAgIE5FVkVSOiBORVZFUixcbiAgICBab2RJc3N1ZUNvZGU6IFpvZElzc3VlQ29kZSxcbiAgICBxdW90ZWxlc3NKc29uOiBxdW90ZWxlc3NKc29uLFxuICAgIFpvZEVycm9yOiBab2RFcnJvclxufSk7XG5cbmV4cG9ydCB7IEJSQU5ELCBESVJUWSwgRU1QVFlfUEFUSCwgSU5WQUxJRCwgTkVWRVIsIE9LLCBQYXJzZVN0YXR1cywgWm9kVHlwZSBhcyBTY2hlbWEsIFpvZEFueSwgWm9kQXJyYXksIFpvZEJpZ0ludCwgWm9kQm9vbGVhbiwgWm9kQnJhbmRlZCwgWm9kQ2F0Y2gsIFpvZERhdGUsIFpvZERlZmF1bHQsIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiwgWm9kRWZmZWN0cywgWm9kRW51bSwgWm9kRXJyb3IsIFpvZEZpcnN0UGFydHlUeXBlS2luZCwgWm9kRnVuY3Rpb24sIFpvZEludGVyc2VjdGlvbiwgWm9kSXNzdWVDb2RlLCBab2RMYXp5LCBab2RMaXRlcmFsLCBab2RNYXAsIFpvZE5hTiwgWm9kTmF0aXZlRW51bSwgWm9kTmV2ZXIsIFpvZE51bGwsIFpvZE51bGxhYmxlLCBab2ROdW1iZXIsIFpvZE9iamVjdCwgWm9kT3B0aW9uYWwsIFpvZFBhcnNlZFR5cGUsIFpvZFBpcGVsaW5lLCBab2RQcm9taXNlLCBab2RSZWFkb25seSwgWm9kUmVjb3JkLCBab2RUeXBlIGFzIFpvZFNjaGVtYSwgWm9kU2V0LCBab2RTdHJpbmcsIFpvZFN5bWJvbCwgWm9kRWZmZWN0cyBhcyBab2RUcmFuc2Zvcm1lciwgWm9kVHVwbGUsIFpvZFR5cGUsIFpvZFVuZGVmaW5lZCwgWm9kVW5pb24sIFpvZFVua25vd24sIFpvZFZvaWQsIGFkZElzc3VlVG9Db250ZXh0LCBhbnlUeXBlIGFzIGFueSwgYXJyYXlUeXBlIGFzIGFycmF5LCBiaWdJbnRUeXBlIGFzIGJpZ2ludCwgYm9vbGVhblR5cGUgYXMgYm9vbGVhbiwgY29lcmNlLCBjdXN0b20sIGRhdGVUeXBlIGFzIGRhdGUsIGRhdGV0aW1lUmVnZXgsIHogYXMgZGVmYXVsdCwgZXJyb3JNYXAgYXMgZGVmYXVsdEVycm9yTWFwLCBkaXNjcmltaW5hdGVkVW5pb25UeXBlIGFzIGRpc2NyaW1pbmF0ZWRVbmlvbiwgZWZmZWN0c1R5cGUgYXMgZWZmZWN0LCBlbnVtVHlwZSBhcyBlbnVtLCBmdW5jdGlvblR5cGUgYXMgZnVuY3Rpb24sIGdldEVycm9yTWFwLCBnZXRQYXJzZWRUeXBlLCBpbnN0YW5jZU9mVHlwZSBhcyBpbnN0YW5jZW9mLCBpbnRlcnNlY3Rpb25UeXBlIGFzIGludGVyc2VjdGlvbiwgaXNBYm9ydGVkLCBpc0FzeW5jLCBpc0RpcnR5LCBpc1ZhbGlkLCBsYXRlLCBsYXp5VHlwZSBhcyBsYXp5LCBsaXRlcmFsVHlwZSBhcyBsaXRlcmFsLCBtYWtlSXNzdWUsIG1hcFR5cGUgYXMgbWFwLCBuYW5UeXBlIGFzIG5hbiwgbmF0aXZlRW51bVR5cGUgYXMgbmF0aXZlRW51bSwgbmV2ZXJUeXBlIGFzIG5ldmVyLCBudWxsVHlwZSBhcyBudWxsLCBudWxsYWJsZVR5cGUgYXMgbnVsbGFibGUsIG51bWJlclR5cGUgYXMgbnVtYmVyLCBvYmplY3RUeXBlIGFzIG9iamVjdCwgb2JqZWN0VXRpbCwgb2Jvb2xlYW4sIG9udW1iZXIsIG9wdGlvbmFsVHlwZSBhcyBvcHRpb25hbCwgb3N0cmluZywgcGlwZWxpbmVUeXBlIGFzIHBpcGVsaW5lLCBwcmVwcm9jZXNzVHlwZSBhcyBwcmVwcm9jZXNzLCBwcm9taXNlVHlwZSBhcyBwcm9taXNlLCBxdW90ZWxlc3NKc29uLCByZWNvcmRUeXBlIGFzIHJlY29yZCwgc2V0VHlwZSBhcyBzZXQsIHNldEVycm9yTWFwLCBzdHJpY3RPYmplY3RUeXBlIGFzIHN0cmljdE9iamVjdCwgc3RyaW5nVHlwZSBhcyBzdHJpbmcsIHN5bWJvbFR5cGUgYXMgc3ltYm9sLCBlZmZlY3RzVHlwZSBhcyB0cmFuc2Zvcm1lciwgdHVwbGVUeXBlIGFzIHR1cGxlLCB1bmRlZmluZWRUeXBlIGFzIHVuZGVmaW5lZCwgdW5pb25UeXBlIGFzIHVuaW9uLCB1bmtub3duVHlwZSBhcyB1bmtub3duLCB1dGlsLCB2b2lkVHlwZSBhcyB2b2lkLCB6IH07XG4iLCAiLy8gc2NoZW1hLnRzXG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG4vLyBkdG8udHNcbnZhciBMb2dMZXZlbERUTyA9IC8qIEBfX1BVUkVfXyAqLyAoKExvZ0xldmVsRFRPMikgPT4ge1xuICBMb2dMZXZlbERUTzJbXCJJbmZvXCJdID0gXCJpbmZvXCI7XG4gIExvZ0xldmVsRFRPMltcIkRlYnVnXCJdID0gXCJkZWJ1Z1wiO1xuICBMb2dMZXZlbERUTzJbXCJUcmFjZVwiXSA9IFwidHJhY2VcIjtcbiAgTG9nTGV2ZWxEVE8yW1wiRXJyb3JcIl0gPSBcImVycm9yXCI7XG4gIHJldHVybiBMb2dMZXZlbERUTzI7XG59KShMb2dMZXZlbERUTyB8fCB7fSk7XG52YXIgRXZlbnRMZXZlbCA9IC8qIEBfX1BVUkVfXyAqLyAoKEV2ZW50TGV2ZWwyKSA9PiB7XG4gIEV2ZW50TGV2ZWwyW1wiRXh0ZXJuYWxcIl0gPSBcIkJTTElWRV9FWFRFUk5BTFwiO1xuICByZXR1cm4gRXZlbnRMZXZlbDI7XG59KShFdmVudExldmVsIHx8IHt9KTtcbnZhciBDaGFuZ2VLaW5kID0gLyogQF9fUFVSRV9fICovICgoQ2hhbmdlS2luZDIpID0+IHtcbiAgQ2hhbmdlS2luZDJbXCJDaGFuZ2VkXCJdID0gXCJDaGFuZ2VkXCI7XG4gIENoYW5nZUtpbmQyW1wiQWRkZWRcIl0gPSBcIkFkZGVkXCI7XG4gIENoYW5nZUtpbmQyW1wiUmVtb3ZlZFwiXSA9IFwiUmVtb3ZlZFwiO1xuICByZXR1cm4gQ2hhbmdlS2luZDI7XG59KShDaGFuZ2VLaW5kIHx8IHt9KTtcblxuLy8gc2NoZW1hLnRzXG52YXIgcm91dGVLaW5kRFRPU2NoZW1hID0gei51bmlvbihbXG4gIHoub2JqZWN0KHtcbiAgICBraW5kOiB6LmxpdGVyYWwoXCJIdG1sXCIpLFxuICAgIHBheWxvYWQ6IHoub2JqZWN0KHtcbiAgICAgIGh0bWw6IHouc3RyaW5nKClcbiAgICB9KVxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIGtpbmQ6IHoubGl0ZXJhbChcIkpzb25cIiksXG4gICAgcGF5bG9hZDogei5vYmplY3Qoe1xuICAgICAganNvbl9zdHI6IHouc3RyaW5nKClcbiAgICB9KVxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIGtpbmQ6IHoubGl0ZXJhbChcIlJhd1wiKSxcbiAgICBwYXlsb2FkOiB6Lm9iamVjdCh7XG4gICAgICByYXc6IHouc3RyaW5nKClcbiAgICB9KVxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIGtpbmQ6IHoubGl0ZXJhbChcIlNzZVwiKSxcbiAgICBwYXlsb2FkOiB6Lm9iamVjdCh7XG4gICAgICBzc2U6IHouc3RyaW5nKClcbiAgICB9KVxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIGtpbmQ6IHoubGl0ZXJhbChcIlByb3h5XCIpLFxuICAgIHBheWxvYWQ6IHoub2JqZWN0KHtcbiAgICAgIHByb3h5OiB6LnN0cmluZygpXG4gICAgfSlcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICBraW5kOiB6LmxpdGVyYWwoXCJEaXJcIiksXG4gICAgcGF5bG9hZDogei5vYmplY3Qoe1xuICAgICAgZGlyOiB6LnN0cmluZygpLFxuICAgICAgYmFzZTogei5zdHJpbmcoKS5vcHRpb25hbCgpXG4gICAgfSlcbiAgfSlcbl0pO1xudmFyIHJvdXRlRFRPU2NoZW1hID0gei5vYmplY3Qoe1xuICBwYXRoOiB6LnN0cmluZygpLFxuICBraW5kOiByb3V0ZUtpbmREVE9TY2hlbWFcbn0pO1xudmFyIHNlcnZlckRlc2NTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHJvdXRlczogei5hcnJheShyb3V0ZURUT1NjaGVtYSksXG4gIGlkOiB6LnN0cmluZygpXG59KTtcbnZhciBzZXJ2ZXJJZGVudGl0eURUT1NjaGVtYSA9IHoudW5pb24oW1xuICB6Lm9iamVjdCh7XG4gICAga2luZDogei5saXRlcmFsKFwiQm90aFwiKSxcbiAgICBwYXlsb2FkOiB6Lm9iamVjdCh7XG4gICAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgICAgYmluZF9hZGRyZXNzOiB6LnN0cmluZygpXG4gICAgfSlcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICBraW5kOiB6LmxpdGVyYWwoXCJBZGRyZXNzXCIpLFxuICAgIHBheWxvYWQ6IHoub2JqZWN0KHtcbiAgICAgIGJpbmRfYWRkcmVzczogei5zdHJpbmcoKVxuICAgIH0pXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAga2luZDogei5saXRlcmFsKFwiTmFtZWRcIiksXG4gICAgcGF5bG9hZDogei5vYmplY3Qoe1xuICAgICAgbmFtZTogei5zdHJpbmcoKVxuICAgIH0pXG4gIH0pXG5dKTtcbnZhciBzZXJ2ZXJEVE9TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGlkOiB6LnN0cmluZygpLFxuICBpZGVudGl0eTogc2VydmVySWRlbnRpdHlEVE9TY2hlbWEsXG4gIHNvY2tldF9hZGRyOiB6LnN0cmluZygpXG59KTtcbnZhciBnZXRTZXJ2ZXJzTWVzc2FnZVJlc3BvbnNlRFRPU2NoZW1hID0gei5vYmplY3Qoe1xuICBzZXJ2ZXJzOiB6LmFycmF5KHNlcnZlckRUT1NjaGVtYSlcbn0pO1xudmFyIHNlcnZlcnNDaGFuZ2VkRFRPU2NoZW1hID0gei5vYmplY3Qoe1xuICBzZXJ2ZXJzX3Jlc3A6IGdldFNlcnZlcnNNZXNzYWdlUmVzcG9uc2VEVE9TY2hlbWFcbn0pO1xudmFyIGlucHV0QWNjZXB0ZWREVE9TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHBhdGg6IHouc3RyaW5nKClcbn0pO1xudmFyIGZpbGVDaGFuZ2VkRFRPU2NoZW1hID0gei5vYmplY3Qoe1xuICBwYXRoOiB6LnN0cmluZygpXG59KTtcbnZhciBmaWxlc0NoYW5nZWREVE9TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHBhdGhzOiB6LmFycmF5KHouc3RyaW5nKCkpXG59KTtcbnZhciBkZWJvdW5jZURUT1NjaGVtYSA9IHoub2JqZWN0KHtcbiAga2luZDogei5zdHJpbmcoKSxcbiAgbXM6IHouc3RyaW5nKClcbn0pO1xudmFyIHdhdGNoaW5nRFRPU2NoZW1hID0gei5vYmplY3Qoe1xuICBwYXRoczogei5hcnJheSh6LnN0cmluZygpKSxcbiAgZGVib3VuY2U6IGRlYm91bmNlRFRPU2NoZW1hXG59KTtcbnZhciBzdG9wcGVkV2F0Y2hpbmdEVE9TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHBhdGhzOiB6LmFycmF5KHouc3RyaW5nKCkpXG59KTtcbnZhciBzZXJ2ZXJDaGFuZ2VTY2hlbWEgPSB6LnVuaW9uKFtcbiAgei5vYmplY3Qoe1xuICAgIGtpbmQ6IHoubGl0ZXJhbChcIlN0b3BwZWRcIiksXG4gICAgcGF5bG9hZDogei5vYmplY3Qoe1xuICAgICAgYmluZF9hZGRyZXNzOiB6LnN0cmluZygpXG4gICAgfSlcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICBraW5kOiB6LmxpdGVyYWwoXCJTdGFydGVkXCIpLFxuICAgIHBheWxvYWQ6IHoudW5kZWZpbmVkKCkub3B0aW9uYWwoKVxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIGtpbmQ6IHoubGl0ZXJhbChcIlBhdGNoZWRcIiksXG4gICAgcGF5bG9hZDogei51bmRlZmluZWQoKS5vcHRpb25hbCgpXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAga2luZDogei5saXRlcmFsKFwiRXJyb3JlZFwiKSxcbiAgICBwYXlsb2FkOiB6Lm9iamVjdCh7XG4gICAgICBlcnJvcjogei5zdHJpbmcoKVxuICAgIH0pXG4gIH0pXG5dKTtcbnZhciBzZXJ2ZXJDaGFuZ2VTZXRJdGVtU2NoZW1hID0gei5vYmplY3Qoe1xuICBpZGVudGl0eTogc2VydmVySWRlbnRpdHlEVE9TY2hlbWEsXG4gIGNoYW5nZTogc2VydmVyQ2hhbmdlU2NoZW1hXG59KTtcbnZhciBzZXJ2ZXJDaGFuZ2VTZXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGl0ZW1zOiB6LmFycmF5KHNlcnZlckNoYW5nZVNldEl0ZW1TY2hlbWEpXG59KTtcbnZhciBsb2dMZXZlbERUT1NjaGVtYSA9IHoubmF0aXZlRW51bShMb2dMZXZlbERUTyk7XG52YXIgY2xpZW50Q29uZmlnRFRPU2NoZW1hID0gei5vYmplY3Qoe1xuICBsb2dfbGV2ZWw6IGxvZ0xldmVsRFRPU2NoZW1hXG59KTtcbnZhciBpbnRlcm5hbEV2ZW50c0RUT1NjaGVtYSA9IHoub2JqZWN0KHtcbiAga2luZDogei5saXRlcmFsKFwiU2VydmVyc0NoYW5nZWRcIiksXG4gIHBheWxvYWQ6IGdldFNlcnZlcnNNZXNzYWdlUmVzcG9uc2VEVE9TY2hlbWFcbn0pO1xudmFyIGV2ZW50TGV2ZWxTY2hlbWEgPSB6Lm5hdGl2ZUVudW0oRXZlbnRMZXZlbCk7XG52YXIgZXh0ZXJuYWxFdmVudHNEVE9TY2hlbWEgPSB6LnVuaW9uKFtcbiAgei5vYmplY3Qoe1xuICAgIGtpbmQ6IHoubGl0ZXJhbChcIlNlcnZlcnNDaGFuZ2VkXCIpLFxuICAgIHBheWxvYWQ6IHNlcnZlcnNDaGFuZ2VkRFRPU2NoZW1hXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAga2luZDogei5saXRlcmFsKFwiV2F0Y2hpbmdcIiksXG4gICAgcGF5bG9hZDogd2F0Y2hpbmdEVE9TY2hlbWFcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICBraW5kOiB6LmxpdGVyYWwoXCJXYXRjaGluZ1N0b3BwZWRcIiksXG4gICAgcGF5bG9hZDogc3RvcHBlZFdhdGNoaW5nRFRPU2NoZW1hXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAga2luZDogei5saXRlcmFsKFwiRmlsZUNoYW5nZWRcIiksXG4gICAgcGF5bG9hZDogZmlsZUNoYW5nZWREVE9TY2hlbWFcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICBraW5kOiB6LmxpdGVyYWwoXCJGaWxlc0NoYW5nZWRcIiksXG4gICAgcGF5bG9hZDogZmlsZXNDaGFuZ2VkRFRPU2NoZW1hXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAga2luZDogei5saXRlcmFsKFwiSW5wdXRGaWxlQ2hhbmdlZFwiKSxcbiAgICBwYXlsb2FkOiBmaWxlQ2hhbmdlZERUT1NjaGVtYVxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIGtpbmQ6IHoubGl0ZXJhbChcIklucHV0QWNjZXB0ZWRcIiksXG4gICAgcGF5bG9hZDogaW5wdXRBY2NlcHRlZERUT1NjaGVtYVxuICB9KVxuXSk7XG52YXIgc3RhcnR1cEV2ZW50RFRPU2NoZW1hID0gei51bmlvbihbXG4gIHoub2JqZWN0KHtcbiAgICBraW5kOiB6LmxpdGVyYWwoXCJTdGFydGVkXCIpLFxuICAgIHBheWxvYWQ6IHoudW5kZWZpbmVkKCkub3B0aW9uYWwoKVxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIGtpbmQ6IHoubGl0ZXJhbChcIkZhaWxlZFN0YXJ0dXBcIiksXG4gICAgcGF5bG9hZDogei5zdHJpbmcoKVxuICB9KVxuXSk7XG52YXIgaW5wdXRFcnJvckRUT1NjaGVtYSA9IHoudW5pb24oW1xuICB6Lm9iamVjdCh7XG4gICAga2luZDogei5saXRlcmFsKFwiTWlzc2luZ0lucHV0c1wiKSxcbiAgICBwYXlsb2FkOiB6LnN0cmluZygpXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAga2luZDogei5saXRlcmFsKFwiSW52YWxpZElucHV0XCIpLFxuICAgIHBheWxvYWQ6IHouc3RyaW5nKClcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICBraW5kOiB6LmxpdGVyYWwoXCJOb3RGb3VuZFwiKSxcbiAgICBwYXlsb2FkOiB6LnN0cmluZygpXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAga2luZDogei5saXRlcmFsKFwiSW5wdXRXcml0ZUVycm9yXCIpLFxuICAgIHBheWxvYWQ6IHouc3RyaW5nKClcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICBraW5kOiB6LmxpdGVyYWwoXCJQYXRoRXJyb3JcIiksXG4gICAgcGF5bG9hZDogei5zdHJpbmcoKVxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIGtpbmQ6IHoubGl0ZXJhbChcIlBvcnRFcnJvclwiKSxcbiAgICBwYXlsb2FkOiB6LnN0cmluZygpXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAga2luZDogei5saXRlcmFsKFwiRGlyRXJyb3JcIiksXG4gICAgcGF5bG9hZDogei5zdHJpbmcoKVxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIGtpbmQ6IHoubGl0ZXJhbChcIllhbWxFcnJvclwiKSxcbiAgICBwYXlsb2FkOiB6LnN0cmluZygpXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAga2luZDogei5saXRlcmFsKFwiTWFya2Rvd25FcnJvclwiKSxcbiAgICBwYXlsb2FkOiB6LnN0cmluZygpXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAga2luZDogei5saXRlcmFsKFwiSW9cIiksXG4gICAgcGF5bG9hZDogei5zdHJpbmcoKVxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIGtpbmQ6IHoubGl0ZXJhbChcIlVuc3VwcG9ydGVkRXh0ZW5zaW9uXCIpLFxuICAgIHBheWxvYWQ6IHouc3RyaW5nKClcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICBraW5kOiB6LmxpdGVyYWwoXCJNaXNzaW5nRXh0ZW5zaW9uXCIpLFxuICAgIHBheWxvYWQ6IHouc3RyaW5nKClcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICBraW5kOiB6LmxpdGVyYWwoXCJFbXB0eUlucHV0XCIpLFxuICAgIHBheWxvYWQ6IHouc3RyaW5nKClcbiAgfSksXG4gIHoub2JqZWN0KHtcbiAgICBraW5kOiB6LmxpdGVyYWwoXCJCc0xpdmVSdWxlc1wiKSxcbiAgICBwYXlsb2FkOiB6LnN0cmluZygpXG4gIH0pXG5dKTtcbnZhciBjaGFuZ2VLaW5kU2NoZW1hID0gei5uYXRpdmVFbnVtKENoYW5nZUtpbmQpO1xudmFyIGNoYW5nZURUT1NjaGVtYSA9IHoubGF6eShcbiAgKCkgPT4gei51bmlvbihbXG4gICAgei5vYmplY3Qoe1xuICAgICAga2luZDogei5saXRlcmFsKFwiRnNcIiksXG4gICAgICBwYXlsb2FkOiB6Lm9iamVjdCh7XG4gICAgICAgIHBhdGg6IHouc3RyaW5nKCksXG4gICAgICAgIGNoYW5nZV9raW5kOiBjaGFuZ2VLaW5kU2NoZW1hXG4gICAgICB9KVxuICAgIH0pLFxuICAgIHoub2JqZWN0KHtcbiAgICAgIGtpbmQ6IHoubGl0ZXJhbChcIkZzTWFueVwiKSxcbiAgICAgIHBheWxvYWQ6IHouYXJyYXkoY2hhbmdlRFRPU2NoZW1hKVxuICAgIH0pXG4gIF0pXG4pO1xudmFyIGNsaWVudEV2ZW50U2NoZW1hID0gei51bmlvbihbXG4gIHoub2JqZWN0KHtcbiAgICBraW5kOiB6LmxpdGVyYWwoXCJDaGFuZ2VcIiksXG4gICAgcGF5bG9hZDogY2hhbmdlRFRPU2NoZW1hXG4gIH0pLFxuICB6Lm9iamVjdCh7XG4gICAga2luZDogei5saXRlcmFsKFwiV3NDb25uZWN0aW9uXCIpLFxuICAgIHBheWxvYWQ6IGNsaWVudENvbmZpZ0RUT1NjaGVtYVxuICB9KSxcbiAgei5vYmplY3Qoe1xuICAgIGtpbmQ6IHoubGl0ZXJhbChcIkNvbmZpZ1wiKSxcbiAgICBwYXlsb2FkOiBjbGllbnRDb25maWdEVE9TY2hlbWFcbiAgfSlcbl0pO1xuZXhwb3J0IHtcbiAgY2hhbmdlRFRPU2NoZW1hLFxuICBjaGFuZ2VLaW5kU2NoZW1hLFxuICBjbGllbnRDb25maWdEVE9TY2hlbWEsXG4gIGNsaWVudEV2ZW50U2NoZW1hLFxuICBkZWJvdW5jZURUT1NjaGVtYSxcbiAgZXZlbnRMZXZlbFNjaGVtYSxcbiAgZXh0ZXJuYWxFdmVudHNEVE9TY2hlbWEsXG4gIGZpbGVDaGFuZ2VkRFRPU2NoZW1hLFxuICBmaWxlc0NoYW5nZWREVE9TY2hlbWEsXG4gIGdldFNlcnZlcnNNZXNzYWdlUmVzcG9uc2VEVE9TY2hlbWEsXG4gIGlucHV0QWNjZXB0ZWREVE9TY2hlbWEsXG4gIGlucHV0RXJyb3JEVE9TY2hlbWEsXG4gIGludGVybmFsRXZlbnRzRFRPU2NoZW1hLFxuICBsb2dMZXZlbERUT1NjaGVtYSxcbiAgcm91dGVEVE9TY2hlbWEsXG4gIHJvdXRlS2luZERUT1NjaGVtYSxcbiAgc2VydmVyQ2hhbmdlU2NoZW1hLFxuICBzZXJ2ZXJDaGFuZ2VTZXRJdGVtU2NoZW1hLFxuICBzZXJ2ZXJDaGFuZ2VTZXRTY2hlbWEsXG4gIHNlcnZlckRUT1NjaGVtYSxcbiAgc2VydmVyRGVzY1NjaGVtYSxcbiAgc2VydmVySWRlbnRpdHlEVE9TY2hlbWEsXG4gIHNlcnZlcnNDaGFuZ2VkRFRPU2NoZW1hLFxuICBzdGFydHVwRXZlbnREVE9TY2hlbWEsXG4gIHN0b3BwZWRXYXRjaGluZ0RUT1NjaGVtYSxcbiAgd2F0Y2hpbmdEVE9TY2hlbWFcbn07XG4iLCAiLy8gQHRzLW5vY2hlY2tcbi8qIGdsb2JhbCBDU1NSdWxlICovXG5jb25zdCBJTUFHRV9TVFlMRVMgPSBbXG4gICAge3NlbGVjdG9yOiAnYmFja2dyb3VuZCcsIHN0eWxlTmFtZXM6IFsnYmFja2dyb3VuZEltYWdlJ119LFxuICAgIHtzZWxlY3RvcjogJ2JvcmRlcicsIHN0eWxlTmFtZXM6IFsnYm9yZGVySW1hZ2UnLCAnd2Via2l0Qm9yZGVySW1hZ2UnLCAnTW96Qm9yZGVySW1hZ2UnXX1cbl07XG5cbmNvbnN0IERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBzdHlsZXNoZWV0UmVsb2FkVGltZW91dDogMTUwMDBcbn07XG5cbmNvbnN0IElNQUdFU19SRUdFWCA9IC9cXC4oanBlP2d8cG5nfGdpZnxzdmcpJC9pO1xuXG5leHBvcnQgY2xhc3MgUmVsb2FkZXIge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB3aW5kb3dcbiAgICAgKiBAcGFyYW0ge1BpY2s8dHlwZW9mIGdsb2JhbFRoaXNbJ2NvbnNvbGUnXSwgXCJ0cmFjZVwiIHwgXCJkZWJ1Z1wiIHwgXCJpbmZvXCIgfCBcImVycm9yXCI+fSBjb25zb2xlXG4gICAgICogQHBhcmFtIFRpbWVyXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iod2luZG93LCBjb25zb2xlLCBUaW1lcikge1xuICAgICAgICB0aGlzLndpbmRvdyA9IHdpbmRvdztcbiAgICAgICAgdGhpcy5jb25zb2xlID0gY29uc29sZTtcbiAgICAgICAgdGhpcy5UaW1lciA9IFRpbWVyO1xuICAgICAgICB0aGlzLmRvY3VtZW50ID0gdGhpcy53aW5kb3cuZG9jdW1lbnQ7XG4gICAgICAgIHRoaXMuaW1wb3J0Q2FjaGVXYWl0UGVyaW9kID0gMjAwO1xuICAgICAgICB0aGlzLnBsdWdpbnMgPSBbXTtcbiAgICB9XG5cbiAgICBhZGRQbHVnaW4ocGx1Z2luKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgIH1cblxuICAgIGFuYWx5emUoY2FsbGJhY2spIHtcbiAgICB9XG5cbiAgICByZWxvYWQocGF0aCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgICAgICAgIC4uLkRFRkFVTFRfT1BUSU9OUyxcbiAgICAgICAgICAgIC4uLm9wdGlvbnNcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAob3B0aW9ucy5saXZlQ1NTICYmIHBhdGgubWF0Y2goL1xcLmNzcyg/OlxcLm1hcCk/JC9pKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVsb2FkU3R5bGVzaGVldChwYXRoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmxpdmVJbWcgJiYgcGF0aC5tYXRjaChJTUFHRVNfUkVHRVgpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbG9hZEltYWdlcyhwYXRoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmlzQ2hyb21lRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICB0aGlzLnJlbG9hZENocm9tZUV4dGVuc2lvbigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVsb2FkUGFnZSgpO1xuICAgIH1cblxuICAgIHJlbG9hZFBhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpbmRvdy5kb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9XG5cbiAgICByZWxvYWRDaHJvbWVFeHRlbnNpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpbmRvdy5jaHJvbWUucnVudGltZS5yZWxvYWQoKTtcbiAgICB9XG5cbiAgICByZWxvYWRJbWFnZXMocGF0aCkge1xuICAgICAgICBsZXQgaW1nO1xuICAgICAgICBjb25zdCBleHBhbmRvID0gdGhpcy5nZW5lcmF0ZVVuaXF1ZVN0cmluZygpO1xuXG4gICAgICAgIGZvciAoaW1nIG9mIEFycmF5LmZyb20odGhpcy5kb2N1bWVudC5pbWFnZXMpKSB7XG4gICAgICAgICAgICBpZiAocGF0aHNNYXRjaChwYXRoLCBwYXRoRnJvbVVybChpbWcuc3JjKSkpIHtcbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gdGhpcy5nZW5lcmF0ZUNhY2hlQnVzdFVybChpbWcuc3JjLCBleHBhbmRvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qge3NlbGVjdG9yLCBzdHlsZU5hbWVzfSBvZiBJTUFHRV9TVFlMRVMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGltZyBvZiBBcnJheS5mcm9tKHRoaXMuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgW3N0eWxlKj0ke3NlbGVjdG9yfV1gKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxvYWRTdHlsZUltYWdlcyhpbWcuc3R5bGUsIHN0eWxlTmFtZXMsIHBhdGgsIGV4cGFuZG8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmRvY3VtZW50LnN0eWxlU2hlZXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmRvY3VtZW50LnN0eWxlU2hlZXRzKS5tYXAoc3R5bGVTaGVldCA9PlxuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkU3R5bGVzaGVldEltYWdlcyhzdHlsZVNoZWV0LCBwYXRoLCBleHBhbmRvKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbG9hZFN0eWxlc2hlZXRJbWFnZXMoc3R5bGVTaGVldCwgcGF0aCwgZXhwYW5kbykge1xuICAgICAgICBsZXQgcnVsZXM7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJ1bGVzID0gKHN0eWxlU2hlZXQgfHwge30pLmNzc1J1bGVzO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJ1bGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgQXJyYXkuZnJvbShydWxlcykpIHtcbiAgICAgICAgICAgIHN3aXRjaCAocnVsZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDU1NSdWxlLklNUE9SVF9SVUxFOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZFN0eWxlc2hlZXRJbWFnZXMocnVsZS5zdHlsZVNoZWV0LCBwYXRoLCBleHBhbmRvKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDU1NSdWxlLlNUWUxFX1JVTEU6XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qge3N0eWxlTmFtZXN9IG9mIElNQUdFX1NUWUxFUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxvYWRTdHlsZUltYWdlcyhydWxlLnN0eWxlLCBzdHlsZU5hbWVzLCBwYXRoLCBleHBhbmRvKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENTU1J1bGUuTUVESUFfUlVMRTpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxvYWRTdHlsZXNoZWV0SW1hZ2VzKHJ1bGUsIHBhdGgsIGV4cGFuZG8pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbG9hZFN0eWxlSW1hZ2VzKHN0eWxlLCBzdHlsZU5hbWVzLCBwYXRoLCBleHBhbmRvKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc3R5bGVOYW1lIG9mIHN0eWxlTmFtZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc3R5bGVbc3R5bGVOYW1lXTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlZ2V4LWxpdGVyYWxzXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB2YWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcXFxidXJsXFxcXHMqXFxcXCgoW14pXSopXFxcXCknKSwgKG1hdGNoLCBzcmMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGhzTWF0Y2gocGF0aCwgcGF0aEZyb21Vcmwoc3JjKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgdXJsKCR7dGhpcy5nZW5lcmF0ZUNhY2hlQnVzdFVybChzcmMsIGV4cGFuZG8pfSlgO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZVtzdHlsZU5hbWVdID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVsb2FkU3R5bGVzaGVldChwYXRoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMgfHwgREVGQVVMVF9PUFRJT05TO1xuXG4gICAgICAgIC8vIGhhcyB0byBiZSBhIHJlYWwgYXJyYXksIGJlY2F1c2UgRE9NTm9kZUxpc3Qgd2lsbCBiZSBtb2RpZmllZFxuICAgICAgICBsZXQgc3R5bGU7XG4gICAgICAgIGxldCBsaW5rO1xuXG4gICAgICAgIGNvbnN0IGxpbmtzID0gKCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcblxuICAgICAgICAgICAgZm9yIChsaW5rIG9mIEFycmF5LmZyb20odGhpcy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGluaycpKSkge1xuICAgICAgICAgICAgICAgIGlmIChsaW5rLnJlbC5tYXRjaCgvXnN0eWxlc2hlZXQkL2kpICYmICFsaW5rLl9fTGl2ZVJlbG9hZF9wZW5kaW5nUmVtb3ZhbCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChsaW5rKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pKCkpO1xuXG4gICAgICAgIC8vIGZpbmQgYWxsIGltcG9ydGVkIHN0eWxlc2hlZXRzXG4gICAgICAgIGNvbnN0IGltcG9ydGVkID0gW107XG5cbiAgICAgICAgZm9yIChzdHlsZSBvZiBBcnJheS5mcm9tKHRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0eWxlJykpKSB7XG4gICAgICAgICAgICBpZiAoc3R5bGUuc2hlZXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbGxlY3RJbXBvcnRlZFN0eWxlc2hlZXRzKHN0eWxlLCBzdHlsZS5zaGVldCwgaW1wb3J0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsaW5rIG9mIEFycmF5LmZyb20obGlua3MpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3RJbXBvcnRlZFN0eWxlc2hlZXRzKGxpbmssIGxpbmsuc2hlZXQsIGltcG9ydGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSBwcmVmaXhmcmVlXG4gICAgICAgIGlmICh0aGlzLndpbmRvdy5TdHlsZUZpeCAmJiB0aGlzLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwpIHtcbiAgICAgICAgICAgIGZvciAoc3R5bGUgb2YgQXJyYXkuZnJvbSh0aGlzLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlW2RhdGEtaHJlZl0nKSkpIHtcbiAgICAgICAgICAgICAgICBsaW5rcy5wdXNoKHN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29uc29sZS5kZWJ1ZyhgZm91bmQgJHtsaW5rcy5sZW5ndGh9IExJTktlZCBzdHlsZXNoZWV0cywgJHtpbXBvcnRlZC5sZW5ndGh9IEBpbXBvcnRlZCBzdHlsZXNoZWV0c2ApO1xuXG4gICAgICAgIGNvbnN0IG1hdGNoID0gcGlja0Jlc3RNYXRjaChcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBsaW5rcy5jb25jYXQoaW1wb3J0ZWQpLFxuICAgICAgICAgICAgbGluayA9PiBwYXRoRnJvbVVybCh0aGlzLmxpbmtIcmVmKGxpbmspKVxuICAgICAgICApO1xuXG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgaWYgKG1hdGNoLm9iamVjdC5ydWxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zb2xlLmRlYnVnKGBpcyByZWxvYWRpbmcgaW1wb3J0ZWQgc3R5bGVzaGVldDogJHttYXRjaC5vYmplY3QuaHJlZn1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYXR0YWNoSW1wb3J0ZWRSdWxlKG1hdGNoLm9iamVjdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc29sZS5kZWJ1ZyhgaXMgcmVsb2FkaW5nIHN0eWxlc2hlZXQ6ICR7dGhpcy5saW5rSHJlZihtYXRjaC5vYmplY3QpfWApO1xuICAgICAgICAgICAgICAgIHRoaXMucmVhdHRhY2hTdHlsZXNoZWV0TGluayhtYXRjaC5vYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucmVsb2FkTWlzc2luZ0NTUykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc29sZS5kZWJ1Zyhgd2lsbCByZWxvYWQgYWxsIHN0eWxlc2hlZXRzIGJlY2F1c2UgcGF0aCAnJHtwYXRofScgZGlkIG5vdCBtYXRjaCBhbnkgc3BlY2lmaWMgb25lLiBcXFxuVG8gZGlzYWJsZSB0aGlzIGJlaGF2aW9yLCBzZXQgJ29wdGlvbnMucmVsb2FkTWlzc2luZ0NTUycgdG8gJ2ZhbHNlJy5gXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGluayBvZiBBcnJheS5mcm9tKGxpbmtzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYXR0YWNoU3R5bGVzaGVldExpbmsobGluayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnNvbGUuZGVidWcoYHdpbGwgbm90IHJlbG9hZCBwYXRoICcke3BhdGh9JyBiZWNhdXNlIHRoZSBzdHlsZXNoZWV0IHdhcyBub3QgZm91bmQgb24gdGhlIHBhZ2UgXFxcbmFuZCAnb3B0aW9ucy5yZWxvYWRNaXNzaW5nQ1NTJyB3YXMgc2V0IHRvICdmYWxzZScuYFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb2xsZWN0SW1wb3J0ZWRTdHlsZXNoZWV0cyhsaW5rLCBzdHlsZVNoZWV0LCByZXN1bHQpIHtcbiAgICAgICAgLy8gaW4gV2ViS2l0LCBzdHlsZVNoZWV0LmNzc1J1bGVzIGlzIG51bGwgZm9yIGluYWNjZXNzaWJsZSBzdHlsZXNoZWV0cztcbiAgICAgICAgLy8gRmlyZWZveC9PcGVyYSBtYXkgdGhyb3cgZXhjZXB0aW9uc1xuICAgICAgICBsZXQgcnVsZXM7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJ1bGVzID0gKHN0eWxlU2hlZXQgfHwge30pLmNzc1J1bGVzO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocnVsZXMgJiYgcnVsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcnVsZXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcnVsZSA9IHJ1bGVzW2luZGV4XTtcblxuICAgICAgICAgICAgICAgIHN3aXRjaCAocnVsZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgQ1NTUnVsZS5DSEFSU0VUX1JVTEU6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gZG8gbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICBjYXNlIENTU1J1bGUuSU1QT1JUX1JVTEU6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7bGluaywgcnVsZSwgaW5kZXgsIGhyZWY6IHJ1bGUuaHJlZn0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0SW1wb3J0ZWRTdHlsZXNoZWV0cyhsaW5rLCBydWxlLnN0eWxlU2hlZXQsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBpbXBvcnQgcnVsZXMgY2FuIG9ubHkgYmUgcHJlY2VkZWQgYnkgY2hhcnNldCBydWxlc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdhaXRVbnRpbENzc0xvYWRzKGNsb25lLCBmdW5jKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMgfHwgREVGQVVMVF9PUFRJT05TO1xuICAgICAgICBsZXQgY2FsbGJhY2tFeGVjdXRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IGV4ZWN1dGVDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFja0V4ZWN1dGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWxsYmFja0V4ZWN1dGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIGZ1bmMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzdXBwb3J0ZWQgYnkgQ2hyb21lIDE5KywgU2FmYXJpIDUuMissIEZpcmVmb3ggOSssIE9wZXJhIDkrLCBJRTYrXG4gICAgICAgIC8vIGh0dHA6Ly93d3cuemFjaGxlYXQuY29tL3dlYi9sb2FkLWNzcy1keW5hbWljYWxseS9cbiAgICAgICAgLy8gaHR0cDovL3BpZWlzZ29vZC5vcmcvdGVzdC9zY3JpcHQtbGluay1ldmVudHMvXG4gICAgICAgIGNsb25lLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29uc29sZS5kZWJ1ZygndGhlIG5ldyBzdHlsZXNoZWV0IGhhcyBmaW5pc2hlZCBsb2FkaW5nJyk7XG4gICAgICAgICAgICB0aGlzLmtub3duVG9TdXBwb3J0Q3NzT25Mb2FkID0gdHJ1ZTtcblxuICAgICAgICAgICAgcmV0dXJuIGV4ZWN1dGVDYWxsYmFjaygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghdGhpcy5rbm93blRvU3VwcG9ydENzc09uTG9hZCkge1xuICAgICAgICAgICAgLy8gcG9sbGluZ1xuICAgICAgICAgICAgbGV0IHBvbGw7XG4gICAgICAgICAgICAocG9sbCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY2xvbmUuc2hlZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25zb2xlLmRlYnVnKCdpcyBwb2xsaW5nIHVudGlsIHRoZSBuZXcgQ1NTIGZpbmlzaGVzIGxvYWRpbmcuLi4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhlY3V0ZUNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuVGltZXIuc3RhcnQoNTAsIHBvbGwpO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZhaWwgc2FmZVxuICAgICAgICByZXR1cm4gdGhpcy5UaW1lci5zdGFydChvcHRpb25zLnN0eWxlc2hlZXRSZWxvYWRUaW1lb3V0LCBleGVjdXRlQ2FsbGJhY2spO1xuICAgIH1cblxuICAgIGxpbmtIcmVmKGxpbmspIHtcbiAgICAgICAgLy8gcHJlZml4ZnJlZSB1c2VzIGRhdGEtaHJlZiB3aGVuIGl0IHR1cm5zIExJTksgaW50byBTVFlMRVxuICAgICAgICByZXR1cm4gbGluay5ocmVmIHx8IChsaW5rLmdldEF0dHJpYnV0ZSAmJiBsaW5rLmdldEF0dHJpYnV0ZSgnZGF0YS1ocmVmJykpO1xuICAgIH1cblxuICAgIHJlYXR0YWNoU3R5bGVzaGVldExpbmsobGluaykge1xuICAgICAgICAvLyBpZ25vcmUgTElOS3MgdGhhdCB3aWxsIGJlIHJlbW92ZWQgYnkgTFIgc29vblxuICAgICAgICBsZXQgY2xvbmU7XG5cbiAgICAgICAgaWYgKGxpbmsuX19MaXZlUmVsb2FkX3BlbmRpbmdSZW1vdmFsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsaW5rLl9fTGl2ZVJlbG9hZF9wZW5kaW5nUmVtb3ZhbCA9IHRydWU7XG5cbiAgICAgICAgaWYgKGxpbmsudGFnTmFtZSA9PT0gJ1NUWUxFJykge1xuICAgICAgICAgICAgLy8gcHJlZml4ZnJlZVxuICAgICAgICAgICAgY2xvbmUgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgICAgIGNsb25lLnJlbCA9ICdzdHlsZXNoZWV0JztcbiAgICAgICAgICAgIGNsb25lLm1lZGlhID0gbGluay5tZWRpYTtcbiAgICAgICAgICAgIGNsb25lLmRpc2FibGVkID0gbGluay5kaXNhYmxlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNsb25lID0gbGluay5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvbmUuaHJlZiA9IHRoaXMuZ2VuZXJhdGVDYWNoZUJ1c3RVcmwodGhpcy5saW5rSHJlZihsaW5rKSk7XG5cbiAgICAgICAgLy8gaW5zZXJ0IHRoZSBuZXcgTElOSyBiZWZvcmUgdGhlIG9sZCBvbmVcbiAgICAgICAgY29uc3QgcGFyZW50ID0gbGluay5wYXJlbnROb2RlO1xuXG4gICAgICAgIGlmIChwYXJlbnQubGFzdENoaWxkID09PSBsaW5rKSB7XG4gICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShjbG9uZSwgbGluay5uZXh0U2libGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy53YWl0VW50aWxDc3NMb2FkcyhjbG9uZSwgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGFkZGl0aW9uYWxXYWl0aW5nVGltZTtcblxuICAgICAgICAgICAgaWYgKC9BcHBsZVdlYktpdC8udGVzdCh0aGlzLndpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxXYWl0aW5nVGltZSA9IDU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxXYWl0aW5nVGltZSA9IDIwMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuVGltZXIuc3RhcnQoYWRkaXRpb25hbFdhaXRpbmdUaW1lLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFsaW5rLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxpbmsucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsaW5rKTtcbiAgICAgICAgICAgICAgICBjbG9uZS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLndpbmRvdy5TdHlsZUZpeCA/IHRoaXMud2luZG93LlN0eWxlRml4LmxpbmsoY2xvbmUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTsgLy8gcHJlZml4ZnJlZVxuICAgIH1cblxuICAgIHJlYXR0YWNoSW1wb3J0ZWRSdWxlKHtydWxlLCBpbmRleCwgbGlua30pIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcnVsZS5wYXJlbnRTdHlsZVNoZWV0O1xuICAgICAgICBjb25zdCBocmVmID0gdGhpcy5nZW5lcmF0ZUNhY2hlQnVzdFVybChydWxlLmhyZWYpO1xuICAgICAgICBjb25zdCBtZWRpYSA9IHJ1bGUubWVkaWEubGVuZ3RoID8gW10uam9pbi5jYWxsKHJ1bGUubWVkaWEsICcsICcpIDogJyc7XG4gICAgICAgIGNvbnN0IG5ld1J1bGUgPSBgQGltcG9ydCB1cmwoXCIke2hyZWZ9XCIpICR7bWVkaWF9O2A7XG5cbiAgICAgICAgLy8gdXNlZCB0byBkZXRlY3QgaWYgcmVhdHRhY2hJbXBvcnRlZFJ1bGUgaGFzIGJlZW4gY2FsbGVkIGFnYWluIG9uIHRoZSBzYW1lIHJ1bGVcbiAgICAgICAgcnVsZS5fX0xpdmVSZWxvYWRfbmV3SHJlZiA9IGhyZWY7XG5cbiAgICAgICAgLy8gV09SS0FST1VORCBGT1IgV0VCS0lUIEJVRzogV2ViS2l0IHJlc2V0cyBhbGwgc3R5bGVzIGlmIHdlIGFkZCBAaW1wb3J0J2VkXG4gICAgICAgIC8vIHN0eWxlc2hlZXQgdGhhdCBoYXNuJ3QgYmVlbiBjYWNoZWQgeWV0LiBXb3JrYXJvdW5kIGlzIHRvIHByZS1jYWNoZSB0aGVcbiAgICAgICAgLy8gc3R5bGVzaGVldCBieSB0ZW1wb3JhcmlseSBhZGRpbmcgaXQgYXMgYSBMSU5LIHRhZy5cbiAgICAgICAgY29uc3QgdGVtcExpbmsgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgICAgdGVtcExpbmsucmVsID0gJ3N0eWxlc2hlZXQnO1xuICAgICAgICB0ZW1wTGluay5ocmVmID0gaHJlZjtcbiAgICAgICAgdGVtcExpbmsuX19MaXZlUmVsb2FkX3BlbmRpbmdSZW1vdmFsID0gdHJ1ZTsgLy8gZXhjbHVkZSBmcm9tIHBhdGggbWF0Y2hpbmdcblxuICAgICAgICBpZiAobGluay5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBsaW5rLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRlbXBMaW5rLCBsaW5rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdhaXQgZm9yIGl0IHRvIGxvYWRcbiAgICAgICAgcmV0dXJuIHRoaXMuVGltZXIuc3RhcnQodGhpcy5pbXBvcnRDYWNoZVdhaXRQZXJpb2QsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0ZW1wTGluay5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgdGVtcExpbmsucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0ZW1wTGluayk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIGFub3RoZXIgcmVhdHRhY2hJbXBvcnRlZFJ1bGUgY2FsbCBpcyBpbiBwcm9ncmVzcywgYWJhbmRvbiB0aGlzIG9uZVxuICAgICAgICAgICAgaWYgKHJ1bGUuX19MaXZlUmVsb2FkX25ld0hyZWYgIT09IGhyZWYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRSdWxlKG5ld1J1bGUsIGluZGV4KTtcbiAgICAgICAgICAgIHBhcmVudC5kZWxldGVSdWxlKGluZGV4ICsgMSk7XG5cbiAgICAgICAgICAgIC8vIHNhdmUgdGhlIG5ldyBydWxlLCBzbyB0aGF0IHdlIGNhbiBkZXRlY3QgYW5vdGhlciByZWF0dGFjaEltcG9ydGVkUnVsZSBjYWxsXG4gICAgICAgICAgICBydWxlID0gcGFyZW50LmNzc1J1bGVzW2luZGV4XTtcbiAgICAgICAgICAgIHJ1bGUuX19MaXZlUmVsb2FkX25ld0hyZWYgPSBocmVmO1xuXG4gICAgICAgICAgICAvLyByZXBlYXQgYWdhaW4gZm9yIGdvb2QgbWVhc3VyZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuVGltZXIuc3RhcnQodGhpcy5pbXBvcnRDYWNoZVdhaXRQZXJpb2QsICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBpZiBhbm90aGVyIHJlYXR0YWNoSW1wb3J0ZWRSdWxlIGNhbGwgaXMgaW4gcHJvZ3Jlc3MsIGFiYW5kb24gdGhpcyBvbmVcbiAgICAgICAgICAgICAgICBpZiAocnVsZS5fX0xpdmVSZWxvYWRfbmV3SHJlZiAhPT0gaHJlZikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydFJ1bGUobmV3UnVsZSwgaW5kZXgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5kZWxldGVSdWxlKGluZGV4ICsgMSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVVbmlxdWVTdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgbGl2ZXJlbG9hZD0ke0RhdGUubm93KCl9YDtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUNhY2hlQnVzdFVybCh1cmwsIGV4cGFuZG8pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyB8fCBERUZBVUxUX09QVElPTlM7XG4gICAgICAgIGxldCBoYXNoLCBvbGRQYXJhbXM7XG5cbiAgICAgICAgaWYgKCFleHBhbmRvKSB7XG4gICAgICAgICAgICBleHBhbmRvID0gdGhpcy5nZW5lcmF0ZVVuaXF1ZVN0cmluZygpO1xuICAgICAgICB9XG5cbiAgICAgICAgKHt1cmwsIGhhc2gsIHBhcmFtczogb2xkUGFyYW1zfSA9IHNwbGl0VXJsKHVybCkpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLm92ZXJyaWRlVVJMKSB7XG4gICAgICAgICAgICBpZiAodXJsLmluZGV4T2Yob3B0aW9ucy5zZXJ2ZXJVUkwpIDwgMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVXJsID0gdXJsO1xuXG4gICAgICAgICAgICAgICAgdXJsID0gb3B0aW9ucy5zZXJ2ZXJVUkwgKyBvcHRpb25zLm92ZXJyaWRlVVJMICsgJz91cmw9JyArIGVuY29kZVVSSUNvbXBvbmVudCh1cmwpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb25zb2xlLmRlYnVnKGBpcyBvdmVycmlkaW5nIHNvdXJjZSBVUkwgJHtvcmlnaW5hbFVybH0gd2l0aCAke3VybH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwYXJhbXMgPSBvbGRQYXJhbXMucmVwbGFjZSgvKFxcP3wmKWxpdmVyZWxvYWQ9KFxcZCspLywgKG1hdGNoLCBzZXApID0+IGAke3NlcH0ke2V4cGFuZG99YCk7XG5cbiAgICAgICAgaWYgKHBhcmFtcyA9PT0gb2xkUGFyYW1zKSB7XG4gICAgICAgICAgICBpZiAob2xkUGFyYW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHBhcmFtcyA9IGA/JHtleHBhbmRvfWA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmFtcyA9IGAke29sZFBhcmFtc30mJHtleHBhbmRvfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXJsICsgcGFyYW1zICsgaGFzaDtcbiAgICB9XG59XG5cbi8qKlxuICogU3BsaXQgVVJMXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHVybFxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5mdW5jdGlvbiBzcGxpdFVybCh1cmwpIHtcbiAgICBsZXQgaGFzaCA9ICcnO1xuICAgIGxldCBwYXJhbXMgPSAnJztcbiAgICBsZXQgaW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xuXG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgaGFzaCA9IHVybC5zbGljZShpbmRleCk7XG4gICAgICAgIHVybCA9IHVybC5zbGljZSgwLCBpbmRleCk7XG4gICAgfVxuXG4gICAgLy8gaHR0cDovL3lvdXIuZG9tYWluLmNvbS9wYXRoL3RvL2NvbWJvLz8/ZmlsZTEuY3NzLGZpbGUyLGNzc1xuICAgIGNvbnN0IGNvbWJvU2lnbiA9IHVybC5pbmRleE9mKCc/PycpO1xuXG4gICAgaWYgKGNvbWJvU2lnbiA+PSAwKSB7XG4gICAgICAgIGlmICgoY29tYm9TaWduICsgMSkgIT09IHVybC5sYXN0SW5kZXhPZignPycpKSB7XG4gICAgICAgICAgICBpbmRleCA9IHVybC5sYXN0SW5kZXhPZignPycpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaW5kZXggPSB1cmwuaW5kZXhPZignPycpO1xuICAgIH1cblxuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIHBhcmFtcyA9IHVybC5zbGljZShpbmRleCk7XG4gICAgICAgIHVybCA9IHVybC5zbGljZSgwLCBpbmRleCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHt1cmwsIHBhcmFtcywgaGFzaH07XG59O1xuXG4vKipcbiAqIEdldCBwYXRoIGZyb20gVVJMIChyZW1vdmUgcHJvdG9jb2wsIGhvc3QsIHBvcnQpXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHVybFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBwYXRoRnJvbVVybCh1cmwpIHtcbiAgICBpZiAoIXVybCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgbGV0IHBhdGg7XG5cbiAgICAoe3VybH0gPSBzcGxpdFVybCh1cmwpKTtcblxuICAgIGlmICh1cmwuaW5kZXhPZignZmlsZTovLycpID09PSAwKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVnZXgtbGl0ZXJhbHNcbiAgICAgICAgcGF0aCA9IHVybC5yZXBsYWNlKG5ldyBSZWdFeHAoJ15maWxlOi8vKGxvY2FsaG9zdCk/JyksICcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgIGh0dHAgIDogICAvLyBob3N0bmFtZSAgOjgwODAgIC9cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZWdleC1saXRlcmFsc1xuICAgICAgICBwYXRoID0gdXJsLnJlcGxhY2UobmV3IFJlZ0V4cCgnXihbXjpdKzopPy8vKFteOi9dKykoOlxcXFxkKik/LycpLCAnLycpO1xuICAgIH1cblxuICAgIC8vIGRlY29kZVVSSSBoYXMgc3BlY2lhbCBoYW5kbGluZyBvZiBzdHVmZiBsaWtlIHNlbWljb2xvbnMsIHNvIHVzZSBkZWNvZGVVUklDb21wb25lbnRcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHBhdGgpO1xufVxuXG4vKipcbiAqIEdldCBudW1iZXIgb2YgbWF0Y2hpbmcgcGF0aCBzZWdtZW50c1xuICogQHBhcmFtICB7c3RyaW5nfSBsZWZ0XG4gKiBAcGFyYW0gIHtzdHJpbmd9IHJpZ2h0XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG51bWJlck9mTWF0Y2hpbmdTZWdtZW50cyhsZWZ0LCByaWdodCkge1xuICAgIC8vIGdldCByaWQgb2YgbGVhZGluZyBzbGFzaGVzIGFuZCBub3JtYWxpemUgdG8gbG93ZXIgY2FzZVxuICAgIGxlZnQgPSBsZWZ0LnJlcGxhY2UoL15cXC8rLywgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgcmlnaHQgPSByaWdodC5yZXBsYWNlKC9eXFwvKy8sICcnKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgaWYgKGxlZnQgPT09IHJpZ2h0KSB7XG4gICAgICAgIHJldHVybiAxMDAwMDtcbiAgICB9XG5cbiAgICBjb25zdCBjb21wczEgPSBsZWZ0LnNwbGl0KC9cXC98XFxcXC8pLnJldmVyc2UoKTtcbiAgICBjb25zdCBjb21wczIgPSByaWdodC5zcGxpdCgvXFwvfFxcXFwvKS5yZXZlcnNlKCk7XG4gICAgY29uc3QgbGVuID0gTWF0aC5taW4oY29tcHMxLmxlbmd0aCwgY29tcHMyLmxlbmd0aCk7XG5cbiAgICBsZXQgZXFDb3VudCA9IDA7XG5cbiAgICB3aGlsZSAoKGVxQ291bnQgPCBsZW4pICYmIChjb21wczFbZXFDb3VudF0gPT09IGNvbXBzMltlcUNvdW50XSkpIHtcbiAgICAgICAgKytlcUNvdW50O1xuICAgIH1cblxuICAgIHJldHVybiBlcUNvdW50O1xufVxuXG4vKipcbiAqIFBpY2sgYmVzdCBtYXRjaGluZyBwYXRoIGZyb20gYSBjb2xsZWN0aW9uXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBhdGggICAgICAgICBQYXRoIHRvIG1hdGNoXG4gKiBAcGFyYW0gIHthcnJheX0gb2JqZWN0cyAgICAgICBDb2xsZWN0aW9uIG9mIHBhdGhzXG4gKiBAcGFyYW0gIHtmdW5jdGlvbn0gW3BhdGhGdW5jXSBUcmFuc2Zvcm0gYXBwbGllZCB0byBlYWNoIGl0ZW0gaW4gY29sbGVjdGlvblxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5mdW5jdGlvbiBwaWNrQmVzdE1hdGNoKHBhdGgsIG9iamVjdHMsIHBhdGhGdW5jID0gcyA9PiBzKSB7XG4gICAgbGV0IHNjb3JlO1xuICAgIGxldCBiZXN0TWF0Y2ggPSB7c2NvcmU6IDB9O1xuXG4gICAgZm9yIChjb25zdCBvYmplY3Qgb2Ygb2JqZWN0cykge1xuICAgICAgICBzY29yZSA9IG51bWJlck9mTWF0Y2hpbmdTZWdtZW50cyhwYXRoLCBwYXRoRnVuYyhvYmplY3QpKTtcblxuICAgICAgICBpZiAoc2NvcmUgPiBiZXN0TWF0Y2guc2NvcmUpIHtcbiAgICAgICAgICAgIGJlc3RNYXRjaCA9IHtvYmplY3QsIHNjb3JlfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChiZXN0TWF0Y2guc2NvcmUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJlc3RNYXRjaDtcbn1cblxuLyoqXG4gKiBUZXN0IGlmIHBhdGhzIG1hdGNoXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGxlZnRcbiAqIEBwYXJhbSAge3N0cmluZ30gcmlnaHRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHBhdGhzTWF0Y2gobGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbnVtYmVyT2ZNYXRjaGluZ1NlZ21lbnRzKGxlZnQsIHJpZ2h0KSA+IDA7XG59XG4iLCAiaW1wb3J0IHsgZmlsdGVyLCBpZ25vcmVFbGVtZW50cywgbWFwLCBPYnNlcnZhYmxlLCB0YXAgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgY2hhbmdlRFRPU2NoZW1hIH0gZnJvbSBcIkBicm93c2Vyc3luYy9nZW5lcmF0ZWQvc2NoZW1hXCI7XG5pbXBvcnQgeyBDbGllbnRDb25maWdEVE8sIENsaWVudEV2ZW50IH0gZnJvbSBcIkBicm93c2Vyc3luYy9nZW5lcmF0ZWQvZHRvXCI7XG5pbXBvcnQgeyBTaW5rIH0gZnJvbSBcIi4vc2lua1wiO1xuaW1wb3J0IHsgUmVsb2FkZXIgfSBmcm9tIFwiLi4vLi4vdmVuZG9yL2xpdmUtcmVsb2FkL3NyYy9yZWxvYWRlclwiO1xuaW1wb3J0IHsgVGltZXIgfSBmcm9tIFwiLi4vLi4vdmVuZG9yL2xpdmUtcmVsb2FkL3NyYy90aW1lclwiO1xuaW1wb3J0IHsgQ29uc29sZUFwaSB9IGZyb20gXCIuL2NvbnNvbGVcIjtcbmltcG9ydCB7IGNoYW5nZWRQYXRoIH0gZnJvbSBcIi4vZG9tL2NoYW5nZWQtcGF0aFwiO1xuXG5leHBvcnQgY29uc3QgZG9tUGx1Z2luOiBTaW5rPENsaWVudEV2ZW50LCBbQ29uc29sZUFwaSwgUmVsb2FkZXJdPiA9IHtcbiAgICBuYW1lOiBcImRvbSBwbHVnaW5cIixcbiAgICBnbG9iYWxTZXR1cDogKGNsaWVudEV2ZW50cyQsIGxvZykgPT4ge1xuICAgICAgICBjb25zdCByZWxvYWRlciA9IG5ldyBSZWxvYWRlcih3aW5kb3csIGxvZywgVGltZXIpO1xuICAgICAgICByZXR1cm4gW2NsaWVudEV2ZW50cyQsIFtsb2csIHJlbG9hZGVyXV07XG4gICAgfSxcbiAgICByZXNldFNpbmsoXG4gICAgICAgIGNsaWVudEV2ZW50JDogT2JzZXJ2YWJsZTxDbGllbnRFdmVudD4sXG4gICAgICAgIGFwaTogW0NvbnNvbGVBcGksIFJlbG9hZGVyXSxcbiAgICAgICAgY29uZmlnOiBDbGllbnRDb25maWdEVE8sXG4gICAgKTogT2JzZXJ2YWJsZTx1bmtub3duPiB7XG4gICAgICAgIGNvbnN0IFtsb2csIHJlbG9hZGVyXSA9IGFwaTtcbiAgICAgICAgcmV0dXJuIGNsaWVudEV2ZW50JC5waXBlKFxuICAgICAgICAgICAgZmlsdGVyKCh4KSA9PiB4LmtpbmQgPT09IFwiQ2hhbmdlXCIpLFxuICAgICAgICAgICAgbWFwKCh4KSA9PiB4LnBheWxvYWQpLFxuICAgICAgICAgICAgdGFwKChjaGFuZ2UpID0+IHtcbiAgICAgICAgICAgICAgICBsb2cudHJhY2UoXG4gICAgICAgICAgICAgICAgICAgIFwiaW5jb21pbmcgbWVzc2FnZVwiLFxuICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7IGNoYW5nZSwgY29uZmlnIH0sIG51bGwsIDIpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gY2hhbmdlRFRPU2NoZW1hLnBhcnNlKGNoYW5nZSk7XG4gICAgICAgICAgICAgICAgY2hhbmdlZFBhdGgocGFyc2VkLCBsb2csIHJlbG9hZGVyKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgaWdub3JlRWxlbWVudHMoKSxcbiAgICAgICAgKTtcbiAgICB9LFxufTtcbiIsICIvLyB0b2RvOiB0aGUgY2hlY2tzIGFyZSBsaWZ0ZWQgZGlyZWN0bHkgZnJvbSBsaXZlIHJlbG9hZCwgd2Ugc2hvdWxkIG5vdCB1c2UgdGhlbSwgYnV0IGFyZSBhIGdvb2Qgc3RhcnRpbmcgcG9pbnRcbmltcG9ydCB7IENoYW5nZURUTyB9IGZyb20gXCJAYnJvd3NlcnN5bmMvZ2VuZXJhdGVkL2R0b1wiO1xuaW1wb3J0IHsgQ29uc29sZUFwaSB9IGZyb20gXCIuLi9jb25zb2xlXCI7XG5pbXBvcnQgeyBSZWxvYWRlciB9IGZyb20gXCIuLi8uLi8uLi92ZW5kb3IvbGl2ZS1yZWxvYWQvc3JjL3JlbG9hZGVyXCI7XG5cbmV4cG9ydCBjb25zdCBJTUFHRVNfUkVHRVggPSAvXFwuKGpwZT9nfHBuZ3xnaWZ8c3ZnKSQvaTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZWRQYXRoKGNoYW5nZTogQ2hhbmdlRFRPLCBsb2c6IENvbnNvbGVBcGksIGFwaTogUmVsb2FkZXIpIHtcbiAgICBzd2l0Y2ggKGNoYW5nZS5raW5kKSB7XG4gICAgICAgIGNhc2UgXCJGc01hbnlcIjoge1xuICAgICAgICAgICAgY29uc3QgaGFzTm9uZUluamVjdGFibGUgPSBjaGFuZ2UucGF5bG9hZC5zb21lKChjaGFuZ2VEVE8pID0+IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGNoYW5nZURUTy5raW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJGc1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZURUTy5wYXlsb2FkLnBhdGgubWF0Y2goL1xcLmNzcyg/OlxcLm1hcCk/JC9pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VEVE8ucGF5bG9hZC5wYXRoLm1hdGNoKElNQUdFU19SRUdFWCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlIGdldCBoZXJlLCB3ZSdyZSBub3QgZ29pbmcgdG8gbGl2ZSBpbmplY3QgYW55dGhpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRnNNYW55XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnJlYWNoYWJsZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gaWYgYW55IHBhdGggd2lsbCBjYXVzZSBhIHJlbG9hZCBhbnl3YXksIGRvbid0IGJvdGggaG90LXJlbG9hZGluZyBhbnl0aGluZy5cbiAgICAgICAgICAgIGlmIChoYXNOb25lSW5qZWN0YWJsZSkge1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuX19wbGF5d3JpZ2h0Py5yZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5fX3BsYXl3cmlnaHQ/LnJlY29yZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBcInJlbG9hZFBhZ2VcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5yZWxvYWRQYWdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB3ZSBnZXQgaGVyZSwgZXZlcnkgcGF0aCBnaXZlbiB3YXMgaW5qZWN0YWJsZSwgc28gdHJ5IHRvIGluamVjdCB0aGVtIGFsbFxuICAgICAgICAgICAgZm9yIChsZXQgY2hhbmdlRFRPIG9mIGNoYW5nZS5wYXlsb2FkKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlZFBhdGgoY2hhbmdlRFRPLCBsb2csIGFwaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiRnNcIjoge1xuICAgICAgICAgICAgbGV0IHBhdGggPSBjaGFuZ2UucGF5bG9hZC5wYXRoO1xuICAgICAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgICAgICBsaXZlQ1NTOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxpdmVJbWc6IHRydWUsXG4gICAgICAgICAgICAgICAgcmVsb2FkTWlzc2luZ0NTUzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFBhdGg6IFwiXCIsXG4gICAgICAgICAgICAgICAgb3ZlcnJpZGVVUkw6IFwiXCIsXG4gICAgICAgICAgICAgICAgc2VydmVyVVJMOiBgYCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAod2luZG93Ll9fcGxheXdyaWdodD8ucmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgd2luZG93Ll9fcGxheXdyaWdodD8ucmVjb3JkKHtcbiAgICAgICAgICAgICAgICAgICAga2luZDogXCJyZWxvYWRcIixcbiAgICAgICAgICAgICAgICAgICAgYXJnczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZy50cmFjZShcIndpbGwgcmVsb2FkIGEgZmlsZSB3aXRoIHBhdGggXCIsIHBhdGgpO1xuICAgICAgICAgICAgICAgIGFwaS5yZWxvYWQocGF0aCwgb3B0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgZmlsdGVyLCBtYXAsIG1lcmdlLCBPYnNlcnZhYmxlLCBzaGFyZSwgc3dpdGNoTWFwIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IFByb2R1Y2VyIH0gZnJvbSBcIi4vcHJvZHVjZXJzL3Byb2R1Y2VyXCI7XG5pbXBvcnQgeyB3cyB9IGZyb20gXCIuL3Byb2R1Y2Vycy93c1wiO1xuaW1wb3J0IHsgY29uc29sZVBsdWdpbiwgTlVMTF9DT05TT0xFIH0gZnJvbSBcIi4vc2lua3MvY29uc29sZVwiO1xuaW1wb3J0IHsgZG9tUGx1Z2luIH0gZnJvbSBcIi4vc2lua3MvZG9tXCI7XG5cbi8vIGNvbnN0IFtsb2dFdmVudCQsIGxvZ10gPSBjcmVhdGVMb2dTdHJlYW0oKTtcbmNvbnN0IHByb2R1Y2VyOiBQcm9kdWNlciA9IHdzKCk7XG5jb25zdCBjbGllbnRFdmVudCQgPSBwcm9kdWNlci5jcmVhdGUoKTtcblxuY29uc3QgW2xvZ0V2ZW50JCwgbG9nXSA9IGNvbnNvbGVQbHVnaW4uZ2xvYmFsU2V0dXAoY2xpZW50RXZlbnQkLCBOVUxMX0NPTlNPTEUpO1xuY29uc3QgW2RvbUV2ZW50cyQsIGRvbUFwaXNdID0gZG9tUGx1Z2luLmdsb2JhbFNldHVwKGNsaWVudEV2ZW50JCwgbG9nKTtcblxuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBjb25uZWN0aW9uJCA9IGNsaWVudEV2ZW50JC5waXBlKFxuICBmaWx0ZXIoKHgpID0+IHgua2luZCA9PT0gXCJXc0Nvbm5lY3Rpb25cIiksXG4gIG1hcCgoeCkgPT4geC5wYXlsb2FkKSxcbiAgc2hhcmUoKSxcbik7XG5cbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgY29uZmlnJCA9IGNsaWVudEV2ZW50JC5waXBlKFxuICBmaWx0ZXIoKHgpID0+IHgua2luZCA9PT0gXCJDb25maWdcIiksXG4gIG1hcCgoeCkgPT4geC5wYXlsb2FkKVxuKTtcblxuLy8gcHJldHRpZXItaWdub3JlXG5jb25zdCBjaGFuZ2UkID0gY2xpZW50RXZlbnQkLnBpcGUoXG4gIGZpbHRlcigoeCkgPT4geC5raW5kID09PSBcIkNoYW5nZVwiKSxcbiAgbWFwKHggPT4geC5wYXlsb2FkKVxuKTtcblxuLyoqXG4gKiBTaWRlIGVmZmVjdHMgLSB0aGlzIGlzIHdoZXJlIHdlIHJlYWN0IHRvIGluY29taW5nIFdTIGV2ZW50c1xuICovXG5tZXJnZShjb25maWckLCBjb25uZWN0aW9uJClcbiAgICAucGlwZShcbiAgICAgICAgc3dpdGNoTWFwKChjb25maWcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNpbmtzOiBPYnNlcnZhYmxlPHVua25vd24+W10gPSBbXG4gICAgICAgICAgICAgICAgZG9tUGx1Z2luLnJlc2V0U2luayhkb21FdmVudHMkLCBkb21BcGlzLCBjb25maWcpLFxuICAgICAgICAgICAgICAgIGNvbnNvbGVQbHVnaW4ucmVzZXRTaW5rKGxvZ0V2ZW50JCwgbG9nLCBjb25maWcpLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZSguLi5zaW5rcyk7XG4gICAgICAgIH0pLFxuICAgIClcbiAgICAuc3Vic2NyaWJlKCk7XG5cbmNvbm5lY3Rpb24kLnN1YnNjcmliZSgoY29uZmlnKSA9PiB7XG4gICAgbG9nLmluZm8oXCJcdUQ4M0RcdURGRTIgQnJvd3NlcnN5bmMgTGl2ZSBjb25uZWN0ZWRcIiwgeyBjb25maWcgfSk7XG59KTtcblxuLy8gdG9kbzogc2hhcmUgdGhpcyB3aXRoIHRlc3RzXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgICAgIF9fcGxheXdyaWdodD86IHtcbiAgICAgICAgICAgIGNhbGxzPzogYW55W107XG4gICAgICAgICAgICByZWNvcmQ/OiAoLi4uYXJnczogYW55W10pID0+IHZvaWQ7XG4gICAgICAgIH07XG4gICAgfVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjBoQkFBQSxJQUFB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Q2pDQyxFQUFJRCxHQUFLQSxFQUFFLE9BQU8sQ0FDcEIsRUFLQUssR0FBTUYsR0FBU0wsRUFBVyxFQUNyQixLQUNHUSxHQUFXQyxHQUFXLENBQ2xCLElBQU1DLEVBQStCLENBQ2pDWCxHQUFVLFVBQVVGLEdBQVlDLEdBQVNXLENBQU0sRUFDL0NkLEdBQWMsVUFBVUYsR0FBV0MsR0FBS2UsQ0FBTSxDQUNsRCxFQUNBLE9BQU9GLEdBQU0sR0FBR0csQ0FBSyxDQUN6QixDQUFDLENBQ0wsRUFDQyxVQUFVLEVBRWZWLEdBQVksVUFBV1MsR0FBVyxDQUM5QmYsR0FBSSxLQUFLLHVDQUFpQyxDQUFFLE9BQUFlLENBQU8sQ0FBQyxDQUN4RCxDQUFDIiwKICAibmFtZXMiOiBbInJlcXVpcmVfdGltZXIiLCAiX19jb21tb25KU01pbiIsICJleHBvcnRzIiwgIlRpbWVyIiwgImZ1bmMiLCAidGltZW91dCIsICJleHRlbmRTdGF0aWNzIiwgImQiLCAiYiIsICJwIiwgIl9fZXh0ZW5kcyIsICJfXyIsICJfX2Fzc2lnbiIsICJ0IiwgInMiLCAiaSIsICJuIiwgIl9fYXdhaXRlciIsICJ0aGlzQXJnIiwgIl9hcmd1bWVudHMiLCAiUCIsICJnZW5lcmF0b3IiLCAiYWRvcHQiLCAidmFsdWUiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAiZnVsZmlsbGVkIiwgInN0ZXAiLCAiZSIsICJyZWplY3RlZCIsICJyZXN1bHQiLCAiX19nZW5lcmF0b3IiLCAiYm9keSIsICJfIiwgInQiLCAiZiIsICJ5IiwgImciLCAidmVyYiIsICJuIiwgInYiLCAib3AiLCAiX192YWx1ZXMiLCAibyIsICJzIiwgIm0iLCAiaSIsICJfX3JlYWQiLCAibiIsICJyIiwgImFyIiwgImUiLCAiZXJyb3IiLCAiX19zcHJlYWRBcnJheSIsICJ0byIsICJmcm9tIiwgInBhY2siLCAiaSIsICJsIiwgImFyIiwgIl9fYXdhaXQiLCAidiIsICJfX2FzeW5jR2VuZXJhdG9yIiwgInRoaXNBcmciLCAiX2FyZ3VtZW50cyIsICJnZW5lcmF0b3IiLCAiZyIsICJxIiwgInZlcmIiLCAiYXdhaXRSZXR1cm4iLCAiZiIsICJyZWplY3QiLCAibiIsICJhIiwgImIiLCAicmVzdW1lIiwgInN0ZXAiLCAiZSIsICJzZXR0bGUiLCAiciIsICJmdWxmaWxsIiwgInZhbHVlIiwgIl9fYXN5bmNWYWx1ZXMiLCAibyIsICJtIiwgImkiLCAiX192YWx1ZXMiLCAidmVyYiIsICJuIiwgInYiLCAicmVzb2x2ZSIsICJyZWplY3QiLCAic2V0dGxlIiwgImQiLCAiaXNGdW5jdGlvbiIsICJ2YWx1ZSIsICJjcmVhdGVFcnJvckNsYXNzIiwgImNyZWF0ZUltcGwiLCAiX3N1cGVyIiwgImluc3RhbmNlIiwgImN0b3JGdW5jIiwgIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCAiY3JlYXRlRXJyb3JDbGFzcyIsICJfc3VwZXIiLCAiZXJyb3JzIiwgImVyciIsICJpIiwgImFyclJlbW92ZSIsICJhcnIiLCAiaXRlbSIsICJpbmRleCIsICJTdWJzY3JpcHRpb24iLCAiaW5pdGlhbFRlYXJkb3duIiwgImVycm9ycyIsICJfcGFyZW50YWdlIiwgIl9wYXJlbnRhZ2VfMSIsICJfX3ZhbHVlcyIsICJfcGFyZW50YWdlXzFfMSIsICJwYXJlbnRfMSIsICJpbml0aWFsRmluYWxpemVyIiwgImlzRnVuY3Rpb24iLCAiZSIsICJVbnN1YnNjcmlwdGlvbkVycm9yIiwgIl9maW5hbGl6ZXJzIiwgIl9maW5hbGl6ZXJzXzEiLCAiX2ZpbmFsaXplcnNfMV8xIiwgImZpbmFsaXplciIsICJleGVjRmluYWxpemVyIiwgImVyciIsICJfX3NwcmVhZEFycmF5IiwgIl9fcmVhZCIsICJ0ZWFyZG93biIsICJfYSIsICJwYXJlbnQiLCAiYXJyUmVtb3ZlIiwgImVtcHR5IiwgIkVNUFRZX1NVQlNDUklQVElPTiIsICJTdWJzY3JpcHRpb24iLCAiaXNTdWJzY3JpcHRpb24iLCAidmFsdWUiLCAiaXNGdW5jdGlvbiIsICJleGVjRmluYWxpemVyIiwgImZpbmFsaXplciIsICJjb25maWciLCAidGltZW91dFByb3ZpZGVyIiwgImhhbmRsZXIiLCAidGltZW91dCIsICJhcmdzIiwgIl9pIiwgImRlbGVnYXRlIiwgIl9fc3ByZWFkQXJyYXkiLCAiX19yZWFkIiwgImhhbmRsZSIsICJyZXBvcnRVbmhhbmRsZWRFcnJvciIsICJlcnIiLCAidGltZW91dFByb3ZpZGVyIiwgIm9uVW5oYW5kbGVkRXJyb3IiLCAiY29uZmlnIiwgIm5vb3AiLCAiQ09NUExFVEVfTk9USUZJQ0FUSU9OIiwgImNyZWF0ZU5vdGlmaWNhdGlvbiIsICJlcnJvck5vdGlmaWNhdGlvbiIsICJlcnJvciIsICJuZXh0Tm90aWZpY2F0aW9uIiwgInZhbHVlIiwgImtpbmQiLCAiY29udGV4dCIsICJlcnJvckNvbnRleHQiLCAiY2IiLCAiY29uZmlnIiwgImlzUm9vdCIsICJfYSIsICJlcnJvclRocm93biIsICJlcnJvciIsICJjYXB0dXJlRXJyb3IiLCAiZXJyIiwgIlN1YnNjcmliZXIiLCAiX3N1cGVyIiwgIl9fZXh0ZW5kcyIsICJkZXN0aW5hdGlvbiIsICJfdGhpcyIsICJpc1N1YnNjcmlwdGlvbiIsICJFTVBUWV9PQlNFUlZFUiIsICJuZXh0IiwgImVycm9yIiwgImNvbXBsZXRlIiwgIlNhZmVTdWJzY3JpYmVyIiwgInZhbHVlIiwgImhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24iLCAibmV4dE5vdGlmaWNhdGlvbiIsICJlcnIiLCAiZXJyb3JOb3RpZmljYXRpb24iLCAiQ09NUExFVEVfTk9USUZJQ0FUSU9OIiwgIlN1YnNjcmlwdGlvbiIsICJfYmluZCIsICJiaW5kIiwgImZuIiwgInRoaXNBcmciLCAiQ29uc3VtZXJPYnNlcnZlciIsICJwYXJ0aWFsT2JzZXJ2ZXIiLCAidmFsdWUiLCAiZXJyb3IiLCAiaGFuZGxlVW5oYW5kbGVkRXJyb3IiLCAiZXJyIiwgIlNhZmVTdWJzY3JpYmVyIiwgIl9zdXBlciIsICJfX2V4dGVuZHMiLCAib2JzZXJ2ZXJPck5leHQiLCAiY29tcGxldGUiLCAiX3RoaXMiLCAiaXNGdW5jdGlvbiIsICJjb250ZXh0XzEiLCAiY29uZmlnIiwgIlN1YnNjcmliZXIiLCAiaGFuZGxlVW5oYW5kbGVkRXJyb3IiLCAiZXJyb3IiLCAiY29uZmlnIiwgImNhcHR1cmVFcnJvciIsICJyZXBvcnRVbmhhbmRsZWRFcnJvciIsICJkZWZhdWx0RXJyb3JIYW5kbGVyIiwgImVyciIsICJoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uIiwgIm5vdGlmaWNhdGlvbiIsICJzdWJzY3JpYmVyIiwgIm9uU3RvcHBlZE5vdGlmaWNhdGlvbiIsICJ0aW1lb3V0UHJvdmlkZXIiLCAiRU1QVFlfT0JTRVJWRVIiLCAibm9vcCIsICJvYnNlcnZhYmxlIiwgImlkZW50aXR5IiwgIngiLCAicGlwZUZyb21BcnJheSIsICJmbnMiLCAiaWRlbnRpdHkiLCAiaW5wdXQiLCAicHJldiIsICJmbiIsICJPYnNlcnZhYmxlIiwgInN1YnNjcmliZSIsICJvcGVyYXRvciIsICJvYnNlcnZhYmxlIiwgIm9ic2VydmVyT3JOZXh0IiwgImVycm9yIiwgImNvbXBsZXRlIiwgIl90aGlzIiwgInN1YnNjcmliZXIiLCAiaXNTdWJzY3JpYmVyIiwgIlNhZmVTdWJzY3JpYmVyIiwgImVycm9yQ29udGV4dCIsICJfYSIsICJzb3VyY2UiLCAic2luayIsICJlcnIiLCAibmV4dCIsICJwcm9taXNlQ3RvciIsICJnZXRQcm9taXNlQ3RvciIsICJyZXNvbHZlIiwgInJlamVjdCIsICJ2YWx1ZSIsICJvcGVyYXRpb25zIiwgIl9pIiwgInBpcGVGcm9tQXJyYXkiLCAieCIsICJnZXRQcm9taXNlQ3RvciIsICJwcm9taXNlQ3RvciIsICJfYSIsICJjb25maWciLCAiaXNPYnNlcnZlciIsICJ2YWx1ZSIsICJpc0Z1bmN0aW9uIiwgImlzU3Vic2NyaWJlciIsICJTdWJzY3JpYmVyIiwgImlzU3Vic2NyaXB0aW9uIiwgImhhc0xpZnQiLCAic291cmNlIiwgImlzRnVuY3Rpb24iLCAib3BlcmF0ZSIsICJpbml0IiwgImxpZnRlZFNvdXJjZSIsICJlcnIiLCAiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwgImRlc3RpbmF0aW9uIiwgIm9uTmV4dCIsICJvbkNvbXBsZXRlIiwgIm9uRXJyb3IiLCAib25GaW5hbGl6ZSIsICJPcGVyYXRvclN1YnNjcmliZXIiLCAiX3N1cGVyIiwgIl9fZXh0ZW5kcyIsICJzaG91bGRVbnN1YnNjcmliZSIsICJfdGhpcyIsICJ2YWx1ZSIsICJlcnIiLCAiY2xvc2VkXzEiLCAiX2EiLCAiU3Vic2NyaWJlciIsICJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsICJjcmVhdGVFcnJvckNsYXNzIiwgIl9zdXBlciIsICJTdWJqZWN0IiwgIl9zdXBlciIsICJfX2V4dGVuZHMiLCAiX3RoaXMiLCAib3BlcmF0b3IiLCAic3ViamVjdCIsICJBbm9ueW1vdXNTdWJqZWN0IiwgIk9iamVjdFVuc3Vic2NyaWJlZEVycm9yIiwgInZhbHVlIiwgImVycm9yQ29udGV4dCIsICJfYiIsICJfX3ZhbHVlcyIsICJfYyIsICJvYnNlcnZlciIsICJlcnIiLCAib2JzZXJ2ZXJzIiwgIl9hIiwgInN1YnNjcmliZXIiLCAiaGFzRXJyb3IiLCAiaXNTdG9wcGVkIiwgIkVNUFRZX1NVQlNDUklQVElPTiIsICJTdWJzY3JpcHRpb24iLCAiYXJyUmVtb3ZlIiwgInRocm93bkVycm9yIiwgIm9ic2VydmFibGUiLCAiT2JzZXJ2YWJsZSIsICJkZXN0aW5hdGlvbiIsICJzb3VyY2UiLCAiQW5vbnltb3VzU3ViamVjdCIsICJfc3VwZXIiLCAiX19leHRlbmRzIiwgImRlc3RpbmF0aW9uIiwgInNvdXJjZSIsICJfdGhpcyIsICJ2YWx1ZSIsICJfYiIsICJfYSIsICJlcnIiLCAic3Vic2NyaWJlciIsICJFTVBUWV9TVUJTQ1JJUFRJT04iLCAiU3ViamVjdCIsICJkYXRlVGltZXN0YW1wUHJvdmlkZXIiLCAiUmVwbGF5U3ViamVjdCIsICJfc3VwZXIiLCAiX19leHRlbmRzIiwgIl9idWZmZXJTaXplIiwgIl93aW5kb3dUaW1lIiwgIl90aW1lc3RhbXBQcm92aWRlciIsICJkYXRlVGltZXN0YW1wUHJvdmlkZXIiLCAiX3RoaXMiLCAidmFsdWUiLCAiX2EiLCAiaXNTdG9wcGVkIiwgIl9idWZmZXIiLCAiX2luZmluaXRlVGltZVdpbmRvdyIsICJzdWJzY3JpYmVyIiwgInN1YnNjcmlwdGlvbiIsICJjb3B5IiwgImkiLCAiYWRqdXN0ZWRCdWZmZXJTaXplIiwgIm5vdyIsICJsYXN0IiwgIlN1YmplY3QiLCAiQWN0aW9uIiwgIl9zdXBlciIsICJfX2V4dGVuZHMiLCAic2NoZWR1bGVyIiwgIndvcmsiLCAic3RhdGUiLCAiZGVsYXkiLCAiU3Vic2NyaXB0aW9uIiwgImludGVydmFsUHJvdmlkZXIiLCAiaGFuZGxlciIsICJ0aW1lb3V0IiwgImFyZ3MiLCAiX2kiLCAiZGVsZWdhdGUiLCAiX19zcHJlYWRBcnJheSIsICJfX3JlYWQiLCAiaGFuZGxlIiwgIkFzeW5jQWN0aW9uIiwgIl9zdXBlciIsICJfX2V4dGVuZHMiLCAic2NoZWR1bGVyIiwgIndvcmsiLCAiX3RoaXMiLCAic3RhdGUiLCAiZGVsYXkiLCAiaWQiLCAiX2EiLCAiX2lkIiwgImludGVydmFsUHJvdmlkZXIiLCAiX3NjaGVkdWxlciIsICJlcnJvciIsICJfZGVsYXkiLCAiZXJyb3JlZCIsICJlcnJvclZhbHVlIiwgImUiLCAiYWN0aW9ucyIsICJhcnJSZW1vdmUiLCAiQWN0aW9uIiwgIlNjaGVkdWxlciIsICJzY2hlZHVsZXJBY3Rpb25DdG9yIiwgIm5vdyIsICJ3b3JrIiwgImRlbGF5IiwgInN0YXRlIiwgImRhdGVUaW1lc3RhbXBQcm92aWRlciIsICJBc3luY1NjaGVkdWxlciIsICJfc3VwZXIiLCAiX19leHRlbmRzIiwgIlNjaGVkdWxlckFjdGlvbiIsICJub3ciLCAiU2NoZWR1bGVyIiwgIl90aGlzIiwgImFjdGlvbiIsICJhY3Rpb25zIiwgImVycm9yIiwgImFzeW5jU2NoZWR1bGVyIiwgIkFzeW5jU2NoZWR1bGVyIiwgIkFzeW5jQWN0aW9uIiwgImFzeW5jIiwgIkVNUFRZIiwgIk9ic2VydmFibGUiLCAic3Vic2NyaWJlciIsICJpc1NjaGVkdWxlciIsICJ2YWx1ZSIsICJpc0Z1bmN0aW9uIiwgImxhc3QiLCAiYXJyIiwgInBvcFNjaGVkdWxlciIsICJhcmdzIiwgImlzU2NoZWR1bGVyIiwgImxhc3QiLCAicG9wTnVtYmVyIiwgImRlZmF1bHRWYWx1ZSIsICJpc0FycmF5TGlrZSIsICJ4IiwgImlzUHJvbWlzZSIsICJ2YWx1ZSIsICJpc0Z1bmN0aW9uIiwgImlzSW50ZXJvcE9ic2VydmFibGUiLCAiaW5wdXQiLCAiaXNGdW5jdGlvbiIsICJvYnNlcnZhYmxlIiwgImlzQXN5bmNJdGVyYWJsZSIsICJvYmoiLCAiaXNGdW5jdGlvbiIsICJjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciIsICJpbnB1dCIsICJnZXRTeW1ib2xJdGVyYXRvciIsICJpdGVyYXRvciIsICJpc0l0ZXJhYmxlIiwgImlucHV0IiwgImlzRnVuY3Rpb24iLCAiaXRlcmF0b3IiLCAicmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciIsICJyZWFkYWJsZVN0cmVhbSIsICJyZWFkZXIiLCAiX19hd2FpdCIsICJfYSIsICJfYiIsICJ2YWx1ZSIsICJkb25lIiwgImlzUmVhZGFibGVTdHJlYW1MaWtlIiwgIm9iaiIsICJpc0Z1bmN0aW9uIiwgImlubmVyRnJvbSIsICJpbnB1dCIsICJPYnNlcnZhYmxlIiwgImlzSW50ZXJvcE9ic2VydmFibGUiLCAiZnJvbUludGVyb3BPYnNlcnZhYmxlIiwgImlzQXJyYXlMaWtlIiwgImZyb21BcnJheUxpa2UiLCAiaXNQcm9taXNlIiwgImZyb21Qcm9taXNlIiwgImlzQXN5bmNJdGVyYWJsZSIsICJmcm9tQXN5bmNJdGVyYWJsZSIsICJpc0l0ZXJhYmxlIiwgImZyb21JdGVyYWJsZSIsICJpc1JlYWRhYmxlU3RyZWFtTGlrZSIsICJmcm9tUmVhZGFibGVTdHJlYW1MaWtlIiwgImNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIiwgIm9iaiIsICJzdWJzY3JpYmVyIiwgIm9icyIsICJvYnNlcnZhYmxlIiwgImlzRnVuY3Rpb24iLCAiYXJyYXkiLCAiaSIsICJwcm9taXNlIiwgInZhbHVlIiwgImVyciIsICJyZXBvcnRVbmhhbmRsZWRFcnJvciIsICJpdGVyYWJsZSIsICJpdGVyYWJsZV8xIiwgIl9fdmFsdWVzIiwgIml0ZXJhYmxlXzFfMSIsICJhc3luY0l0ZXJhYmxlIiwgInByb2Nlc3MiLCAicmVhZGFibGVTdHJlYW0iLCAicmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciIsICJhc3luY0l0ZXJhYmxlXzEiLCAiX19hc3luY1ZhbHVlcyIsICJhc3luY0l0ZXJhYmxlXzFfMSIsICJleGVjdXRlU2NoZWR1bGUiLCAicGFyZW50U3Vic2NyaXB0aW9uIiwgInNjaGVkdWxlciIsICJ3b3JrIiwgImRlbGF5IiwgInJlcGVhdCIsICJzY2hlZHVsZVN1YnNjcmlwdGlvbiIsICJvYnNlcnZlT24iLCAic2NoZWR1bGVyIiwgImRlbGF5IiwgIm9wZXJhdGUiLCAic291cmNlIiwgInN1YnNjcmliZXIiLCAiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwgInZhbHVlIiwgImV4ZWN1dGVTY2hlZHVsZSIsICJlcnIiLCAic3Vic2NyaWJlT24iLCAic2NoZWR1bGVyIiwgImRlbGF5IiwgIm9wZXJhdGUiLCAic291cmNlIiwgInN1YnNjcmliZXIiLCAic2NoZWR1bGVPYnNlcnZhYmxlIiwgImlucHV0IiwgInNjaGVkdWxlciIsICJpbm5lckZyb20iLCAic3Vic2NyaWJlT24iLCAib2JzZXJ2ZU9uIiwgInNjaGVkdWxlUHJvbWlzZSIsICJpbnB1dCIsICJzY2hlZHVsZXIiLCAiaW5uZXJGcm9tIiwgInN1YnNjcmliZU9uIiwgIm9ic2VydmVPbiIsICJzY2hlZHVsZUFycmF5IiwgImlucHV0IiwgInNjaGVkdWxlciIsICJPYnNlcnZhYmxlIiwgInN1YnNjcmliZXIiLCAiaSIsICJzY2hlZHVsZUl0ZXJhYmxlIiwgImlucHV0IiwgInNjaGVkdWxlciIsICJPYnNlcnZhYmxlIiwgInN1YnNjcmliZXIiLCAiaXRlcmF0b3IiLCAiZXhlY3V0ZVNjaGVkdWxlIiwgInZhbHVlIiwgImRvbmUiLCAiX2EiLCAiZXJyIiwgImlzRnVuY3Rpb24iLCAic2NoZWR1bGVBc3luY0l0ZXJhYmxlIiwgImlucHV0IiwgInNjaGVkdWxlciIsICJPYnNlcnZhYmxlIiwgInN1YnNjcmliZXIiLCAiZXhlY3V0ZVNjaGVkdWxlIiwgIml0ZXJhdG9yIiwgInJlc3VsdCIsICJzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSIsICJpbnB1dCIsICJzY2hlZHVsZXIiLCAic2NoZWR1bGVBc3luY0l0ZXJhYmxlIiwgInJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IiLCAic2NoZWR1bGVkIiwgImlucHV0IiwgInNjaGVkdWxlciIsICJpc0ludGVyb3BPYnNlcnZhYmxlIiwgInNjaGVkdWxlT2JzZXJ2YWJsZSIsICJpc0FycmF5TGlrZSIsICJzY2hlZHVsZUFycmF5IiwgImlzUHJvbWlzZSIsICJzY2hlZHVsZVByb21pc2UiLCAiaXNBc3luY0l0ZXJhYmxlIiwgInNjaGVkdWxlQXN5bmNJdGVyYWJsZSIsICJpc0l0ZXJhYmxlIiwgInNjaGVkdWxlSXRlcmFibGUiLCAiaXNSZWFkYWJsZVN0cmVhbUxpa2UiLCAic2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UiLCAiY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IiLCAiZnJvbSIsICJpbnB1dCIsICJzY2hlZHVsZXIiLCAic2NoZWR1bGVkIiwgImlubmVyRnJvbSIsICJpc1ZhbGlkRGF0ZSIsICJ2YWx1ZSIsICJtYXAiLCAicHJvamVjdCIsICJ0aGlzQXJnIiwgIm9wZXJhdGUiLCAic291cmNlIiwgInN1YnNjcmliZXIiLCAiaW5kZXgiLCAiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwgInZhbHVlIiwgIm1lcmdlSW50ZXJuYWxzIiwgInNvdXJjZSIsICJzdWJzY3JpYmVyIiwgInByb2plY3QiLCAiY29uY3VycmVudCIsICJvbkJlZm9yZU5leHQiLCAiZXhwYW5kIiwgImlubmVyU3ViU2NoZWR1bGVyIiwgImFkZGl0aW9uYWxGaW5hbGl6ZXIiLCAiYnVmZmVyIiwgImFjdGl2ZSIsICJpbmRleCIsICJpc0NvbXBsZXRlIiwgImNoZWNrQ29tcGxldGUiLCAib3V0ZXJOZXh0IiwgInZhbHVlIiwgImRvSW5uZXJTdWIiLCAiaW5uZXJDb21wbGV0ZSIsICJpbm5lckZyb20iLCAiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwgImlubmVyVmFsdWUiLCAiYnVmZmVyZWRWYWx1ZSIsICJleGVjdXRlU2NoZWR1bGUiLCAiZXJyIiwgIm1lcmdlTWFwIiwgInByb2plY3QiLCAicmVzdWx0U2VsZWN0b3IiLCAiY29uY3VycmVudCIsICJpc0Z1bmN0aW9uIiwgImEiLCAiaSIsICJtYXAiLCAiYiIsICJpaSIsICJpbm5lckZyb20iLCAib3BlcmF0ZSIsICJzb3VyY2UiLCAic3Vic2NyaWJlciIsICJtZXJnZUludGVybmFscyIsICJtZXJnZUFsbCIsICJjb25jdXJyZW50IiwgIm1lcmdlTWFwIiwgImlkZW50aXR5IiwgInRpbWVyIiwgImR1ZVRpbWUiLCAiaW50ZXJ2YWxPclNjaGVkdWxlciIsICJzY2hlZHVsZXIiLCAiYXN5bmMiLCAiaW50ZXJ2YWxEdXJhdGlvbiIsICJpc1NjaGVkdWxlciIsICJPYnNlcnZhYmxlIiwgInN1YnNjcmliZXIiLCAiZHVlIiwgImlzVmFsaWREYXRlIiwgIm4iLCAibWVyZ2UiLCAiYXJncyIsICJfaSIsICJzY2hlZHVsZXIiLCAicG9wU2NoZWR1bGVyIiwgImNvbmN1cnJlbnQiLCAicG9wTnVtYmVyIiwgInNvdXJjZXMiLCAiaW5uZXJGcm9tIiwgIm1lcmdlQWxsIiwgImZyb20iLCAiRU1QVFkiLCAiZmlsdGVyIiwgInByZWRpY2F0ZSIsICJ0aGlzQXJnIiwgIm9wZXJhdGUiLCAic291cmNlIiwgInN1YnNjcmliZXIiLCAiaW5kZXgiLCAiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwgInZhbHVlIiwgImlnbm9yZUVsZW1lbnRzIiwgIm9wZXJhdGUiLCAic291cmNlIiwgInN1YnNjcmliZXIiLCAiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwgIm5vb3AiLCAicmV0cnkiLCAiY29uZmlnT3JDb3VudCIsICJjb25maWciLCAiX2EiLCAiY291bnQiLCAiZGVsYXkiLCAiX2IiLCAicmVzZXRPblN1Y2Nlc3MiLCAiaWRlbnRpdHkiLCAib3BlcmF0ZSIsICJzb3VyY2UiLCAic3Vic2NyaWJlciIsICJzb0ZhciIsICJpbm5lclN1YiIsICJzdWJzY3JpYmVGb3JSZXRyeSIsICJzeW5jVW5zdWIiLCAiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwgInZhbHVlIiwgImVyciIsICJyZXN1Yl8xIiwgIm5vdGlmaWVyIiwgInRpbWVyIiwgImlubmVyRnJvbSIsICJub3RpZmllclN1YnNjcmliZXJfMSIsICJzaGFyZSIsICJvcHRpb25zIiwgIl9hIiwgImNvbm5lY3RvciIsICJTdWJqZWN0IiwgIl9iIiwgInJlc2V0T25FcnJvciIsICJfYyIsICJyZXNldE9uQ29tcGxldGUiLCAiX2QiLCAicmVzZXRPblJlZkNvdW50WmVybyIsICJ3cmFwcGVyU291cmNlIiwgImNvbm5lY3Rpb24iLCAicmVzZXRDb25uZWN0aW9uIiwgInN1YmplY3QiLCAicmVmQ291bnQiLCAiaGFzQ29tcGxldGVkIiwgImhhc0Vycm9yZWQiLCAiY2FuY2VsUmVzZXQiLCAicmVzZXQiLCAicmVzZXRBbmRVbnN1YnNjcmliZSIsICJjb25uIiwgIm9wZXJhdGUiLCAic291cmNlIiwgInN1YnNjcmliZXIiLCAiZGVzdCIsICJoYW5kbGVSZXNldCIsICJTYWZlU3Vic2NyaWJlciIsICJ2YWx1ZSIsICJlcnIiLCAiaW5uZXJGcm9tIiwgIm9uIiwgImFyZ3MiLCAiX2kiLCAib25TdWJzY3JpYmVyIiwgIl9fc3ByZWFkQXJyYXkiLCAiX19yZWFkIiwgInN3aXRjaE1hcCIsICJwcm9qZWN0IiwgInJlc3VsdFNlbGVjdG9yIiwgIm9wZXJhdGUiLCAic291cmNlIiwgInN1YnNjcmliZXIiLCAiaW5uZXJTdWJzY3JpYmVyIiwgImluZGV4IiwgImlzQ29tcGxldGUiLCAiY2hlY2tDb21wbGV0ZSIsICJjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIiLCAidmFsdWUiLCAiaW5uZXJJbmRleCIsICJvdXRlckluZGV4IiwgImlubmVyRnJvbSIsICJpbm5lclZhbHVlIiwgInRhcCIsICJvYnNlcnZlck9yTmV4dCIsICJlcnJvciIsICJjb21wbGV0ZSIsICJ0YXBPYnNlcnZlciIsICJpc0Z1bmN0aW9uIiwgIm9wZXJhdGUiLCAic291cmNlIiwgInN1YnNjcmliZXIiLCAiX2EiLCAiaXNVbnN1YiIsICJjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIiLCAidmFsdWUiLCAiZXJyIiwgIl9iIiwgImlkZW50aXR5IiwgIkRFRkFVTFRfV0VCU09DS0VUX0NPTkZJRyIsICJlIiwgInZhbHVlIiwgIldFQlNPQ0tFVFNVQkpFQ1RfSU5WQUxJRF9FUlJPUl9PQkpFQ1QiLCAiV2ViU29ja2V0U3ViamVjdCIsICJfc3VwZXIiLCAiX19leHRlbmRzIiwgInVybENvbmZpZ09yU291cmNlIiwgImRlc3RpbmF0aW9uIiwgIl90aGlzIiwgIk9ic2VydmFibGUiLCAiY29uZmlnIiwgIl9fYXNzaWduIiwgIlN1YmplY3QiLCAia2V5IiwgIlJlcGxheVN1YmplY3QiLCAib3BlcmF0b3IiLCAic29jayIsICJzdWJNc2ciLCAidW5zdWJNc2ciLCAibWVzc2FnZUZpbHRlciIsICJzZWxmIiwgIm9ic2VydmVyIiwgImVyciIsICJzdWJzY3JpcHRpb24iLCAieCIsICJfYSIsICJXZWJTb2NrZXRDdG9yIiwgInByb3RvY29sIiwgInVybCIsICJiaW5hcnlUeXBlIiwgInNvY2tldCIsICJTdWJzY3JpcHRpb24iLCAiZXZ0IiwgIl9zb2NrZXQiLCAib3Blbk9ic2VydmVyIiwgInF1ZXVlIiwgIlN1YnNjcmliZXIiLCAic2VyaWFsaXplciIsICJjbG9zaW5nT2JzZXJ2ZXIiLCAiY2xvc2VPYnNlcnZlciIsICJkZXNlcmlhbGl6ZXIiLCAic3Vic2NyaWJlciIsICJzb3VyY2UiLCAiQW5vbnltb3VzU3ViamVjdCIsICJ3ZWJTb2NrZXQiLCAidXJsQ29uZmlnT3JTb3VyY2UiLCAiV2ViU29ja2V0U3ViamVjdCIsICJ3cyIsICJ1cmwiLCAid2ViU29ja2V0IiwgInJldHJ5IiwgIk5VTExfQ09OU09MRSIsICJkYXRhIiwgImNvbnNvbGVQbHVnaW4iLCAiZXZlbnRzIiwgInN1YmplY3QiLCAiU3ViamVjdCIsICJldmVudHMkIiwgIl9hcGkiLCAiY29uZmlnIiwgInRhcCIsICJldnQiLCAibGV2ZWxPcmRlciIsICJjdXJyZW50TGV2ZWxJbmRleCIsICJjb25maWdMZXZlbEluZGV4IiwgImlnbm9yZUVsZW1lbnRzIiwgInV0aWwiLCAidmFsIiwgImFzc2VydElzIiwgIl9hcmciLCAiYXNzZXJ0TmV2ZXIiLCAiX3giLCAiaXRlbXMiLCAib2JqIiwgIml0ZW0iLCAidmFsaWRLZXlzIiwgImsiLCAiZmlsdGVyZWQiLCAiZSIsICJvYmplY3QiLCAia2V5cyIsICJrZXkiLCAiYXJyIiwgImNoZWNrZXIiLCAiam9pblZhbHVlcyIsICJhcnJheSIsICJzZXBhcmF0b3IiLCAiXyIsICJ2YWx1ZSIsICJvYmplY3RVdGlsIiwgImZpcnN0IiwgInNlY29uZCIsICJab2RQYXJzZWRUeXBlIiwgImdldFBhcnNlZFR5cGUiLCAiZGF0YSIsICJab2RJc3N1ZUNvZGUiLCAicXVvdGVsZXNzSnNvbiIsICJab2RFcnJvciIsICJfWm9kRXJyb3IiLCAiaXNzdWVzIiwgInN1YiIsICJzdWJzIiwgImFjdHVhbFByb3RvIiwgIl9tYXBwZXIiLCAibWFwcGVyIiwgImlzc3VlIiwgImZpZWxkRXJyb3JzIiwgInByb2Nlc3NFcnJvciIsICJlcnJvciIsICJjdXJyIiwgImkiLCAiZWwiLCAiZm9ybUVycm9ycyIsICJlcnJvck1hcCIsICJfY3R4IiwgIm1lc3NhZ2UiLCAib3ZlcnJpZGVFcnJvck1hcCIsICJzZXRFcnJvck1hcCIsICJtYXAiLCAiZ2V0RXJyb3JNYXAiLCAibWFrZUlzc3VlIiwgInBhcmFtcyIsICJwYXRoIiwgImVycm9yTWFwcyIsICJpc3N1ZURhdGEiLCAiZnVsbFBhdGgiLCAiZnVsbElzc3VlIiwgImVycm9yTWVzc2FnZSIsICJtYXBzIiwgIm0iLCAiRU1QVFlfUEFUSCIsICJhZGRJc3N1ZVRvQ29udGV4dCIsICJjdHgiLCAib3ZlcnJpZGVNYXAiLCAieCIsICJQYXJzZVN0YXR1cyIsICJfUGFyc2VTdGF0dXMiLCAic3RhdHVzIiwgInJlc3VsdHMiLCAiYXJyYXlWYWx1ZSIsICJzIiwgIklOVkFMSUQiLCAicGFpcnMiLCAic3luY1BhaXJzIiwgInBhaXIiLCAiZmluYWxPYmplY3QiLCAiRElSVFkiLCAiT0siLCAiaXNBYm9ydGVkIiwgImlzRGlydHkiLCAiaXNWYWxpZCIsICJpc0FzeW5jIiwgIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCAicmVjZWl2ZXIiLCAic3RhdGUiLCAia2luZCIsICJmIiwgIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLCAiZXJyb3JVdGlsIiwgIm1lc3NhZ2UiLCAiX1pvZEVudW1fY2FjaGUiLCAiX1pvZE5hdGl2ZUVudW1fY2FjaGUiLCAiUGFyc2VJbnB1dExhenlQYXRoIiwgInBhcmVudCIsICJ2YWx1ZSIsICJwYXRoIiwgImtleSIsICJoYW5kbGVSZXN1bHQiLCAiY3R4IiwgInJlc3VsdCIsICJpc1ZhbGlkIiwgImVycm9yIiwgIlpvZEVycm9yIiwgInByb2Nlc3NDcmVhdGVQYXJhbXMiLCAicGFyYW1zIiwgImVycm9yTWFwIiwgImludmFsaWRfdHlwZV9lcnJvciIsICJyZXF1aXJlZF9lcnJvciIsICJkZXNjcmlwdGlvbiIsICJpc3MiLCAiX2EiLCAiX2IiLCAiWm9kVHlwZSIsICJkZWYiLCAiaW5wdXQiLCAiZ2V0UGFyc2VkVHlwZSIsICJQYXJzZVN0YXR1cyIsICJpc0FzeW5jIiwgImRhdGEiLCAibWF5YmVBc3luY1Jlc3VsdCIsICJjaGVjayIsICJnZXRJc3N1ZVByb3BlcnRpZXMiLCAidmFsIiwgInNldEVycm9yIiwgIlpvZElzc3VlQ29kZSIsICJyZWZpbmVtZW50RGF0YSIsICJyZWZpbmVtZW50IiwgIlpvZEVmZmVjdHMiLCAiWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIiwgIlpvZE9wdGlvbmFsIiwgIlpvZE51bGxhYmxlIiwgIlpvZEFycmF5IiwgIlpvZFByb21pc2UiLCAib3B0aW9uIiwgIlpvZFVuaW9uIiwgImluY29taW5nIiwgIlpvZEludGVyc2VjdGlvbiIsICJ0cmFuc2Zvcm0iLCAiZGVmYXVsdFZhbHVlRnVuYyIsICJab2REZWZhdWx0IiwgIlpvZEJyYW5kZWQiLCAiY2F0Y2hWYWx1ZUZ1bmMiLCAiWm9kQ2F0Y2giLCAiVGhpcyIsICJ0YXJnZXQiLCAiWm9kUGlwZWxpbmUiLCAiWm9kUmVhZG9ubHkiLCAiY3VpZFJlZ2V4IiwgImN1aWQyUmVnZXgiLCAidWxpZFJlZ2V4IiwgInV1aWRSZWdleCIsICJuYW5vaWRSZWdleCIsICJkdXJhdGlvblJlZ2V4IiwgImVtYWlsUmVnZXgiLCAiX2Vtb2ppUmVnZXgiLCAiZW1vamlSZWdleCIsICJpcHY0UmVnZXgiLCAiaXB2NlJlZ2V4IiwgImJhc2U2NFJlZ2V4IiwgImRhdGVSZWdleFNvdXJjZSIsICJkYXRlUmVnZXgiLCAidGltZVJlZ2V4U291cmNlIiwgImFyZ3MiLCAicmVnZXgiLCAidGltZVJlZ2V4IiwgImRhdGV0aW1lUmVnZXgiLCAib3B0cyIsICJpc1ZhbGlkSVAiLCAiaXAiLCAidmVyc2lvbiIsICJab2RTdHJpbmciLCAiX1pvZFN0cmluZyIsICJab2RQYXJzZWRUeXBlIiwgImFkZElzc3VlVG9Db250ZXh0IiwgIklOVkFMSUQiLCAic3RhdHVzIiwgInRvb0JpZyIsICJ0b29TbWFsbCIsICJ1dGlsIiwgInZhbGlkYXRpb24iLCAib3B0aW9ucyIsICJtaW5MZW5ndGgiLCAibWF4TGVuZ3RoIiwgImxlbiIsICJjaCIsICJtaW4iLCAibWF4IiwgImZsb2F0U2FmZVJlbWFpbmRlciIsICJzdGVwIiwgInZhbERlY0NvdW50IiwgInN0ZXBEZWNDb3VudCIsICJkZWNDb3VudCIsICJ2YWxJbnQiLCAic3RlcEludCIsICJab2ROdW1iZXIiLCAiX1pvZE51bWJlciIsICJraW5kIiwgImluY2x1c2l2ZSIsICJab2RCaWdJbnQiLCAiX1pvZEJpZ0ludCIsICJab2RCb29sZWFuIiwgIk9LIiwgIlpvZERhdGUiLCAiX1pvZERhdGUiLCAibWluRGF0ZSIsICJtYXhEYXRlIiwgIlpvZFN5bWJvbCIsICJab2RVbmRlZmluZWQiLCAiWm9kTnVsbCIsICJab2RBbnkiLCAiWm9kVW5rbm93biIsICJab2ROZXZlciIsICJab2RWb2lkIiwgIl9ab2RBcnJheSIsICJpdGVtIiwgImkiLCAic2NoZW1hIiwgImRlZXBQYXJ0aWFsaWZ5IiwgIlpvZE9iamVjdCIsICJuZXdTaGFwZSIsICJmaWVsZFNjaGVtYSIsICJab2RUdXBsZSIsICJfWm9kT2JqZWN0IiwgInNoYXBlIiwgImtleXMiLCAic2hhcGVLZXlzIiwgImV4dHJhS2V5cyIsICJwYWlycyIsICJrZXlWYWxpZGF0b3IiLCAidW5rbm93bktleXMiLCAiY2F0Y2hhbGwiLCAic3luY1BhaXJzIiwgInBhaXIiLCAiaXNzdWUiLCAiX2MiLCAiX2QiLCAiZGVmYXVsdEVycm9yIiwgImF1Z21lbnRhdGlvbiIsICJtZXJnaW5nIiwgImluZGV4IiwgIm1hc2siLCAibmV3RmllbGQiLCAiY3JlYXRlWm9kRW51bSIsICJoYW5kbGVSZXN1bHRzIiwgInJlc3VsdHMiLCAidW5pb25FcnJvcnMiLCAiY2hpbGRDdHgiLCAiZGlydHkiLCAiaXNzdWVzIiwgInR5cGVzIiwgImdldERpc2NyaW1pbmF0b3IiLCAidHlwZSIsICJab2RMYXp5IiwgIlpvZExpdGVyYWwiLCAiWm9kRW51bSIsICJab2ROYXRpdmVFbnVtIiwgIlpvZERpc2NyaW1pbmF0ZWRVbmlvbiIsICJfWm9kRGlzY3JpbWluYXRlZFVuaW9uIiwgImRpc2NyaW1pbmF0b3IiLCAiZGlzY3JpbWluYXRvclZhbHVlIiwgIm9wdGlvbnNNYXAiLCAiZGlzY3JpbWluYXRvclZhbHVlcyIsICJtZXJnZVZhbHVlcyIsICJhIiwgImIiLCAiYVR5cGUiLCAiYlR5cGUiLCAiYktleXMiLCAic2hhcmVkS2V5cyIsICJuZXdPYmoiLCAic2hhcmVkVmFsdWUiLCAibmV3QXJyYXkiLCAiaXRlbUEiLCAiaXRlbUIiLCAiaGFuZGxlUGFyc2VkIiwgInBhcnNlZExlZnQiLCAicGFyc2VkUmlnaHQiLCAiaXNBYm9ydGVkIiwgIm1lcmdlZCIsICJpc0RpcnR5IiwgImxlZnQiLCAicmlnaHQiLCAiX1pvZFR1cGxlIiwgIml0ZW1zIiwgIml0ZW1JbmRleCIsICJ4IiwgInJlc3QiLCAic2NoZW1hcyIsICJab2RSZWNvcmQiLCAiX1pvZFJlY29yZCIsICJrZXlUeXBlIiwgInZhbHVlVHlwZSIsICJmaXJzdCIsICJzZWNvbmQiLCAidGhpcmQiLCAiWm9kTWFwIiwgImZpbmFsTWFwIiwgIlpvZFNldCIsICJfWm9kU2V0IiwgImZpbmFsaXplU2V0IiwgImVsZW1lbnRzIiwgInBhcnNlZFNldCIsICJlbGVtZW50IiwgIm1pblNpemUiLCAibWF4U2l6ZSIsICJzaXplIiwgIlpvZEZ1bmN0aW9uIiwgIl9ab2RGdW5jdGlvbiIsICJtYWtlQXJnc0lzc3VlIiwgIm1ha2VJc3N1ZSIsICJnZXRFcnJvck1hcCIsICJtYWtlUmV0dXJuc0lzc3VlIiwgInJldHVybnMiLCAiZm4iLCAibWUiLCAicGFyc2VkQXJncyIsICJlIiwgInBhcnNlZFJldHVybnMiLCAicmV0dXJuVHlwZSIsICJmdW5jIiwgImdldHRlciIsICJ2YWx1ZXMiLCAiX1pvZEVudW0iLCAiZXhwZWN0ZWRWYWx1ZXMiLCAiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsICJfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IiwgImVudW1WYWx1ZXMiLCAibmV3RGVmIiwgIm9wdCIsICJuYXRpdmVFbnVtVmFsdWVzIiwgInByb21pc2lmaWVkIiwgImVmZmVjdCIsICJjaGVja0N0eCIsICJhcmciLCAicHJvY2Vzc2VkIiwgIkRJUlRZIiwgImV4ZWN1dGVSZWZpbmVtZW50IiwgImFjYyIsICJpbm5lciIsICJiYXNlIiwgInByZXByb2Nlc3MiLCAibmV3Q3R4IiwgIlpvZE5hTiIsICJCUkFORCIsICJfWm9kUGlwZWxpbmUiLCAiaW5SZXN1bHQiLCAiZnJlZXplIiwgImN1c3RvbSIsICJmYXRhbCIsICJwIiwgIl9mYXRhbCIsICJwMiIsICJsYXRlIiwgImluc3RhbmNlT2ZUeXBlIiwgImNscyIsICJzdHJpbmdUeXBlIiwgIm51bWJlclR5cGUiLCAibmFuVHlwZSIsICJiaWdJbnRUeXBlIiwgImJvb2xlYW5UeXBlIiwgImRhdGVUeXBlIiwgInN5bWJvbFR5cGUiLCAidW5kZWZpbmVkVHlwZSIsICJudWxsVHlwZSIsICJhbnlUeXBlIiwgInVua25vd25UeXBlIiwgIm5ldmVyVHlwZSIsICJ2b2lkVHlwZSIsICJhcnJheVR5cGUiLCAib2JqZWN0VHlwZSIsICJzdHJpY3RPYmplY3RUeXBlIiwgInVuaW9uVHlwZSIsICJkaXNjcmltaW5hdGVkVW5pb25UeXBlIiwgImludGVyc2VjdGlvblR5cGUiLCAidHVwbGVUeXBlIiwgInJlY29yZFR5cGUiLCAibWFwVHlwZSIsICJzZXRUeXBlIiwgImZ1bmN0aW9uVHlwZSIsICJsYXp5VHlwZSIsICJsaXRlcmFsVHlwZSIsICJlbnVtVHlwZSIsICJuYXRpdmVFbnVtVHlwZSIsICJwcm9taXNlVHlwZSIsICJlZmZlY3RzVHlwZSIsICJvcHRpb25hbFR5cGUiLCAibnVsbGFibGVUeXBlIiwgInByZXByb2Nlc3NUeXBlIiwgInBpcGVsaW5lVHlwZSIsICJvc3RyaW5nIiwgIm9udW1iZXIiLCAib2Jvb2xlYW4iLCAiY29lcmNlIiwgIk5FVkVSIiwgInoiLCAic2V0RXJyb3JNYXAiLCAiRU1QVFlfUEFUSCIsICJvYmplY3RVdGlsIiwgInF1b3RlbGVzc0pzb24iLCAiTG9nTGV2ZWxEVE8iLCAiTG9nTGV2ZWxEVE8yIiwgIkV2ZW50TGV2ZWwiLCAiRXZlbnRMZXZlbDIiLCAiQ2hhbmdlS2luZCIsICJDaGFuZ2VLaW5kMiIsICJyb3V0ZUtpbmREVE9TY2hlbWEiLCAieiIsICJyb3V0ZURUT1NjaGVtYSIsICJzZXJ2ZXJEZXNjU2NoZW1hIiwgInNlcnZlcklkZW50aXR5RFRPU2NoZW1hIiwgInNlcnZlckRUT1NjaGVtYSIsICJnZXRTZXJ2ZXJzTWVzc2FnZVJlc3BvbnNlRFRPU2NoZW1hIiwgInNlcnZlcnNDaGFuZ2VkRFRPU2NoZW1hIiwgImlucHV0QWNjZXB0ZWREVE9TY2hlbWEiLCAiZmlsZUNoYW5nZWREVE9TY2hlbWEiLCAiZmlsZXNDaGFuZ2VkRFRPU2NoZW1hIiwgImRlYm91bmNlRFRPU2NoZW1hIiwgIndhdGNoaW5nRFRPU2NoZW1hIiwgInN0b3BwZWRXYXRjaGluZ0RUT1NjaGVtYSIsICJzZXJ2ZXJDaGFuZ2VTY2hlbWEiLCAic2VydmVyQ2hhbmdlU2V0SXRlbVNjaGVtYSIsICJzZXJ2ZXJDaGFuZ2VTZXRTY2hlbWEiLCAibG9nTGV2ZWxEVE9TY2hlbWEiLCAiY2xpZW50Q29uZmlnRFRPU2NoZW1hIiwgImludGVybmFsRXZlbnRzRFRPU2NoZW1hIiwgImV2ZW50TGV2ZWxTY2hlbWEiLCAiZXh0ZXJuYWxFdmVudHNEVE9TY2hlbWEiLCAic3RhcnR1cEV2ZW50RFRPU2NoZW1hIiwgImlucHV0RXJyb3JEVE9TY2hlbWEiLCAiY2hhbmdlS2luZFNjaGVtYSIsICJjaGFuZ2VEVE9TY2hlbWEiLCAiY2xpZW50RXZlbnRTY2hlbWEiLCAiSU1BR0VfU1RZTEVTIiwgIkRFRkFVTFRfT1BUSU9OUyIsICJJTUFHRVNfUkVHRVgiLCAiUmVsb2FkZXIiLCAid2luZG93IiwgImNvbnNvbGUiLCAiVGltZXIiLCAicGx1Z2luIiwgImNhbGxiYWNrIiwgInBhdGgiLCAib3B0aW9ucyIsICJpbWciLCAiZXhwYW5kbyIsICJwYXRoc01hdGNoIiwgInBhdGhGcm9tVXJsIiwgInNlbGVjdG9yIiwgInN0eWxlTmFtZXMiLCAic3R5bGVTaGVldCIsICJydWxlcyIsICJydWxlIiwgInN0eWxlIiwgInN0eWxlTmFtZSIsICJ2YWx1ZSIsICJuZXdWYWx1ZSIsICJtYXRjaCIsICJzcmMiLCAibGluayIsICJsaW5rcyIsICJyZXN1bHQiLCAiaW1wb3J0ZWQiLCAicGlja0Jlc3RNYXRjaCIsICJpbmRleCIsICJjbG9uZSIsICJmdW5jIiwgImNhbGxiYWNrRXhlY3V0ZWQiLCAiZXhlY3V0ZUNhbGxiYWNrIiwgInBvbGwiLCAicGFyZW50IiwgImFkZGl0aW9uYWxXYWl0aW5nVGltZSIsICJocmVmIiwgIm1lZGlhIiwgIm5ld1J1bGUiLCAidGVtcExpbmsiLCAidXJsIiwgImhhc2giLCAib2xkUGFyYW1zIiwgInNwbGl0VXJsIiwgIm9yaWdpbmFsVXJsIiwgInBhcmFtcyIsICJzZXAiLCAiY29tYm9TaWduIiwgIm51bWJlck9mTWF0Y2hpbmdTZWdtZW50cyIsICJsZWZ0IiwgInJpZ2h0IiwgImNvbXBzMSIsICJjb21wczIiLCAibGVuIiwgImVxQ291bnQiLCAib2JqZWN0cyIsICJwYXRoRnVuYyIsICJzIiwgInNjb3JlIiwgImJlc3RNYXRjaCIsICJvYmplY3QiLCAiaW1wb3J0X3RpbWVyIiwgIklNQUdFU19SRUdFWCIsICJjaGFuZ2VkUGF0aCIsICJjaGFuZ2UiLCAibG9nIiwgImFwaSIsICJjaGFuZ2VEVE8iLCAicGF0aCIsICJvcHRzIiwgImRvbVBsdWdpbiIsICJjbGllbnRFdmVudHMkIiwgImxvZyIsICJyZWxvYWRlciIsICJSZWxvYWRlciIsICJjbGllbnRFdmVudCQiLCAiYXBpIiwgImNvbmZpZyIsICJmaWx0ZXIiLCAieCIsICJtYXAiLCAidGFwIiwgImNoYW5nZSIsICJwYXJzZWQiLCAiY2hhbmdlRFRPU2NoZW1hIiwgImNoYW5nZWRQYXRoIiwgImlnbm9yZUVsZW1lbnRzIiwgInByb2R1Y2VyIiwgIndzIiwgImNsaWVudEV2ZW50JCIsICJsb2dFdmVudCQiLCAibG9nIiwgImNvbnNvbGVQbHVnaW4iLCAiTlVMTF9DT05TT0xFIiwgImRvbUV2ZW50cyQiLCAiZG9tQXBpcyIsICJkb21QbHVnaW4iLCAiY29ubmVjdGlvbiQiLCAiZmlsdGVyIiwgIngiLCAibWFwIiwgInNoYXJlIiwgImNvbmZpZyQiLCAiY2hhbmdlJCIsICJtZXJnZSIsICJzd2l0Y2hNYXAiLCAiY29uZmlnIiwgInNpbmtzIl0KfQo=
